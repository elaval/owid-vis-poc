// @elaval/owid-vis-poc v0.1.1 Copyright

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).owidVis=t.owidVis||{})}(this,(function(t){"use strict";function n(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function e(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function r(t){let r,o,a;function u(t,n,e=0,i=t.length){if(e<i){if(0!==r(n,n))return i;do{const r=e+i>>>1;o(t[r],n)<0?e=r+1:i=r}while(e<i)}return e}return 2!==t.length?(r=n,o=(e,r)=>n(t(e),r),a=(n,e)=>t(n)-e):(r=t===n||t===e?t:i,o=t,a=t),{left:u,center:function(t,n,e=0,r=t.length){const i=u(t,n,e,r-1);return i>e&&a(t[i-1],n)>-a(t[i],n)?i-1:i},right:function(t,n,e=0,i=t.length){if(e<i){if(0!==r(n,n))return i;do{const r=e+i>>>1;o(t[r],n)<=0?e=r+1:i=r}while(e<i)}return e}}}function i(){return 0}const o=r(n).right;r((function(t){return null===t?NaN:+t})).center;var a=o;function u(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class s extends Map{constructor(t,n=c){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(l(this,t))}has(t){return super.has(l(this,t))}set(t,n){return super.set(function({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}(this,t),n)}delete(t){return super.delete(function({_intern:t,_key:n},e){const r=n(e);t.has(r)&&(e=t.get(r),t.delete(r));return e}(this,t))}}function l({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function c(t){return null!==t&&"object"==typeof t?t.valueOf():t}var f=Math.sqrt(50),h=Math.sqrt(10),p=Math.sqrt(2);function d(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=f?10:o>=h?5:o>=p?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=f?10:o>=h?5:o>=p?2:1)}function g(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function v(t){return t}var y=1e-6;function _(t){return"translate("+t+",0)"}function m(t){return"translate(0,"+t+")"}function w(t){return n=>+t(n)}function x(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function b(){return!this.__axis}function k(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",f=1===t||3===t?_:m;function h(h){var p=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):v:i,g=Math.max(o,0)+u,_=n.range(),m=+_[0]+s,k=+_[_.length-1]+s,M=(n.bandwidth?x:w)(n.copy(),s),A=h.selection?h.selection():h,C=A.selectAll(".domain").data([null]),N=A.selectAll(".tick").data(p,n).order(),S=N.exit(),T=N.enter().append("g").attr("class","tick"),j=N.select("line"),$=N.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(T),j=j.merge(T.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),$=$.merge(T.append("text").attr("fill","currentColor").attr(c,l*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==A&&(C=C.transition(h),N=N.transition(h),j=j.transition(h),$=$.transition(h),S=S.transition(h).attr("opacity",y).attr("transform",(function(t){return isFinite(t=M(t))?f(t+s):this.getAttribute("transform")})),T.attr("opacity",y).attr("transform",(function(t){var n=this.parentNode.__axis;return f((n&&isFinite(n=n(t))?n:M(t))+s)}))),S.remove(),C.attr("d",4===t||2===t?a?"M"+l*a+","+m+"H"+s+"V"+k+"H"+l*a:"M"+s+","+m+"V"+k:a?"M"+m+","+l*a+"V"+s+"H"+k+"V"+l*a:"M"+m+","+s+"H"+k),N.attr("opacity",1).attr("transform",(function(t){return f(M(t)+s)})),j.attr(c+"2",l*o),$.attr(c,l*g).text(d),A.filter(b).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),A.each((function(){this.__axis=M}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h.offset=function(t){return arguments.length?(s=+t,h):s},h}function M(t){return k(3,t)}function A(t){return k(4,t)}var C={value:()=>{}};function N(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new S(r)}function S(t){this._=t}function T(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function j(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function $(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=C,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}S.prototype=N.prototype={constructor:S,on:function(t,n){var e,r=this._,i=T(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=$(r[e],t.name,n);else if(null==n)for(e in r)r[e]=$(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=j(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new S(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var E="http://www.w3.org/1999/xhtml",z={svg:"http://www.w3.org/2000/svg",xhtml:E,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function R(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),z.hasOwnProperty(n)?{space:z[n],local:t}:t}function L(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===E&&n.documentElement.namespaceURI===E?n.createElement(t):n.createElementNS(e,t)}}function O(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function I(t){var n=R(t);return(n.local?O:L)(n)}function Y(){}function D(t){return null==t?Y:function(){return this.querySelector(t)}}function W(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function B(){return[]}function X(t){return null==t?B:function(){return this.querySelectorAll(t)}}function P(t){return function(){return this.matches(t)}}function V(t){return function(n){return n.matches(t)}}var q=Array.prototype.find;function U(){return this.firstElementChild}var F=Array.prototype.filter;function G(){return Array.from(this.children)}function H(t){return new Array(t.length)}function Z(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function K(t){return function(){return t}}function J(t,n,e,r,i,o){for(var a,u=0,s=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Z(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function Q(t,n,e,r,i,o,a){var u,s,l,c=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=l=a.call(s,s.__data__,u,n)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<h;++u)l=a.call(t,o[u],u,o)+"",(s=c.get(l))?(r[u]=s,s.__data__=o[u],c.delete(l)):e[u]=new Z(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&c.get(p[u])===s&&(i[u]=s)}function tt(t){return t.__data__}function nt(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function et(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function rt(t){return function(){this.removeAttribute(t)}}function it(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ot(t,n){return function(){this.setAttribute(t,n)}}function at(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ut(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function st(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function lt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ct(t){return function(){this.style.removeProperty(t)}}function ft(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ht(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function pt(t,n){return t.style.getPropertyValue(n)||lt(t).getComputedStyle(t,null).getPropertyValue(n)}function dt(t){return function(){delete this[t]}}function gt(t,n){return function(){this[t]=n}}function vt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function yt(t){return t.trim().split(/^|\s+/)}function _t(t){return t.classList||new mt(t)}function mt(t){this._node=t,this._names=yt(t.getAttribute("class")||"")}function wt(t,n){for(var e=_t(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function xt(t,n){for(var e=_t(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function bt(t){return function(){wt(this,t)}}function kt(t){return function(){xt(this,t)}}function Mt(t,n){return function(){(n.apply(this,arguments)?wt:xt)(this,t)}}function At(){this.textContent=""}function Ct(t){return function(){this.textContent=t}}function Nt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function St(){this.innerHTML=""}function Tt(t){return function(){this.innerHTML=t}}function jt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function $t(){this.nextSibling&&this.parentNode.appendChild(this)}function Et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zt(){return null}function Rt(){var t=this.parentNode;t&&t.removeChild(this)}function Lt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ot(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function It(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Yt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Dt(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Wt(t,n,e){var r=lt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Bt(t,n){return function(){return Wt(this,t,n)}}function Xt(t,n){return function(){return Wt(this,t,n.apply(this,arguments))}}Z.prototype={constructor:Z,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},mt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Pt=[null];function Vt(t,n){this._groups=t,this._parents=n}function qt(){return new Vt([[document.documentElement]],Pt)}function Ut(t){return function(t){return"string"==typeof t?new Vt([[document.querySelector(t)]],[document.documentElement]):new Vt([[t]],Pt)}(I(t).call(document.documentElement))}function Ft(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Gt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Ht(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Zt(){}Vt.prototype=qt.prototype={constructor:Vt,select:function(t){"function"!=typeof t&&(t=D(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Vt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return W(t.apply(this,arguments))}}(t):X(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new Vt(r,i)},selectChild:function(t){return this.select(null==t?U:function(t){return function(){return q.call(this.children,t)}}("function"==typeof t?t:V(t)))},selectChildren:function(t){return this.selectAll(null==t?G:function(t){return function(){return F.call(this.children,t)}}("function"==typeof t?t:V(t)))},filter:function(t){"function"!=typeof t&&(t=P(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new Vt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,tt);var e=n?Q:J,r=this._parents,i=this._groups;"function"!=typeof t&&(t=K(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],h=f.length,p=nt(t.call(c,c&&c.__data__,l,r)),d=p.length,g=u[l]=new Array(d),v=a[l]=new Array(d),y=s[l]=new Array(h);e(c,f,g,v,y,p,n);for(var _,m,w=0,x=0;w<d;++w)if(_=g[w]){for(w>=x&&(x=w+1);!(m=v[x])&&++x<d;);_._next=m||null}}return(a=new Vt(a,r))._enter=u,a._exit=s,a},enter:function(){return new Vt(this._enter||this._groups.map(H),this._parents)},exit:function(){return new Vt(this._exit||this._groups.map(H),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var l,c=e[s],f=r[s],h=c.length,p=u[s]=new Array(h),d=0;d<h;++d)(l=c[d]||f[d])&&(p[d]=l);for(;s<i;++s)u[s]=e[s];return new Vt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=et);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(n)}return new Vt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=R(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?it:rt:"function"==typeof n?e.local?st:ut:e.local?at:ot)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?ct:"function"==typeof n?ht:ft)(t,n,null==e?"":e)):pt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?dt:"function"==typeof n?vt:gt)(t,n)):this.node()[t]},classed:function(t,n){var e=yt(t+"");if(arguments.length<2){for(var r=_t(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Mt:n?bt:kt)(e,n))},text:function(t){return arguments.length?this.each(null==t?At:("function"==typeof t?Nt:Ct)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?St:("function"==typeof t?jt:Tt)(t)):this.node().innerHTML},raise:function(){return this.each($t)},lower:function(){return this.each(Et)},append:function(t){var n="function"==typeof t?t:I(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:I(t),r=null==n?zt:"function"==typeof n?n:D(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Rt)},clone:function(t){return this.select(t?Ot:Lt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=It(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Dt:Yt,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Xt:Bt)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Kt=.7,Jt=1/Kt,Qt="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",en=/^#([0-9a-f]{3,8})$/,rn=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),on=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),an=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${tn}\\)$`),un=new RegExp(`^rgba\\(${nn},${nn},${nn},${tn}\\)$`),sn=new RegExp(`^hsl\\(${tn},${nn},${nn}\\)$`),ln=new RegExp(`^hsla\\(${tn},${nn},${nn},${tn}\\)$`),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fn(){return this.rgb().formatHex()}function hn(){return this.rgb().formatRgb()}function pn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=en.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?dn(n):3===e?new _n(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?gn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?gn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=rn.exec(t))?new _n(n[1],n[2],n[3],1):(n=on.exec(t))?new _n(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=an.exec(t))?gn(n[1],n[2],n[3],n[4]):(n=un.exec(t))?gn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=sn.exec(t))?Mn(n[1],n[2]/100,n[3]/100,1):(n=ln.exec(t))?Mn(n[1],n[2]/100,n[3]/100,n[4]):cn.hasOwnProperty(t)?dn(cn[t]):"transparent"===t?new _n(NaN,NaN,NaN,0):null}function dn(t){return new _n(t>>16&255,t>>8&255,255&t,1)}function gn(t,n,e,r){return r<=0&&(t=n=e=NaN),new _n(t,n,e,r)}function vn(t){return t instanceof Zt||(t=pn(t)),t?new _n((t=t.rgb()).r,t.g,t.b,t.opacity):new _n}function yn(t,n,e,r){return 1===arguments.length?vn(t):new _n(t,n,e,null==r?1:r)}function _n(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function mn(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}`}function wn(){const t=xn(this.opacity);return`${1===t?"rgb(":"rgba("}${bn(this.r)}, ${bn(this.g)}, ${bn(this.b)}${1===t?")":`, ${t})`}`}function xn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kn(t){return((t=bn(t))<16?"0":"")+t.toString(16)}function Mn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Cn(t,n,e,r)}function An(t){if(t instanceof Cn)return new Cn(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=pn(t)),!t)return new Cn;if(t instanceof Cn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Cn(a,u,s,t.opacity)}function Cn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Nn(t){return(t=(t||0)%360)<0?t+360:t}function Sn(t){return Math.max(0,Math.min(1,t||0))}function Tn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Gt(Zt,pn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fn,formatHex:fn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return An(this).formatHsl()},formatRgb:hn,toString:hn}),Gt(_n,yn,Ht(Zt,{brighter(t){return t=null==t?Jt:Math.pow(Jt,t),new _n(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Kt:Math.pow(Kt,t),new _n(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _n(bn(this.r),bn(this.g),bn(this.b),xn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mn,formatHex:mn,formatHex8:function(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}${kn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:wn,toString:wn})),Gt(Cn,(function(t,n,e,r){return 1===arguments.length?An(t):new Cn(t,n,e,null==r?1:r)}),Ht(Zt,{brighter(t){return t=null==t?Jt:Math.pow(Jt,t),new Cn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Kt:Math.pow(Kt,t),new Cn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new _n(Tn(t>=240?t-240:t+120,i,r),Tn(t,i,r),Tn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cn(Nn(this.h),Sn(this.s),Sn(this.l),xn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xn(this.opacity);return`${1===t?"hsl(":"hsla("}${Nn(this.h)}, ${100*Sn(this.s)}%, ${100*Sn(this.l)}%${1===t?")":`, ${t})`}`}}));var jn=t=>()=>t;function $n(t){return 1==(t=+t)?En:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):jn(isNaN(n)?e:n)}}function En(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):jn(isNaN(t)?n:t)}var zn=function t(n){var e=$n(n);function r(t,n){var r=e((t=yn(t)).r,(n=yn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=En(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Rn(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Ln(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Xn(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function On(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function In(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Yn(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Xn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wn=new RegExp(Dn.source,"g");function Bn(t,n){var e,r,i,o=Dn.lastIndex=Wn.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=Dn.exec(t))&&(r=Wn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:In(e,r)})),o=Wn.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function Xn(t,n){var e,r=typeof n;return null==n||"boolean"===r?jn(n):("number"===r?In:"string"===r?(e=pn(n))?(n=e,zn):Bn:n instanceof pn?zn:n instanceof Date?On:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?Rn:Array.isArray(n)?Ln:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Yn:In)(t,n)}function Pn(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Vn,qn=180/Math.PI,Un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fn(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*qn,skewX:Math.atan(s)*qn,scaleX:a,scaleY:u}}function Gn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:In(t,i)},{i:s-2,x:In(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:In(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:In(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:In(t,e)},{i:u-2,x:In(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Hn,Zn,Kn=Gn((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Un:Fn(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),Jn=Gn((function(t){return null==t?Un:(Vn||(Vn=document.createElementNS("http://www.w3.org/2000/svg","g")),Vn.setAttribute("transform",t),(t=Vn.transform.baseVal.consolidate())?Fn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Un)}),", ",")",")"),Qn=0,te=0,ne=0,ee=0,re=0,ie=0,oe="object"==typeof performance&&performance.now?performance:Date,ae="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ue(){return re||(ae(se),re=oe.now()+ie)}function se(){re=0}function le(){this._call=this._time=this._next=null}function ce(t,n,e){var r=new le;return r.restart(t,n,e),r}function fe(){re=(ee=oe.now())+ie,Qn=te=0;try{!function(){ue(),++Qn;for(var t,n=Hn;n;)(t=re-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Qn}()}finally{Qn=0,function(){var t,n,e=Hn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hn=n);Zn=t,pe(r)}(),re=0}}function he(){var t=oe.now(),n=t-ee;n>1e3&&(ie-=n,ee=t)}function pe(t){Qn||(te&&(te=clearTimeout(te)),t-re>24?(t<1/0&&(te=setTimeout(fe,t-oe.now()-ie)),ne&&(ne=clearInterval(ne))):(ne||(ee=oe.now(),ne=setInterval(he,1e3)),Qn=1,ae(fe)))}function de(t,n,e){var r=new le;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}le.prototype=ce.prototype={constructor:le,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ue():+e)+(null==n?0:+n),this._next||Zn===this||(Zn?Zn._next=this:Hn=this,Zn=this),this._call=t,this._time=e,pe()},stop:function(){this._call&&(this._call=null,this._time=1/0,pe())}};var ge=N("start","end","cancel","interrupt"),ve=[];function ye(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var l,c,f,h;if(1!==e.state)return s();for(l in i)if((h=i[l]).name===e.name){if(3===h.state)return de(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(de((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=ce(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:ge,tween:ve,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function _e(t,n){var e=we(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function me(t,n){var e=we(t,n);if(e.state>3)throw new Error("too late; already running");return e}function we(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function xe(t,n){var e,r;return function(){var i=me(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function be(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=me(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function ke(t,n,e){var r=t._id;return t.each((function(){var t=me(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return we(t,r).value[n]}}function Me(t,n){var e;return("number"==typeof n?In:n instanceof pn?zn:(e=pn(n))?(n=e,zn):Bn)(t,n)}function Ae(t){return function(){this.removeAttribute(t)}}function Ce(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ne(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Se(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Te(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function je(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function $e(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ee(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ze(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ee(t,i)),e}return i._value=n,i}function Re(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&$e(t,i)),e}return i._value=n,i}function Le(t,n){return function(){_e(this,t).delay=+n.apply(this,arguments)}}function Oe(t,n){return n=+n,function(){_e(this,t).delay=n}}function Ie(t,n){return function(){me(this,t).duration=+n.apply(this,arguments)}}function Ye(t,n){return n=+n,function(){me(this,t).duration=n}}function De(t,n){if("function"!=typeof n)throw new Error;return function(){me(this,t).ease=n}}function We(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?_e:me;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Be=qt.prototype.constructor;function Xe(t){return function(){this.style.removeProperty(t)}}function Pe(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ve(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Pe(t,o,e)),r}return o._value=n,o}function qe(t){return function(n){this.textContent=t.call(this,n)}}function Ue(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&qe(r)),n}return r._value=t,r}var Fe=0;function Ge(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function He(){return++Fe}var Ze=qt.prototype;Ge.prototype={constructor:Ge,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=D(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=t.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,ye(f[h],n,e,h,f,we(u,e)));return new Ge(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=X(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,p=t.call(s,s.__data__,f,l),d=we(s,e),g=0,v=p.length;g<v;++g)(h=p[g])&&ye(h,n,e,g,p,d);o.push(p),a.push(s)}return new Ge(o,a,n,e)},selectChild:Ze.selectChild,selectChildren:Ze.selectChildren,filter:function(t){"function"!=typeof t&&(t=P(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new Ge(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=n[u],c=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new Ge(a,this._parents,this._name,this._id)},selection:function(){return new Be(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=He(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=we(a,n);ye(a,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ge(r,this._parents,t,e)},call:Ze.call,nodes:Ze.nodes,node:Ze.node,size:Ze.size,empty:Ze.empty,each:Ze.each,on:function(t,n){var e=this._id;return arguments.length<2?we(this.node(),e).on.on(t):this.each(We(e,t,n))},attr:function(t,n){var e=R(t),r="transform"===e?Jn:Me;return this.attrTween(t,"function"==typeof n?(e.local?je:Te)(e,r,ke(this,"attr."+t,n)):null==n?(e.local?Ce:Ae)(e):(e.local?Se:Ne)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=R(t);return this.tween(e,(r.local?ze:Re)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Kn:Me;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=pt(this,t),a=(this.style.removeProperty(t),pt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Xe(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=pt(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=pt(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,ke(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=me(this,t),l=s.on,c=null==s.value[a]?o||(o=Xe(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=pt(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Ve(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ke(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Ue(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=we(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?xe:be)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Le:Oe)(n,t)):we(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ie:Ye)(n,t)):we(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(De(n,t)):we(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;me(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=me(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:Ze[Symbol.iterator]};var Ke={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Je(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}qt.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},qt.prototype.transition=function(t){var n,e;t instanceof Ge?(n=t._id,t=t._name):(n=He(),(e=Ke).time=ue(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)(a=u[l])&&ye(a,t,n,l,u,e||Je(a,n));return new Ge(r,this._parents,t,n)};const Qe=Math.PI,tr=2*Qe,nr=1e-6,er=tr-nr;function rr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ir(){return new rr}function or(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ar(t){return(t=or(Math.abs(t)))?t[1]:NaN}rr.prototype=ir.prototype={constructor:rr,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,s=r-n,l=o-t,c=a-n,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>nr)if(Math.abs(c*u-s*l)>nr&&i){var h=e-o,p=r-a,d=u*u+s*s,g=h*h+p*p,v=Math.sqrt(d),y=Math.sqrt(f),_=i*Math.tan((Qe-Math.acos((d+f-g)/(2*v*y)))/2),m=_/y,w=_/v;Math.abs(m-1)>nr&&(this._+="L"+(t+m*l)+","+(n+m*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*p)+","+(this._x1=t+w*u)+","+(this._y1=n+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+a,l=n+u,c=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>nr||Math.abs(this._y1-l)>nr)&&(this._+="L"+s+","+l),e&&(f<0&&(f=f%tr+tr),f>er?this._+="A"+e+","+e+",0,1,"+c+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>nr&&(this._+="A"+e+","+e+",0,"+ +(f>=Qe)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var ur,sr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lr(t){if(!(n=sr.exec(t)))throw new Error("invalid format: "+t);var n;return new cr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function cr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function fr(t,n){var e=or(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}lr.prototype=cr.prototype,cr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var hr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>fr(100*t,n),r:fr,s:function(t,n){var e=or(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ur=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+or(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pr(t){return t}var dr,gr,vr,yr=Array.prototype.map,_r=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?pr:(n=yr.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?pr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(yr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=lr(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,v=t.precision,y=t.trim,_=t.type;"n"===_?(g=!0,_="g"):hr[_]||(void 0===v&&(v=12),y=!0,_="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var m="$"===h?i:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w="$"===h?o:/[%p]/.test(_)?s:"",x=hr[_],b=/[defgprs%]/.test(_);function k(t){var i,o,s,h=m,k=w;if("c"===_)k=x(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),v),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),h=(M?"("===f?f:l:"-"===f||"("===f?"":f)+h,k=("s"===_?_r[8+ur/3]:"")+k+(M&&"("===f?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){k=(46===s?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var A=h.length+t.length+k.length,C=A<d?new Array(d-A+1).join(n):"";switch(g&&p&&(t=r(C+t,C.length?d-k.length:1/0),C=""),e){case"<":t=h+t+k+C;break;case"=":t=h+C+t+k;break;case"^":t=C.slice(0,A=C.length>>1)+h+t+k+C.slice(A);break;default:t=C+h+t+k}return u(t)}return v=void 0===v?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,n){var e=f(((t=lr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ar(n)/3))),i=Math.pow(10,-r),o=_r[8+r/3];return function(t){return e(i*t)+o}}}}function wr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}dr=mr({thousands:",",grouping:[3],currency:["$",""]}),gr=dr.format,vr=dr.formatPrefix;const xr=Symbol("implicit");function br(){var t=new s,n=[],e=[],r=xr;function i(i){let o=t.get(i);if(void 0===o){if(r!==xr)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new s;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return br(n,e).unknown(r)},wr.apply(i,arguments),i}function kr(){var t,n,e=br().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,u=!1,s=0,l=0,c=.5;function f(){var e=r().length,f=a<o,h=f?a:o,p=f?o:a;t=(p-h)/Math.max(1,e-s+2*l),u&&(t=Math.floor(t)),h+=(p-h-t*(e-s))*c,n=t*(1-s),u&&(h=Math.round(h),n=Math.round(n));var d=g(e).map((function(n){return h+t*n}));return i(f?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),f()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,u=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,f()):u},e.padding=function(t){return arguments.length?(s=Math.min(1,l=+t),f()):s},e.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),f()):s},e.paddingOuter=function(t){return arguments.length?(l=+t,f()):l},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},e.copy=function(){return kr(r(),[o,a]).round(u).paddingInner(s).paddingOuter(l).align(c)},wr.apply(f(),arguments)}function Mr(t){return+t}var Ar=[0,1];function Cr(t){return t}function Nr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Sr(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Nr(i,r),o=e(a,o)):(r=Nr(r,i),o=e(o,a)),function(t){return o(r(t))}}function Tr(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Nr(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(n){var e=a(t,n,1,r)-1;return o[e](i[e](n))}}function jr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $r(){var t,n,e,r,i,o,a=Ar,u=Ar,s=Xn,l=Cr;function c(){var t,n,e,s=Math.min(a.length,u.length);return l!==Cr&&(t=a[0],n=a[s-1],t>n&&(e=t,t=n,n=e),l=function(e){return Math.max(t,Math.min(n,e))}),r=s>2?Tr:Sr,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(u,a.map(t),In)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Mr),c()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=Pn,c()},f.clamp=function(t){return arguments.length?(l=!!t||Cr,c()):l!==Cr},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}function Er(){return $r()(Cr,Cr)}function zr(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=f?i*=10:o>=h?i*=5:o>=p&&(i*=2),n<t?-i:i}(t,n,e);switch((r=lr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ar(n)/3)))-ar(Math.abs(t)))}(o,a))||(r.precision=i),vr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ar(n)-ar(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ar(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return gr(r)}function Rr(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=d(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return zr(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,s=o[a],l=o[u],c=10;for(l<s&&(i=s,s=l,l=i,i=a,a=u,u=i);c-- >0;){if((i=d(s,l,e))===r)return o[a]=s,o[u]=l,n(o);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function Lr(){var t=Er();return t.copy=function(){return jr(t,Lr())},wr.apply(t,arguments),Rr(t)}var Or=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Ir(t){return function(){return t}}function Yr(t){this._context=t}function Dr(t){return new Yr(t)}function Wr(t){return t[0]}function Br(t){return t[1]}function Xr(t,n){var e=Ir(!0),r=null,i=Dr,o=null;function a(a){var u,s,l,c=(a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(a)).length,f=!1;for(null==r&&(o=i(l=ir())),u=0;u<=c;++u)!(u<c&&e(s=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(s,u,a),+n(s,u,a));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?Wr:Ir(t),n="function"==typeof n?n:void 0===n?Br:Ir(n),a.x=function(n){return arguments.length?(t="function"==typeof n?n:Ir(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:Ir(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:Ir(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function Pr(t,n,e){this.k=t,this.x=n,this.y=e}Yr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},Pr.prototype={constructor:Pr,scale:function(t){return 1===t?this:new Pr(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Pr(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Pr(1,0,0),Pr.prototype;var Vr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qr={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
!function(t,n){(function(){var e,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,u=32,s=64,l=128,c=256,f=1/0,h=9007199254740991,p=NaN,d=4294967295,g=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",u],["partialRight",s],["rearg",c]],v="[object Arguments]",y="[object Array]",_="[object Boolean]",m="[object Date]",w="[object Error]",x="[object Function]",b="[object GeneratorFunction]",k="[object Map]",M="[object Number]",A="[object Object]",C="[object Promise]",N="[object RegExp]",S="[object Set]",T="[object String]",j="[object Symbol]",$="[object WeakMap]",E="[object ArrayBuffer]",z="[object DataView]",R="[object Float32Array]",L="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",Y="[object Int32Array]",D="[object Uint8Array]",W="[object Uint8ClampedArray]",B="[object Uint16Array]",X="[object Uint32Array]",P=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,G=RegExp(U.source),H=RegExp(F.source),Z=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(et.source),it=/^\s+/,ot=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,bt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",Mt="a-z\\xdf-\\xf6\\xf8-\\xff",At="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Nt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",St="['’]",Tt="[\\ud800-\\udfff]",jt="["+Nt+"]",$t="["+bt+"]",Et="\\d+",zt="[\\u2700-\\u27bf]",Rt="["+Mt+"]",Lt="[^\\ud800-\\udfff"+Nt+Et+kt+Mt+At+"]",Ot="\\ud83c[\\udffb-\\udfff]",It="[^\\ud800-\\udfff]",Yt="(?:\\ud83c[\\udde6-\\uddff]){2}",Dt="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+At+"]",Bt="(?:"+Rt+"|"+Lt+")",Xt="(?:"+Wt+"|"+Lt+")",Pt="(?:['’](?:d|ll|m|re|s|t|ve))?",Vt="(?:['’](?:D|LL|M|RE|S|T|VE))?",qt="(?:"+$t+"|"+Ot+")"+"?",Ut="[\\ufe0e\\ufe0f]?",Ft=Ut+qt+("(?:\\u200d(?:"+[It,Yt,Dt].join("|")+")"+Ut+qt+")*"),Gt="(?:"+[zt,Yt,Dt].join("|")+")"+Ft,Ht="(?:"+[It+$t+"?",$t,Yt,Dt,Tt].join("|")+")",Zt=RegExp(St,"g"),Kt=RegExp($t,"g"),Jt=RegExp(Ot+"(?="+Ot+")|"+Ht+Ft,"g"),Qt=RegExp([Wt+"?"+Rt+"+"+Pt+"(?="+[jt,Wt,"$"].join("|")+")",Xt+"+"+Vt+"(?="+[jt,Wt+Bt,"$"].join("|")+")",Wt+"?"+Bt+"+"+Pt,Wt+"+"+Vt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Et,Gt].join("|"),"g"),tn=RegExp("[\\u200d\\ud800-\\udfff"+bt+Ct+"]"),nn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,en=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rn=-1,on={};on[R]=on[L]=on[O]=on[I]=on[Y]=on[D]=on[W]=on[B]=on[X]=!0,on[v]=on[y]=on[E]=on[_]=on[z]=on[m]=on[w]=on[x]=on[k]=on[M]=on[A]=on[N]=on[S]=on[T]=on[$]=!1;var an={};an[v]=an[y]=an[E]=an[z]=an[_]=an[m]=an[R]=an[L]=an[O]=an[I]=an[Y]=an[k]=an[M]=an[A]=an[N]=an[S]=an[T]=an[j]=an[D]=an[W]=an[B]=an[X]=!0,an[w]=an[x]=an[$]=!1;var un={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sn=parseFloat,ln=parseInt,cn="object"==typeof Vr&&Vr&&Vr.Object===Object&&Vr,fn="object"==typeof self&&self&&self.Object===Object&&self,hn=cn||fn||Function("return this")(),pn=n&&!n.nodeType&&n,dn=pn&&t&&!t.nodeType&&t,gn=dn&&dn.exports===pn,vn=gn&&cn.process,yn=function(){try{var t=dn&&dn.require&&dn.require("util").types;return t||vn&&vn.binding&&vn.binding("util")}catch(t){}}(),_n=yn&&yn.isArrayBuffer,mn=yn&&yn.isDate,wn=yn&&yn.isMap,xn=yn&&yn.isRegExp,bn=yn&&yn.isSet,kn=yn&&yn.isTypedArray;function Mn(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function An(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function Cn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function Nn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function Sn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function Tn(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function jn(t,n){return!!(null==t?0:t.length)&&Wn(t,n,0)>-1}function $n(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function En(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function zn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function Rn(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function Ln(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function On(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var In=Vn("length");function Yn(t,n,e){var r;return e(t,(function(t,e,i){if(n(t,e,i))return r=e,!1})),r}function Dn(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function Wn(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):Dn(t,Xn,e)}function Bn(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function Xn(t){return t!=t}function Pn(t,n){var e=null==t?0:t.length;return e?Fn(t,n)/e:p}function Vn(t){return function(n){return null==n?e:n[t]}}function qn(t){return function(n){return null==t?e:t[n]}}function Un(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e}function Fn(t,n){for(var r,i=-1,o=t.length;++i<o;){var a=n(t[i]);a!==e&&(r=r===e?a:r+a)}return r}function Gn(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function Hn(t){return t?t.slice(0,pe(t)+1).replace(it,""):t}function Zn(t){return function(n){return t(n)}}function Kn(t,n){return En(n,(function(n){return t[n]}))}function Jn(t,n){return t.has(n)}function Qn(t,n){for(var e=-1,r=t.length;++e<r&&Wn(n,t[e],0)>-1;);return e}function te(t,n){for(var e=t.length;e--&&Wn(n,t[e],0)>-1;);return e}function ne(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}var ee=qn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),re=qn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ie(t){return"\\"+un[t]}function oe(t){return tn.test(t)}function ae(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function ue(t,n){return function(e){return t(n(e))}}function se(t,n){for(var e=-1,r=t.length,i=0,a=[];++e<r;){var u=t[e];u!==n&&u!==o||(t[e]=o,a[i++]=e)}return a}function le(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function ce(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function fe(t){return oe(t)?function(t){var n=Jt.lastIndex=0;for(;Jt.test(t);)++n;return n}(t):In(t)}function he(t){return oe(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.split("")}(t)}function pe(t){for(var n=t.length;n--&&ot.test(t.charAt(n)););return n}var de=qn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var ge=function t(n){var ot,bt=(n=null==n?hn:ge.defaults(hn.Object(),n,ge.pick(hn,en))).Array,kt=n.Date,Mt=n.Error,At=n.Function,Ct=n.Math,Nt=n.Object,St=n.RegExp,Tt=n.String,jt=n.TypeError,$t=bt.prototype,Et=At.prototype,zt=Nt.prototype,Rt=n["__core-js_shared__"],Lt=Et.toString,Ot=zt.hasOwnProperty,It=0,Yt=(ot=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+ot:"",Dt=zt.toString,Wt=Lt.call(Nt),Bt=hn._,Xt=St("^"+Lt.call(Ot).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=gn?n.Buffer:e,Vt=n.Symbol,qt=n.Uint8Array,Ut=Pt?Pt.allocUnsafe:e,Ft=ue(Nt.getPrototypeOf,Nt),Gt=Nt.create,Ht=zt.propertyIsEnumerable,Jt=$t.splice,tn=Vt?Vt.isConcatSpreadable:e,un=Vt?Vt.iterator:e,cn=Vt?Vt.toStringTag:e,fn=function(){try{var t=po(Nt,"defineProperty");return t({},"",{}),t}catch(t){}}(),pn=n.clearTimeout!==hn.clearTimeout&&n.clearTimeout,dn=kt&&kt.now!==hn.Date.now&&kt.now,vn=n.setTimeout!==hn.setTimeout&&n.setTimeout,yn=Ct.ceil,In=Ct.floor,qn=Nt.getOwnPropertySymbols,ve=Pt?Pt.isBuffer:e,ye=n.isFinite,_e=$t.join,me=ue(Nt.keys,Nt),we=Ct.max,xe=Ct.min,be=kt.now,ke=n.parseInt,Me=Ct.random,Ae=$t.reverse,Ce=po(n,"DataView"),Ne=po(n,"Map"),Se=po(n,"Promise"),Te=po(n,"Set"),je=po(n,"WeakMap"),$e=po(Nt,"create"),Ee=je&&new je,ze={},Re=Bo(Ce),Le=Bo(Ne),Oe=Bo(Se),Ie=Bo(Te),Ye=Bo(je),De=Vt?Vt.prototype:e,We=De?De.valueOf:e,Be=De?De.toString:e;function Xe(t){if(iu(t)&&!Fa(t)&&!(t instanceof Ue)){if(t instanceof qe)return t;if(Ot.call(t,"__wrapped__"))return Xo(t)}return new qe(t)}var Pe=function(){function t(){}return function(n){if(!ru(n))return{};if(Gt)return Gt(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function Ve(){}function qe(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function Ue(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Fe(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ge(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function He(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ze(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new He;++n<e;)this.add(t[n])}function Ke(t){var n=this.__data__=new Ge(t);this.size=n.size}function Je(t,n){var e=Fa(t),r=!e&&Ua(t),i=!e&&!r&&Ka(t),o=!e&&!r&&!i&&hu(t),a=e||r||i||o,u=a?Gn(t.length,Tt):[],s=u.length;for(var l in t)!n&&!Ot.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||xo(l,s))||u.push(l);return u}function Qe(t){var n=t.length;return n?t[Zr(0,n-1)]:e}function tr(t,n){return Yo($i(t),lr(n,0,t.length))}function nr(t){return Yo($i(t))}function er(t,n,r){(r!==e&&!Pa(t[n],r)||r===e&&!(n in t))&&ur(t,n,r)}function rr(t,n,r){var i=t[n];Ot.call(t,n)&&Pa(i,r)&&(r!==e||n in t)||ur(t,n,r)}function ir(t,n){for(var e=t.length;e--;)if(Pa(t[e][0],n))return e;return-1}function or(t,n,e,r){return dr(t,(function(t,i,o){n(r,t,e(t),o)})),r}function ar(t,n){return t&&Ei(n,Ru(n),t)}function ur(t,n,e){"__proto__"==n&&fn?fn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function sr(t,n){for(var r=-1,i=n.length,o=bt(i),a=null==t;++r<i;)o[r]=a?e:Tu(t,n[r]);return o}function lr(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function cr(t,n,r,i,o,a){var u,s=1&n,l=2&n,c=4&n;if(r&&(u=o?r(t,i,o,a):r(t)),u!==e)return u;if(!ru(t))return t;var f=Fa(t);if(f){if(u=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&Ot.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!s)return $i(t,u)}else{var h=yo(t),p=h==x||h==b;if(Ka(t))return Ai(t,s);if(h==A||h==v||p&&!o){if(u=l||p?{}:mo(t),!s)return l?function(t,n){return Ei(t,vo(t),n)}(t,function(t,n){return t&&Ei(n,Lu(n),t)}(u,t)):function(t,n){return Ei(t,go(t),n)}(t,ar(u,t))}else{if(!an[h])return o?t:{};u=function(t,n,e){var r=t.constructor;switch(n){case E:return Ci(t);case _:case m:return new r(+t);case z:return function(t,n){var e=n?Ci(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case R:case L:case O:case I:case Y:case D:case W:case B:case X:return Ni(t,e);case k:return new r;case M:case T:return new r(t);case N:return function(t){var n=new t.constructor(t.source,pt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case S:return new r;case j:return i=t,We?Nt(We.call(i)):{}}var i}(t,h,s)}}a||(a=new Ke);var d=a.get(t);if(d)return d;a.set(t,u),lu(t)?t.forEach((function(e){u.add(cr(e,n,r,e,t,a))})):ou(t)&&t.forEach((function(e,i){u.set(i,cr(e,n,r,i,t,a))}));var g=f?e:(c?l?ao:oo:l?Lu:Ru)(t);return Cn(g||t,(function(e,i){g&&(e=t[i=e]),rr(u,i,cr(e,n,r,i,t,a))})),u}function fr(t,n,r){var i=r.length;if(null==t)return!i;for(t=Nt(t);i--;){var o=r[i],a=n[o],u=t[o];if(u===e&&!(o in t)||!a(u))return!1}return!0}function hr(t,n,i){if("function"!=typeof t)throw new jt(r);return Ro((function(){t.apply(e,i)}),n)}function pr(t,n,e,r){var i=-1,o=jn,a=!0,u=t.length,s=[],l=n.length;if(!u)return s;e&&(n=En(n,Zn(e))),r?(o=$n,a=!1):n.length>=200&&(o=Jn,a=!1,n=new Ze(n));t:for(;++i<u;){var c=t[i],f=null==e?c:e(c);if(c=r||0!==c?c:0,a&&f==f){for(var h=l;h--;)if(n[h]===f)continue t;s.push(c)}else o(n,f,r)||s.push(c)}return s}Xe.templateSettings={escape:Z,evaluate:K,interpolate:J,variable:"",imports:{_:Xe}},Xe.prototype=Ve.prototype,Xe.prototype.constructor=Xe,qe.prototype=Pe(Ve.prototype),qe.prototype.constructor=qe,Ue.prototype=Pe(Ve.prototype),Ue.prototype.constructor=Ue,Fe.prototype.clear=function(){this.__data__=$e?$e(null):{},this.size=0},Fe.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Fe.prototype.get=function(t){var n=this.__data__;if($e){var r=n[t];return r===i?e:r}return Ot.call(n,t)?n[t]:e},Fe.prototype.has=function(t){var n=this.__data__;return $e?n[t]!==e:Ot.call(n,t)},Fe.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$e&&n===e?i:n,this},Ge.prototype.clear=function(){this.__data__=[],this.size=0},Ge.prototype.delete=function(t){var n=this.__data__,e=ir(n,t);return!(e<0)&&(e==n.length-1?n.pop():Jt.call(n,e,1),--this.size,!0)},Ge.prototype.get=function(t){var n=this.__data__,r=ir(n,t);return r<0?e:n[r][1]},Ge.prototype.has=function(t){return ir(this.__data__,t)>-1},Ge.prototype.set=function(t,n){var e=this.__data__,r=ir(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},He.prototype.clear=function(){this.size=0,this.__data__={hash:new Fe,map:new(Ne||Ge),string:new Fe}},He.prototype.delete=function(t){var n=fo(this,t).delete(t);return this.size-=n?1:0,n},He.prototype.get=function(t){return fo(this,t).get(t)},He.prototype.has=function(t){return fo(this,t).has(t)},He.prototype.set=function(t,n){var e=fo(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},Ze.prototype.add=Ze.prototype.push=function(t){return this.__data__.set(t,i),this},Ze.prototype.has=function(t){return this.__data__.has(t)},Ke.prototype.clear=function(){this.__data__=new Ge,this.size=0},Ke.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Ke.prototype.get=function(t){return this.__data__.get(t)},Ke.prototype.has=function(t){return this.__data__.has(t)},Ke.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Ge){var r=e.__data__;if(!Ne||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new He(r)}return e.set(t,n),this.size=e.size,this};var dr=Li(br),gr=Li(kr,!0);function vr(t,n){var e=!0;return dr(t,(function(t,r,i){return e=!!n(t,r,i)})),e}function yr(t,n,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],u=n(a);if(null!=u&&(s===e?u==u&&!fu(u):r(u,s)))var s=u,l=a}return l}function _r(t,n){var e=[];return dr(t,(function(t,r,i){n(t,r,i)&&e.push(t)})),e}function mr(t,n,e,r,i){var o=-1,a=t.length;for(e||(e=wo),i||(i=[]);++o<a;){var u=t[o];n>0&&e(u)?n>1?mr(u,n-1,e,r,i):zn(i,u):r||(i[i.length]=u)}return i}var wr=Oi(),xr=Oi(!0);function br(t,n){return t&&wr(t,n,Ru)}function kr(t,n){return t&&xr(t,n,Ru)}function Mr(t,n){return Tn(n,(function(n){return tu(t[n])}))}function Ar(t,n){for(var r=0,i=(n=xi(n,t)).length;null!=t&&r<i;)t=t[Wo(n[r++])];return r&&r==i?t:e}function Cr(t,n,e){var r=n(t);return Fa(t)?r:zn(r,e(t))}function Nr(t){return null==t?t===e?"[object Undefined]":"[object Null]":cn&&cn in Nt(t)?function(t){var n=Ot.call(t,cn),r=t[cn];try{t[cn]=e;var i=!0}catch(t){}var o=Dt.call(t);i&&(n?t[cn]=r:delete t[cn]);return o}(t):function(t){return Dt.call(t)}(t)}function Sr(t,n){return t>n}function Tr(t,n){return null!=t&&Ot.call(t,n)}function jr(t,n){return null!=t&&n in Nt(t)}function $r(t,n,r){for(var i=r?$n:jn,o=t[0].length,a=t.length,u=a,s=bt(a),l=1/0,c=[];u--;){var f=t[u];u&&n&&(f=En(f,Zn(n))),l=xe(f.length,l),s[u]=!r&&(n||o>=120&&f.length>=120)?new Ze(u&&f):e}f=t[0];var h=-1,p=s[0];t:for(;++h<o&&c.length<l;){var d=f[h],g=n?n(d):d;if(d=r||0!==d?d:0,!(p?Jn(p,g):i(c,g,r))){for(u=a;--u;){var v=s[u];if(!(v?Jn(v,g):i(t[u],g,r)))continue t}p&&p.push(g),c.push(d)}}return c}function Er(t,n,r){var i=null==(t=jo(t,n=xi(n,t)))?t:t[Wo(Qo(n))];return null==i?e:Mn(i,t,r)}function zr(t){return iu(t)&&Nr(t)==v}function Rr(t,n,r,i,o){return t===n||(null==t||null==n||!iu(t)&&!iu(n)?t!=t&&n!=n:function(t,n,r,i,o,a){var u=Fa(t),s=Fa(n),l=u?y:yo(t),c=s?y:yo(n),f=(l=l==v?A:l)==A,h=(c=c==v?A:c)==A,p=l==c;if(p&&Ka(t)){if(!Ka(n))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Ke),u||hu(t)?ro(t,n,r,i,o,a):function(t,n,e,r,i,o,a){switch(e){case z:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case E:return!(t.byteLength!=n.byteLength||!o(new qt(t),new qt(n)));case _:case m:case M:return Pa(+t,+n);case w:return t.name==n.name&&t.message==n.message;case N:case T:return t==n+"";case k:var u=ae;case S:var s=1&r;if(u||(u=le),t.size!=n.size&&!s)return!1;var l=a.get(t);if(l)return l==n;r|=2,a.set(t,n);var c=ro(u(t),u(n),r,i,o,a);return a.delete(t),c;case j:if(We)return We.call(t)==We.call(n)}return!1}(t,n,l,r,i,o,a);if(!(1&r)){var d=f&&Ot.call(t,"__wrapped__"),g=h&&Ot.call(n,"__wrapped__");if(d||g){var x=d?t.value():t,b=g?n.value():n;return a||(a=new Ke),o(x,b,r,i,a)}}if(!p)return!1;return a||(a=new Ke),function(t,n,r,i,o,a){var u=1&r,s=oo(t),l=s.length,c=oo(n).length;if(l!=c&&!u)return!1;var f=l;for(;f--;){var h=s[f];if(!(u?h in n:Ot.call(n,h)))return!1}var p=a.get(t),d=a.get(n);if(p&&d)return p==n&&d==t;var g=!0;a.set(t,n),a.set(n,t);var v=u;for(;++f<l;){var y=t[h=s[f]],_=n[h];if(i)var m=u?i(_,y,h,n,t,a):i(y,_,h,t,n,a);if(!(m===e?y===_||o(y,_,r,i,a):m)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var w=t.constructor,x=n.constructor;w==x||!("constructor"in t)||!("constructor"in n)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return a.delete(t),a.delete(n),g}(t,n,r,i,o,a)}(t,n,r,i,Rr,o))}function Lr(t,n,r,i){var o=r.length,a=o,u=!i;if(null==t)return!a;for(t=Nt(t);o--;){var s=r[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var l=(s=r[o])[0],c=t[l],f=s[1];if(u&&s[2]){if(c===e&&!(l in t))return!1}else{var h=new Ke;if(i)var p=i(c,f,l,t,n,h);if(!(p===e?Rr(f,c,3,i,h):p))return!1}}return!0}function Or(t){return!(!ru(t)||(n=t,Yt&&Yt in n))&&(tu(t)?Xt:vt).test(Bo(t));var n}function Ir(t){return"function"==typeof t?t:null==t?as:"object"==typeof t?Fa(t)?Pr(t[0],t[1]):Xr(t):gs(t)}function Yr(t){if(!Co(t))return me(t);var n=[];for(var e in Nt(t))Ot.call(t,e)&&"constructor"!=e&&n.push(e);return n}function Dr(t){if(!ru(t))return function(t){var n=[];if(null!=t)for(var e in Nt(t))n.push(e);return n}(t);var n=Co(t),e=[];for(var r in t)("constructor"!=r||!n&&Ot.call(t,r))&&e.push(r);return e}function Wr(t,n){return t<n}function Br(t,n){var e=-1,r=Ha(t)?bt(t.length):[];return dr(t,(function(t,i,o){r[++e]=n(t,i,o)})),r}function Xr(t){var n=ho(t);return 1==n.length&&n[0][2]?So(n[0][0],n[0][1]):function(e){return e===t||Lr(e,t,n)}}function Pr(t,n){return ko(t)&&No(n)?So(Wo(t),n):function(r){var i=Tu(r,t);return i===e&&i===n?ju(r,t):Rr(n,i,3)}}function Vr(t,n,r,i,o){t!==n&&wr(n,(function(a,u){if(o||(o=new Ke),ru(a))!function(t,n,r,i,o,a,u){var s=Eo(t,r),l=Eo(n,r),c=u.get(l);if(c)return void er(t,r,c);var f=a?a(s,l,r+"",t,n,u):e,h=f===e;if(h){var p=Fa(l),d=!p&&Ka(l),g=!p&&!d&&hu(l);f=l,p||d||g?Fa(s)?f=s:Za(s)?f=$i(s):d?(h=!1,f=Ai(l,!0)):g?(h=!1,f=Ni(l,!0)):f=[]:uu(l)||Ua(l)?(f=s,Ua(s)?f=wu(s):ru(s)&&!tu(s)||(f=mo(l))):h=!1}h&&(u.set(l,f),o(f,l,i,a,u),u.delete(l));er(t,r,f)}(t,n,u,r,Vr,i,o);else{var s=i?i(Eo(t,u),a,u+"",t,n,o):e;s===e&&(s=a),er(t,u,s)}}),Lu)}function qr(t,n){var r=t.length;if(r)return xo(n+=n<0?r:0,r)?t[n]:e}function Ur(t,n,e){n=n.length?En(n,(function(t){return Fa(t)?function(n){return Ar(n,1===t.length?t[0]:t)}:t})):[as];var r=-1;n=En(n,Zn(co()));var i=Br(t,(function(t,e,i){var o=En(n,(function(n){return n(t)}));return{criteria:o,index:++r,value:t}}));return function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(i,(function(t,n){return function(t,n,e){var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;for(;++r<a;){var s=Si(i[r],o[r]);if(s)return r>=u?s:s*("desc"==e[r]?-1:1)}return t.index-n.index}(t,n,e)}))}function Fr(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],u=Ar(t,a);e(u,a)&&ni(o,xi(a,t),u)}return o}function Gr(t,n,e,r){var i=r?Bn:Wn,o=-1,a=n.length,u=t;for(t===n&&(n=$i(n)),e&&(u=En(t,Zn(e)));++o<a;)for(var s=0,l=n[o],c=e?e(l):l;(s=i(u,c,s,r))>-1;)u!==t&&Jt.call(u,s,1),Jt.call(t,s,1);return t}function Hr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;xo(i)?Jt.call(t,i,1):pi(t,i)}}return t}function Zr(t,n){return t+In(Me()*(n-t+1))}function Kr(t,n){var e="";if(!t||n<1||n>h)return e;do{n%2&&(e+=t),(n=In(n/2))&&(t+=t)}while(n);return e}function Jr(t,n){return Lo(To(t,n,as),t+"")}function Qr(t){return Qe(Pu(t))}function ti(t,n){var e=Pu(t);return Yo(e,lr(n,0,e.length))}function ni(t,n,r,i){if(!ru(t))return t;for(var o=-1,a=(n=xi(n,t)).length,u=a-1,s=t;null!=s&&++o<a;){var l=Wo(n[o]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=u){var f=s[l];(c=i?i(f,l,s):e)===e&&(c=ru(f)?f:xo(n[o+1])?[]:{})}rr(s,l,c),s=s[l]}return t}var ei=Ee?function(t,n){return Ee.set(t,n),t}:as,ri=fn?function(t,n){return fn(t,"toString",{configurable:!0,enumerable:!1,value:rs(n),writable:!0})}:as;function ii(t){return Yo(Pu(t))}function oi(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),(e=e>i?i:e)<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=bt(i);++r<i;)o[r]=t[r+n];return o}function ai(t,n){var e;return dr(t,(function(t,r,i){return!(e=n(t,r,i))})),!!e}function ui(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!fu(a)&&(e?a<=n:a<n)?r=o+1:i=o}return i}return si(t,n,as,e)}function si(t,n,r,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(n=r(n))!=n,s=null===n,l=fu(n),c=n===e;o<a;){var f=In((o+a)/2),h=r(t[f]),p=h!==e,d=null===h,g=h==h,v=fu(h);if(u)var y=i||g;else y=c?g&&(i||p):s?g&&p&&(i||!d):l?g&&p&&!d&&(i||!v):!d&&!v&&(i?h<=n:h<n);y?o=f+1:a=f}return xe(a,4294967294)}function li(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e],u=n?n(a):a;if(!e||!Pa(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function ci(t){return"number"==typeof t?t:fu(t)?p:+t}function fi(t){if("string"==typeof t)return t;if(Fa(t))return En(t,fi)+"";if(fu(t))return Be?Be.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function hi(t,n,e){var r=-1,i=jn,o=t.length,a=!0,u=[],s=u;if(e)a=!1,i=$n;else if(o>=200){var l=n?null:Ki(t);if(l)return le(l);a=!1,i=Jn,s=new Ze}else s=n?[]:u;t:for(;++r<o;){var c=t[r],f=n?n(c):c;if(c=e||0!==c?c:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;n&&s.push(f),u.push(c)}else i(s,f,e)||(s!==u&&s.push(f),u.push(c))}return u}function pi(t,n){return null==(t=jo(t,n=xi(n,t)))||delete t[Wo(Qo(n))]}function di(t,n,e,r){return ni(t,n,e(Ar(t,n)),r)}function gi(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?oi(t,r?0:o,r?o+1:i):oi(t,r?o+1:0,r?i:o)}function vi(t,n){var e=t;return e instanceof Ue&&(e=e.value()),Rn(n,(function(t,n){return n.func.apply(n.thisArg,zn([t],n.args))}),e)}function yi(t,n,e){var r=t.length;if(r<2)return r?hi(t[0]):[];for(var i=-1,o=bt(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=pr(o[i]||a,t[u],n,e));return hi(mr(o,1),n,e)}function _i(t,n,r){for(var i=-1,o=t.length,a=n.length,u={};++i<o;){var s=i<a?n[i]:e;r(u,t[i],s)}return u}function mi(t){return Za(t)?t:[]}function wi(t){return"function"==typeof t?t:as}function xi(t,n){return Fa(t)?t:ko(t,n)?[t]:Do(xu(t))}var bi=Jr;function ki(t,n,r){var i=t.length;return r=r===e?i:r,!n&&r>=i?t:oi(t,n,r)}var Mi=pn||function(t){return hn.clearTimeout(t)};function Ai(t,n){if(n)return t.slice();var e=t.length,r=Ut?Ut(e):new t.constructor(e);return t.copy(r),r}function Ci(t){var n=new t.constructor(t.byteLength);return new qt(n).set(new qt(t)),n}function Ni(t,n){var e=n?Ci(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Si(t,n){if(t!==n){var r=t!==e,i=null===t,o=t==t,a=fu(t),u=n!==e,s=null===n,l=n==n,c=fu(n);if(!s&&!c&&!a&&t>n||a&&u&&l&&!s&&!c||i&&u&&l||!r&&l||!o)return 1;if(!i&&!a&&!c&&t<n||c&&r&&o&&!i&&!a||s&&r&&o||!u&&o||!l)return-1}return 0}function Ti(t,n,e,r){for(var i=-1,o=t.length,a=e.length,u=-1,s=n.length,l=we(o-a,0),c=bt(s+l),f=!r;++u<s;)c[u]=n[u];for(;++i<a;)(f||i<o)&&(c[e[i]]=t[i]);for(;l--;)c[u++]=t[i++];return c}function ji(t,n,e,r){for(var i=-1,o=t.length,a=-1,u=e.length,s=-1,l=n.length,c=we(o-u,0),f=bt(c+l),h=!r;++i<c;)f[i]=t[i];for(var p=i;++s<l;)f[p+s]=n[s];for(;++a<u;)(h||i<o)&&(f[p+e[a]]=t[i++]);return f}function $i(t,n){var e=-1,r=t.length;for(n||(n=bt(r));++e<r;)n[e]=t[e];return n}function Ei(t,n,r,i){var o=!r;r||(r={});for(var a=-1,u=n.length;++a<u;){var s=n[a],l=i?i(r[s],t[s],s,r,t):e;l===e&&(l=t[s]),o?ur(r,s,l):rr(r,s,l)}return r}function zi(t,n){return function(e,r){var i=Fa(e)?An:or,o=n?n():{};return i(e,t,co(r,2),o)}}function Ri(t){return Jr((function(n,r){var i=-1,o=r.length,a=o>1?r[o-1]:e,u=o>2?r[2]:e;for(a=t.length>3&&"function"==typeof a?(o--,a):e,u&&bo(r[0],r[1],u)&&(a=o<3?e:a,o=1),n=Nt(n);++i<o;){var s=r[i];s&&t(n,s,i,a)}return n}))}function Li(t,n){return function(e,r){if(null==e)return e;if(!Ha(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=Nt(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}function Oi(t){return function(n,e,r){for(var i=-1,o=Nt(n),a=r(n),u=a.length;u--;){var s=a[t?u:++i];if(!1===e(o[s],s,o))break}return n}}function Ii(t){return function(n){var r=oe(n=xu(n))?he(n):e,i=r?r[0]:n.charAt(0),o=r?ki(r,1).join(""):n.slice(1);return i[t]()+o}}function Yi(t){return function(n){return Rn(ts(Uu(n).replace(Zt,"")),t,"")}}function Di(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Pe(t.prototype),r=t.apply(e,n);return ru(r)?r:e}}function Wi(t){return function(n,r,i){var o=Nt(n);if(!Ha(n)){var a=co(r,3);n=Ru(n),r=function(t){return a(o[t],t,o)}}var u=t(n,r,i);return u>-1?o[a?n[u]:u]:e}}function Bi(t){return io((function(n){var i=n.length,o=i,a=qe.prototype.thru;for(t&&n.reverse();o--;){var u=n[o];if("function"!=typeof u)throw new jt(r);if(a&&!s&&"wrapper"==so(u))var s=new qe([],!0)}for(o=s?o:i;++o<i;){var l=so(u=n[o]),c="wrapper"==l?uo(u):e;s=c&&Mo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[so(c[0])].apply(s,c[3]):1==u.length&&Mo(u)?s[l]():s.thru(u)}return function(){var t=arguments,e=t[0];if(s&&1==t.length&&Fa(e))return s.plant(e).value();for(var r=0,o=i?n[r].apply(this,t):e;++r<i;)o=n[r].call(this,o);return o}}))}function Xi(t,n,r,i,o,a,u,s,c,f){var h=n&l,p=1&n,d=2&n,g=24&n,v=512&n,y=d?e:Di(t);return function e(){for(var l=arguments.length,_=bt(l),m=l;m--;)_[m]=arguments[m];if(g)var w=lo(e),x=ne(_,w);if(i&&(_=Ti(_,i,o,g)),a&&(_=ji(_,a,u,g)),l-=x,g&&l<f){var b=se(_,w);return Hi(t,n,Xi,e.placeholder,r,_,b,s,c,f-l)}var k=p?r:this,M=d?k[t]:t;return l=_.length,s?_=$o(_,s):v&&l>1&&_.reverse(),h&&c<l&&(_.length=c),this&&this!==hn&&this instanceof e&&(M=y||Di(M)),M.apply(k,_)}}function Pi(t,n){return function(e,r){return function(t,n,e,r){return br(t,(function(t,i,o){n(r,e(t),i,o)})),r}(e,t,n(r),{})}}function Vi(t,n){return function(r,i){var o;if(r===e&&i===e)return n;if(r!==e&&(o=r),i!==e){if(o===e)return i;"string"==typeof r||"string"==typeof i?(r=fi(r),i=fi(i)):(r=ci(r),i=ci(i)),o=t(r,i)}return o}}function qi(t){return io((function(n){return n=En(n,Zn(co())),Jr((function(e){var r=this;return t(n,(function(t){return Mn(t,r,e)}))}))}))}function Ui(t,n){var r=(n=n===e?" ":fi(n)).length;if(r<2)return r?Kr(n,t):n;var i=Kr(n,yn(t/fe(n)));return oe(n)?ki(he(i),0,t).join(""):i.slice(0,t)}function Fi(t){return function(n,r,i){return i&&"number"!=typeof i&&bo(n,r,i)&&(r=i=e),n=vu(n),r===e?(r=n,n=0):r=vu(r),function(t,n,e,r){for(var i=-1,o=we(yn((n-t)/(e||1)),0),a=bt(o);o--;)a[r?o:++i]=t,t+=e;return a}(n,r,i=i===e?n<r?1:-1:vu(i),t)}}function Gi(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=mu(n),e=mu(e)),t(n,e)}}function Hi(t,n,r,i,o,a,l,c,f,h){var p=8&n;n|=p?u:s,4&(n&=~(p?s:u))||(n&=-4);var d=[t,n,o,p?a:e,p?l:e,p?e:a,p?e:l,c,f,h],g=r.apply(e,d);return Mo(t)&&zo(g,d),g.placeholder=i,Oo(g,t,n)}function Zi(t){var n=Ct[t];return function(t,e){if(t=mu(t),(e=null==e?0:xe(yu(e),292))&&ye(t)){var r=(xu(t)+"e").split("e");return+((r=(xu(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Ki=Te&&1/le(new Te([,-0]))[1]==f?function(t){return new Te(t)}:fs;function Ji(t){return function(n){var e=yo(n);return e==k?ae(n):e==S?ce(n):function(t,n){return En(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function Qi(t,n,i,f,h,p,d,g){var v=2&n;if(!v&&"function"!=typeof t)throw new jt(r);var y=f?f.length:0;if(y||(n&=-97,f=h=e),d=d===e?d:we(yu(d),0),g=g===e?g:yu(g),y-=h?h.length:0,n&s){var _=f,m=h;f=h=e}var w=v?e:uo(t),x=[t,n,i,f,h,_,m,p,d,g];if(w&&function(t,n){var e=t[1],r=n[1],i=e|r,a=i<131,u=r==l&&8==e||r==l&&e==c&&t[7].length<=n[8]||384==r&&n[7].length<=n[8]&&8==e;if(!a&&!u)return t;1&r&&(t[2]=n[2],i|=1&e?0:4);var s=n[3];if(s){var f=t[3];t[3]=f?Ti(f,s,n[4]):s,t[4]=f?se(t[3],o):n[4]}(s=n[5])&&(f=t[5],t[5]=f?ji(f,s,n[6]):s,t[6]=f?se(t[5],o):n[6]);(s=n[7])&&(t[7]=s);r&l&&(t[8]=null==t[8]?n[8]:xe(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=i}(x,w),t=x[0],n=x[1],i=x[2],f=x[3],h=x[4],!(g=x[9]=x[9]===e?v?0:t.length:we(x[9]-y,0))&&24&n&&(n&=-25),n&&1!=n)b=8==n||n==a?function(t,n,r){var i=Di(t);return function o(){for(var a=arguments.length,u=bt(a),s=a,l=lo(o);s--;)u[s]=arguments[s];var c=a<3&&u[0]!==l&&u[a-1]!==l?[]:se(u,l);return(a-=c.length)<r?Hi(t,n,Xi,o.placeholder,e,u,c,e,e,r-a):Mn(this&&this!==hn&&this instanceof o?i:t,this,u)}}(t,n,g):n!=u&&33!=n||h.length?Xi.apply(e,x):function(t,n,e,r){var i=1&n,o=Di(t);return function n(){for(var a=-1,u=arguments.length,s=-1,l=r.length,c=bt(l+u),f=this&&this!==hn&&this instanceof n?o:t;++s<l;)c[s]=r[s];for(;u--;)c[s++]=arguments[++a];return Mn(f,i?e:this,c)}}(t,n,i,f);else var b=function(t,n,e){var r=1&n,i=Di(t);return function n(){return(this&&this!==hn&&this instanceof n?i:t).apply(r?e:this,arguments)}}(t,n,i);return Oo((w?ei:zo)(b,x),t,n)}function to(t,n,r,i){return t===e||Pa(t,zt[r])&&!Ot.call(i,r)?n:t}function no(t,n,r,i,o,a){return ru(t)&&ru(n)&&(a.set(n,t),Vr(t,n,e,no,a),a.delete(n)),t}function eo(t){return uu(t)?e:t}function ro(t,n,r,i,o,a){var u=1&r,s=t.length,l=n.length;if(s!=l&&!(u&&l>s))return!1;var c=a.get(t),f=a.get(n);if(c&&f)return c==n&&f==t;var h=-1,p=!0,d=2&r?new Ze:e;for(a.set(t,n),a.set(n,t);++h<s;){var g=t[h],v=n[h];if(i)var y=u?i(v,g,h,n,t,a):i(g,v,h,t,n,a);if(y!==e){if(y)continue;p=!1;break}if(d){if(!On(n,(function(t,n){if(!Jn(d,n)&&(g===t||o(g,t,r,i,a)))return d.push(n)}))){p=!1;break}}else if(g!==v&&!o(g,v,r,i,a)){p=!1;break}}return a.delete(t),a.delete(n),p}function io(t){return Lo(To(t,e,Go),t+"")}function oo(t){return Cr(t,Ru,go)}function ao(t){return Cr(t,Lu,vo)}var uo=Ee?function(t){return Ee.get(t)}:fs;function so(t){for(var n=t.name+"",e=ze[n],r=Ot.call(ze,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function lo(t){return(Ot.call(Xe,"placeholder")?Xe:t).placeholder}function co(){var t=Xe.iteratee||us;return t=t===us?Ir:t,arguments.length?t(arguments[0],arguments[1]):t}function fo(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function ho(t){for(var n=Ru(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,No(i)]}return n}function po(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return Or(r)?r:e}var go=qn?function(t){return null==t?[]:(t=Nt(t),Tn(qn(t),(function(n){return Ht.call(t,n)})))}:_s,vo=qn?function(t){for(var n=[];t;)zn(n,go(t)),t=Ft(t);return n}:_s,yo=Nr;function _o(t,n,e){for(var r=-1,i=(n=xi(n,t)).length,o=!1;++r<i;){var a=Wo(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&eu(i)&&xo(a,i)&&(Fa(t)||Ua(t))}function mo(t){return"function"!=typeof t.constructor||Co(t)?{}:Pe(Ft(t))}function wo(t){return Fa(t)||Ua(t)||!!(tn&&t&&t[tn])}function xo(t,n){var e=typeof t;return!!(n=null==n?h:n)&&("number"==e||"symbol"!=e&&_t.test(t))&&t>-1&&t%1==0&&t<n}function bo(t,n,e){if(!ru(e))return!1;var r=typeof n;return!!("number"==r?Ha(e)&&xo(n,e.length):"string"==r&&n in e)&&Pa(e[n],t)}function ko(t,n){if(Fa(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!fu(t))||(tt.test(t)||!Q.test(t)||null!=n&&t in Nt(n))}function Mo(t){var n=so(t),e=Xe[n];if("function"!=typeof e||!(n in Ue.prototype))return!1;if(t===e)return!0;var r=uo(e);return!!r&&t===r[0]}(Ce&&yo(new Ce(new ArrayBuffer(1)))!=z||Ne&&yo(new Ne)!=k||Se&&yo(Se.resolve())!=C||Te&&yo(new Te)!=S||je&&yo(new je)!=$)&&(yo=function(t){var n=Nr(t),r=n==A?t.constructor:e,i=r?Bo(r):"";if(i)switch(i){case Re:return z;case Le:return k;case Oe:return C;case Ie:return S;case Ye:return $}return n});var Ao=Rt?tu:ms;function Co(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||zt)}function No(t){return t==t&&!ru(t)}function So(t,n){return function(r){return null!=r&&(r[t]===n&&(n!==e||t in Nt(r)))}}function To(t,n,r){return n=we(n===e?t.length-1:n,0),function(){for(var e=arguments,i=-1,o=we(e.length-n,0),a=bt(o);++i<o;)a[i]=e[n+i];i=-1;for(var u=bt(n+1);++i<n;)u[i]=e[i];return u[n]=r(a),Mn(t,this,u)}}function jo(t,n){return n.length<2?t:Ar(t,oi(n,0,-1))}function $o(t,n){for(var r=t.length,i=xe(n.length,r),o=$i(t);i--;){var a=n[i];t[i]=xo(a,r)?o[a]:e}return t}function Eo(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var zo=Io(ei),Ro=vn||function(t,n){return hn.setTimeout(t,n)},Lo=Io(ri);function Oo(t,n,e){var r=n+"";return Lo(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return Cn(g,(function(e){var r="_."+e[0];n&e[1]&&!jn(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(ut);return n?n[1].split(st):[]}(r),e)))}function Io(t){var n=0,r=0;return function(){var i=be(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function Yo(t,n){var r=-1,i=t.length,o=i-1;for(n=n===e?i:n;++r<n;){var a=Zr(r,o),u=t[a];t[a]=t[r],t[r]=u}return t.length=n,t}var Do=function(t){var n=Ia(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(nt,(function(t,e,r,i){n.push(r?i.replace(ft,"$1"):e||t)})),n}));function Wo(t){if("string"==typeof t||fu(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Bo(t){if(null!=t){try{return Lt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xo(t){if(t instanceof Ue)return t.clone();var n=new qe(t.__wrapped__,t.__chain__);return n.__actions__=$i(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Po=Jr((function(t,n){return Za(t)?pr(t,mr(n,1,Za,!0)):[]})),Vo=Jr((function(t,n){var r=Qo(n);return Za(r)&&(r=e),Za(t)?pr(t,mr(n,1,Za,!0),co(r,2)):[]})),qo=Jr((function(t,n){var r=Qo(n);return Za(r)&&(r=e),Za(t)?pr(t,mr(n,1,Za,!0),e,r):[]}));function Uo(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:yu(e);return i<0&&(i=we(r+i,0)),Dn(t,co(n,3),i)}function Fo(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return r!==e&&(o=yu(r),o=r<0?we(i+o,0):xe(o,i-1)),Dn(t,co(n,3),o,!0)}function Go(t){return(null==t?0:t.length)?mr(t,1):[]}function Ho(t){return t&&t.length?t[0]:e}var Zo=Jr((function(t){var n=En(t,mi);return n.length&&n[0]===t[0]?$r(n):[]})),Ko=Jr((function(t){var n=Qo(t),r=En(t,mi);return n===Qo(r)?n=e:r.pop(),r.length&&r[0]===t[0]?$r(r,co(n,2)):[]})),Jo=Jr((function(t){var n=Qo(t),r=En(t,mi);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?$r(r,e,n):[]}));function Qo(t){var n=null==t?0:t.length;return n?t[n-1]:e}var ta=Jr(na);function na(t,n){return t&&t.length&&n&&n.length?Gr(t,n):t}var ea=io((function(t,n){var e=null==t?0:t.length,r=sr(t,n);return Hr(t,En(n,(function(t){return xo(t,e)?+t:t})).sort(Si)),r}));function ra(t){return null==t?t:Ae.call(t)}var ia=Jr((function(t){return hi(mr(t,1,Za,!0))})),oa=Jr((function(t){var n=Qo(t);return Za(n)&&(n=e),hi(mr(t,1,Za,!0),co(n,2))})),aa=Jr((function(t){var n=Qo(t);return n="function"==typeof n?n:e,hi(mr(t,1,Za,!0),e,n)}));function ua(t){if(!t||!t.length)return[];var n=0;return t=Tn(t,(function(t){if(Za(t))return n=we(t.length,n),!0})),Gn(n,(function(n){return En(t,Vn(n))}))}function sa(t,n){if(!t||!t.length)return[];var r=ua(t);return null==n?r:En(r,(function(t){return Mn(n,e,t)}))}var la=Jr((function(t,n){return Za(t)?pr(t,n):[]})),ca=Jr((function(t){return yi(Tn(t,Za))})),fa=Jr((function(t){var n=Qo(t);return Za(n)&&(n=e),yi(Tn(t,Za),co(n,2))})),ha=Jr((function(t){var n=Qo(t);return n="function"==typeof n?n:e,yi(Tn(t,Za),e,n)})),pa=Jr(ua);var da=Jr((function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,sa(t,r)}));function ga(t){var n=Xe(t);return n.__chain__=!0,n}function va(t,n){return n(t)}var ya=io((function(t){var n=t.length,r=n?t[0]:0,i=this.__wrapped__,o=function(n){return sr(n,t)};return!(n>1||this.__actions__.length)&&i instanceof Ue&&xo(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:va,args:[o],thisArg:e}),new qe(i,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(o)}));var _a=zi((function(t,n,e){Ot.call(t,e)?++t[e]:ur(t,e,1)}));var ma=Wi(Uo),wa=Wi(Fo);function xa(t,n){return(Fa(t)?Cn:dr)(t,co(n,3))}function ba(t,n){return(Fa(t)?Nn:gr)(t,co(n,3))}var ka=zi((function(t,n,e){Ot.call(t,e)?t[e].push(n):ur(t,e,[n])}));var Ma=Jr((function(t,n,e){var r=-1,i="function"==typeof n,o=Ha(t)?bt(t.length):[];return dr(t,(function(t){o[++r]=i?Mn(n,t,e):Er(t,n,e)})),o})),Aa=zi((function(t,n,e){ur(t,e,n)}));function Ca(t,n){return(Fa(t)?En:Br)(t,co(n,3))}var Na=zi((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));var Sa=Jr((function(t,n){if(null==t)return[];var e=n.length;return e>1&&bo(t,n[0],n[1])?n=[]:e>2&&bo(n[0],n[1],n[2])&&(n=[n[0]]),Ur(t,mr(n,1),[])})),Ta=dn||function(){return hn.Date.now()};function ja(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,Qi(t,l,e,e,e,e,n)}function $a(t,n){var i;if("function"!=typeof n)throw new jt(r);return t=yu(t),function(){return--t>0&&(i=n.apply(this,arguments)),t<=1&&(n=e),i}}var Ea=Jr((function(t,n,e){var r=1;if(e.length){var i=se(e,lo(Ea));r|=u}return Qi(t,r,n,e,i)})),za=Jr((function(t,n,e){var r=3;if(e.length){var i=se(e,lo(za));r|=u}return Qi(n,r,t,e,i)}));function Ra(t,n,i){var o,a,u,s,l,c,f=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new jt(r);function g(n){var r=o,i=a;return o=a=e,f=n,s=t.apply(i,r)}function v(t){return f=t,l=Ro(_,n),h?g(t):s}function y(t){var r=t-c;return c===e||r>=n||r<0||p&&t-f>=u}function _(){var t=Ta();if(y(t))return m(t);l=Ro(_,function(t){var e=n-(t-c);return p?xe(e,u-(t-f)):e}(t))}function m(t){return l=e,d&&o?g(t):(o=a=e,s)}function w(){var t=Ta(),r=y(t);if(o=arguments,a=this,c=t,r){if(l===e)return v(c);if(p)return Mi(l),l=Ro(_,n),g(c)}return l===e&&(l=Ro(_,n)),s}return n=mu(n)||0,ru(i)&&(h=!!i.leading,u=(p="maxWait"in i)?we(mu(i.maxWait)||0,n):u,d="trailing"in i?!!i.trailing:d),w.cancel=function(){l!==e&&Mi(l),f=0,o=c=a=l=e},w.flush=function(){return l===e?s:m(Ta())},w}var La=Jr((function(t,n){return hr(t,1,n)})),Oa=Jr((function(t,n,e){return hr(t,mu(n)||0,e)}));function Ia(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new jt(r);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(Ia.Cache||He),e}function Ya(t){if("function"!=typeof t)throw new jt(r);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}Ia.Cache=He;var Da=bi((function(t,n){var e=(n=1==n.length&&Fa(n[0])?En(n[0],Zn(co())):En(mr(n,1),Zn(co()))).length;return Jr((function(r){for(var i=-1,o=xe(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return Mn(t,this,r)}))})),Wa=Jr((function(t,n){var r=se(n,lo(Wa));return Qi(t,u,e,n,r)})),Ba=Jr((function(t,n){var r=se(n,lo(Ba));return Qi(t,s,e,n,r)})),Xa=io((function(t,n){return Qi(t,c,e,e,e,n)}));function Pa(t,n){return t===n||t!=t&&n!=n}var Va=Gi(Sr),qa=Gi((function(t,n){return t>=n})),Ua=zr(function(){return arguments}())?zr:function(t){return iu(t)&&Ot.call(t,"callee")&&!Ht.call(t,"callee")},Fa=bt.isArray,Ga=_n?Zn(_n):function(t){return iu(t)&&Nr(t)==E};function Ha(t){return null!=t&&eu(t.length)&&!tu(t)}function Za(t){return iu(t)&&Ha(t)}var Ka=ve||ms,Ja=mn?Zn(mn):function(t){return iu(t)&&Nr(t)==m};function Qa(t){if(!iu(t))return!1;var n=Nr(t);return n==w||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!uu(t)}function tu(t){if(!ru(t))return!1;var n=Nr(t);return n==x||n==b||"[object AsyncFunction]"==n||"[object Proxy]"==n}function nu(t){return"number"==typeof t&&t==yu(t)}function eu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ru(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function iu(t){return null!=t&&"object"==typeof t}var ou=wn?Zn(wn):function(t){return iu(t)&&yo(t)==k};function au(t){return"number"==typeof t||iu(t)&&Nr(t)==M}function uu(t){if(!iu(t)||Nr(t)!=A)return!1;var n=Ft(t);if(null===n)return!0;var e=Ot.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Lt.call(e)==Wt}var su=xn?Zn(xn):function(t){return iu(t)&&Nr(t)==N};var lu=bn?Zn(bn):function(t){return iu(t)&&yo(t)==S};function cu(t){return"string"==typeof t||!Fa(t)&&iu(t)&&Nr(t)==T}function fu(t){return"symbol"==typeof t||iu(t)&&Nr(t)==j}var hu=kn?Zn(kn):function(t){return iu(t)&&eu(t.length)&&!!on[Nr(t)]};var pu=Gi(Wr),du=Gi((function(t,n){return t<=n}));function gu(t){if(!t)return[];if(Ha(t))return cu(t)?he(t):$i(t);if(un&&t[un])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[un]());var n=yo(t);return(n==k?ae:n==S?le:Pu)(t)}function vu(t){return t?(t=mu(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function yu(t){var n=vu(t),e=n%1;return n==n?e?n-e:n:0}function _u(t){return t?lr(yu(t),0,d):0}function mu(t){if("number"==typeof t)return t;if(fu(t))return p;if(ru(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=ru(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=Hn(t);var e=gt.test(t);return e||yt.test(t)?ln(t.slice(2),e?2:8):dt.test(t)?p:+t}function wu(t){return Ei(t,Lu(t))}function xu(t){return null==t?"":fi(t)}var bu=Ri((function(t,n){if(Co(n)||Ha(n))Ei(n,Ru(n),t);else for(var e in n)Ot.call(n,e)&&rr(t,e,n[e])})),ku=Ri((function(t,n){Ei(n,Lu(n),t)})),Mu=Ri((function(t,n,e,r){Ei(n,Lu(n),t,r)})),Au=Ri((function(t,n,e,r){Ei(n,Ru(n),t,r)})),Cu=io(sr);var Nu=Jr((function(t,n){t=Nt(t);var r=-1,i=n.length,o=i>2?n[2]:e;for(o&&bo(n[0],n[1],o)&&(i=1);++r<i;)for(var a=n[r],u=Lu(a),s=-1,l=u.length;++s<l;){var c=u[s],f=t[c];(f===e||Pa(f,zt[c])&&!Ot.call(t,c))&&(t[c]=a[c])}return t})),Su=Jr((function(t){return t.push(e,no),Mn(Iu,e,t)}));function Tu(t,n,r){var i=null==t?e:Ar(t,n);return i===e?r:i}function ju(t,n){return null!=t&&_o(t,n,jr)}var $u=Pi((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Dt.call(n)),t[n]=e}),rs(as)),Eu=Pi((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Dt.call(n)),Ot.call(t,n)?t[n].push(e):t[n]=[e]}),co),zu=Jr(Er);function Ru(t){return Ha(t)?Je(t):Yr(t)}function Lu(t){return Ha(t)?Je(t,!0):Dr(t)}var Ou=Ri((function(t,n,e){Vr(t,n,e)})),Iu=Ri((function(t,n,e,r){Vr(t,n,e,r)})),Yu=io((function(t,n){var e={};if(null==t)return e;var r=!1;n=En(n,(function(n){return n=xi(n,t),r||(r=n.length>1),n})),Ei(t,ao(t),e),r&&(e=cr(e,7,eo));for(var i=n.length;i--;)pi(e,n[i]);return e}));var Du=io((function(t,n){return null==t?{}:function(t,n){return Fr(t,n,(function(n,e){return ju(t,e)}))}(t,n)}));function Wu(t,n){if(null==t)return{};var e=En(ao(t),(function(t){return[t]}));return n=co(n),Fr(t,e,(function(t,e){return n(t,e[0])}))}var Bu=Ji(Ru),Xu=Ji(Lu);function Pu(t){return null==t?[]:Kn(t,Ru(t))}var Vu=Yi((function(t,n,e){return n=n.toLowerCase(),t+(e?qu(n):n)}));function qu(t){return Qu(xu(t).toLowerCase())}function Uu(t){return(t=xu(t))&&t.replace(mt,ee).replace(Kt,"")}var Fu=Yi((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Gu=Yi((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),Hu=Ii("toLowerCase");var Zu=Yi((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));var Ku=Yi((function(t,n,e){return t+(e?" ":"")+Qu(n)}));var Ju=Yi((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),Qu=Ii("toUpperCase");function ts(t,n,r){return t=xu(t),(n=r?e:n)===e?function(t){return nn.test(t)}(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(n)||[]}var ns=Jr((function(t,n){try{return Mn(t,e,n)}catch(t){return Qa(t)?t:new Mt(t)}})),es=io((function(t,n){return Cn(n,(function(n){n=Wo(n),ur(t,n,Ea(t[n],t))})),t}));function rs(t){return function(){return t}}var is=Bi(),os=Bi(!0);function as(t){return t}function us(t){return Ir("function"==typeof t?t:cr(t,1))}var ss=Jr((function(t,n){return function(e){return Er(e,t,n)}})),ls=Jr((function(t,n){return function(e){return Er(t,e,n)}}));function cs(t,n,e){var r=Ru(n),i=Mr(n,r);null!=e||ru(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=Mr(n,Ru(n)));var o=!(ru(e)&&"chain"in e&&!e.chain),a=tu(t);return Cn(i,(function(e){var r=n[e];t[e]=r,a&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__),i=e.__actions__=$i(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,zn([this.value()],arguments))})})),t}function fs(){}var hs=qi(En),ps=qi(Sn),ds=qi(On);function gs(t){return ko(t)?Vn(Wo(t)):function(t){return function(n){return Ar(n,t)}}(t)}var vs=Fi(),ys=Fi(!0);function _s(){return[]}function ms(){return!1}var ws=Vi((function(t,n){return t+n}),0),xs=Zi("ceil"),bs=Vi((function(t,n){return t/n}),1),ks=Zi("floor");var Ms,As=Vi((function(t,n){return t*n}),1),Cs=Zi("round"),Ns=Vi((function(t,n){return t-n}),0);return Xe.after=function(t,n){if("function"!=typeof n)throw new jt(r);return t=yu(t),function(){if(--t<1)return n.apply(this,arguments)}},Xe.ary=ja,Xe.assign=bu,Xe.assignIn=ku,Xe.assignInWith=Mu,Xe.assignWith=Au,Xe.at=Cu,Xe.before=$a,Xe.bind=Ea,Xe.bindAll=es,Xe.bindKey=za,Xe.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Fa(t)?t:[t]},Xe.chain=ga,Xe.chunk=function(t,n,r){n=(r?bo(t,n,r):n===e)?1:we(yu(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var o=0,a=0,u=bt(yn(i/n));o<i;)u[a++]=oi(t,o,o+=n);return u},Xe.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},Xe.concat=function(){var t=arguments.length;if(!t)return[];for(var n=bt(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return zn(Fa(e)?$i(e):[e],mr(n,1))},Xe.cond=function(t){var n=null==t?0:t.length,e=co();return t=n?En(t,(function(t){if("function"!=typeof t[1])throw new jt(r);return[e(t[0]),t[1]]})):[],Jr((function(e){for(var r=-1;++r<n;){var i=t[r];if(Mn(i[0],this,e))return Mn(i[1],this,e)}}))},Xe.conforms=function(t){return function(t){var n=Ru(t);return function(e){return fr(e,t,n)}}(cr(t,1))},Xe.constant=rs,Xe.countBy=_a,Xe.create=function(t,n){var e=Pe(t);return null==n?e:ar(e,n)},Xe.curry=function t(n,r,i){var o=Qi(n,8,e,e,e,e,e,r=i?e:r);return o.placeholder=t.placeholder,o},Xe.curryRight=function t(n,r,i){var o=Qi(n,a,e,e,e,e,e,r=i?e:r);return o.placeholder=t.placeholder,o},Xe.debounce=Ra,Xe.defaults=Nu,Xe.defaultsDeep=Su,Xe.defer=La,Xe.delay=Oa,Xe.difference=Po,Xe.differenceBy=Vo,Xe.differenceWith=qo,Xe.drop=function(t,n,r){var i=null==t?0:t.length;return i?oi(t,(n=r||n===e?1:yu(n))<0?0:n,i):[]},Xe.dropRight=function(t,n,r){var i=null==t?0:t.length;return i?oi(t,0,(n=i-(n=r||n===e?1:yu(n)))<0?0:n):[]},Xe.dropRightWhile=function(t,n){return t&&t.length?gi(t,co(n,3),!0,!0):[]},Xe.dropWhile=function(t,n){return t&&t.length?gi(t,co(n,3),!0):[]},Xe.fill=function(t,n,r,i){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&bo(t,n,r)&&(r=0,i=o),function(t,n,r,i){var o=t.length;for((r=yu(r))<0&&(r=-r>o?0:o+r),(i=i===e||i>o?o:yu(i))<0&&(i+=o),i=r>i?0:_u(i);r<i;)t[r++]=n;return t}(t,n,r,i)):[]},Xe.filter=function(t,n){return(Fa(t)?Tn:_r)(t,co(n,3))},Xe.flatMap=function(t,n){return mr(Ca(t,n),1)},Xe.flatMapDeep=function(t,n){return mr(Ca(t,n),f)},Xe.flatMapDepth=function(t,n,r){return r=r===e?1:yu(r),mr(Ca(t,n),r)},Xe.flatten=Go,Xe.flattenDeep=function(t){return(null==t?0:t.length)?mr(t,f):[]},Xe.flattenDepth=function(t,n){return(null==t?0:t.length)?mr(t,n=n===e?1:yu(n)):[]},Xe.flip=function(t){return Qi(t,512)},Xe.flow=is,Xe.flowRight=os,Xe.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},Xe.functions=function(t){return null==t?[]:Mr(t,Ru(t))},Xe.functionsIn=function(t){return null==t?[]:Mr(t,Lu(t))},Xe.groupBy=ka,Xe.initial=function(t){return(null==t?0:t.length)?oi(t,0,-1):[]},Xe.intersection=Zo,Xe.intersectionBy=Ko,Xe.intersectionWith=Jo,Xe.invert=$u,Xe.invertBy=Eu,Xe.invokeMap=Ma,Xe.iteratee=us,Xe.keyBy=Aa,Xe.keys=Ru,Xe.keysIn=Lu,Xe.map=Ca,Xe.mapKeys=function(t,n){var e={};return n=co(n,3),br(t,(function(t,r,i){ur(e,n(t,r,i),t)})),e},Xe.mapValues=function(t,n){var e={};return n=co(n,3),br(t,(function(t,r,i){ur(e,r,n(t,r,i))})),e},Xe.matches=function(t){return Xr(cr(t,1))},Xe.matchesProperty=function(t,n){return Pr(t,cr(n,1))},Xe.memoize=Ia,Xe.merge=Ou,Xe.mergeWith=Iu,Xe.method=ss,Xe.methodOf=ls,Xe.mixin=cs,Xe.negate=Ya,Xe.nthArg=function(t){return t=yu(t),Jr((function(n){return qr(n,t)}))},Xe.omit=Yu,Xe.omitBy=function(t,n){return Wu(t,Ya(co(n)))},Xe.once=function(t){return $a(2,t)},Xe.orderBy=function(t,n,r,i){return null==t?[]:(Fa(n)||(n=null==n?[]:[n]),Fa(r=i?e:r)||(r=null==r?[]:[r]),Ur(t,n,r))},Xe.over=hs,Xe.overArgs=Da,Xe.overEvery=ps,Xe.overSome=ds,Xe.partial=Wa,Xe.partialRight=Ba,Xe.partition=Na,Xe.pick=Du,Xe.pickBy=Wu,Xe.property=gs,Xe.propertyOf=function(t){return function(n){return null==t?e:Ar(t,n)}},Xe.pull=ta,Xe.pullAll=na,Xe.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?Gr(t,n,co(e,2)):t},Xe.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Gr(t,n,e,r):t},Xe.pullAt=ea,Xe.range=vs,Xe.rangeRight=ys,Xe.rearg=Xa,Xe.reject=function(t,n){return(Fa(t)?Tn:_r)(t,Ya(co(n,3)))},Xe.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=co(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return Hr(t,i),e},Xe.rest=function(t,n){if("function"!=typeof t)throw new jt(r);return Jr(t,n=n===e?n:yu(n))},Xe.reverse=ra,Xe.sampleSize=function(t,n,r){return n=(r?bo(t,n,r):n===e)?1:yu(n),(Fa(t)?tr:ti)(t,n)},Xe.set=function(t,n,e){return null==t?t:ni(t,n,e)},Xe.setWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:ni(t,n,r,i)},Xe.shuffle=function(t){return(Fa(t)?nr:ii)(t)},Xe.slice=function(t,n,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&bo(t,n,r)?(n=0,r=i):(n=null==n?0:yu(n),r=r===e?i:yu(r)),oi(t,n,r)):[]},Xe.sortBy=Sa,Xe.sortedUniq=function(t){return t&&t.length?li(t):[]},Xe.sortedUniqBy=function(t,n){return t&&t.length?li(t,co(n,2)):[]},Xe.split=function(t,n,r){return r&&"number"!=typeof r&&bo(t,n,r)&&(n=r=e),(r=r===e?d:r>>>0)?(t=xu(t))&&("string"==typeof n||null!=n&&!su(n))&&!(n=fi(n))&&oe(t)?ki(he(t),0,r):t.split(n,r):[]},Xe.spread=function(t,n){if("function"!=typeof t)throw new jt(r);return n=null==n?0:we(yu(n),0),Jr((function(e){var r=e[n],i=ki(e,0,n);return r&&zn(i,r),Mn(t,this,i)}))},Xe.tail=function(t){var n=null==t?0:t.length;return n?oi(t,1,n):[]},Xe.take=function(t,n,r){return t&&t.length?oi(t,0,(n=r||n===e?1:yu(n))<0?0:n):[]},Xe.takeRight=function(t,n,r){var i=null==t?0:t.length;return i?oi(t,(n=i-(n=r||n===e?1:yu(n)))<0?0:n,i):[]},Xe.takeRightWhile=function(t,n){return t&&t.length?gi(t,co(n,3),!1,!0):[]},Xe.takeWhile=function(t,n){return t&&t.length?gi(t,co(n,3)):[]},Xe.tap=function(t,n){return n(t),t},Xe.throttle=function(t,n,e){var i=!0,o=!0;if("function"!=typeof t)throw new jt(r);return ru(e)&&(i="leading"in e?!!e.leading:i,o="trailing"in e?!!e.trailing:o),Ra(t,n,{leading:i,maxWait:n,trailing:o})},Xe.thru=va,Xe.toArray=gu,Xe.toPairs=Bu,Xe.toPairsIn=Xu,Xe.toPath=function(t){return Fa(t)?En(t,Wo):fu(t)?[t]:$i(Do(xu(t)))},Xe.toPlainObject=wu,Xe.transform=function(t,n,e){var r=Fa(t),i=r||Ka(t)||hu(t);if(n=co(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:ru(t)&&tu(o)?Pe(Ft(t)):{}}return(i?Cn:br)(t,(function(t,r,i){return n(e,t,r,i)})),e},Xe.unary=function(t){return ja(t,1)},Xe.union=ia,Xe.unionBy=oa,Xe.unionWith=aa,Xe.uniq=function(t){return t&&t.length?hi(t):[]},Xe.uniqBy=function(t,n){return t&&t.length?hi(t,co(n,2)):[]},Xe.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?hi(t,e,n):[]},Xe.unset=function(t,n){return null==t||pi(t,n)},Xe.unzip=ua,Xe.unzipWith=sa,Xe.update=function(t,n,e){return null==t?t:di(t,n,wi(e))},Xe.updateWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:di(t,n,wi(r),i)},Xe.values=Pu,Xe.valuesIn=function(t){return null==t?[]:Kn(t,Lu(t))},Xe.without=la,Xe.words=ts,Xe.wrap=function(t,n){return Wa(wi(n),t)},Xe.xor=ca,Xe.xorBy=fa,Xe.xorWith=ha,Xe.zip=pa,Xe.zipObject=function(t,n){return _i(t||[],n||[],rr)},Xe.zipObjectDeep=function(t,n){return _i(t||[],n||[],ni)},Xe.zipWith=da,Xe.entries=Bu,Xe.entriesIn=Xu,Xe.extend=ku,Xe.extendWith=Mu,cs(Xe,Xe),Xe.add=ws,Xe.attempt=ns,Xe.camelCase=Vu,Xe.capitalize=qu,Xe.ceil=xs,Xe.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=mu(r))==r?r:0),n!==e&&(n=(n=mu(n))==n?n:0),lr(mu(t),n,r)},Xe.clone=function(t){return cr(t,4)},Xe.cloneDeep=function(t){return cr(t,5)},Xe.cloneDeepWith=function(t,n){return cr(t,5,n="function"==typeof n?n:e)},Xe.cloneWith=function(t,n){return cr(t,4,n="function"==typeof n?n:e)},Xe.conformsTo=function(t,n){return null==n||fr(t,n,Ru(n))},Xe.deburr=Uu,Xe.defaultTo=function(t,n){return null==t||t!=t?n:t},Xe.divide=bs,Xe.endsWith=function(t,n,r){t=xu(t),n=fi(n);var i=t.length,o=r=r===e?i:lr(yu(r),0,i);return(r-=n.length)>=0&&t.slice(r,o)==n},Xe.eq=Pa,Xe.escape=function(t){return(t=xu(t))&&H.test(t)?t.replace(F,re):t},Xe.escapeRegExp=function(t){return(t=xu(t))&&rt.test(t)?t.replace(et,"\\$&"):t},Xe.every=function(t,n,r){var i=Fa(t)?Sn:vr;return r&&bo(t,n,r)&&(n=e),i(t,co(n,3))},Xe.find=ma,Xe.findIndex=Uo,Xe.findKey=function(t,n){return Yn(t,co(n,3),br)},Xe.findLast=wa,Xe.findLastIndex=Fo,Xe.findLastKey=function(t,n){return Yn(t,co(n,3),kr)},Xe.floor=ks,Xe.forEach=xa,Xe.forEachRight=ba,Xe.forIn=function(t,n){return null==t?t:wr(t,co(n,3),Lu)},Xe.forInRight=function(t,n){return null==t?t:xr(t,co(n,3),Lu)},Xe.forOwn=function(t,n){return t&&br(t,co(n,3))},Xe.forOwnRight=function(t,n){return t&&kr(t,co(n,3))},Xe.get=Tu,Xe.gt=Va,Xe.gte=qa,Xe.has=function(t,n){return null!=t&&_o(t,n,Tr)},Xe.hasIn=ju,Xe.head=Ho,Xe.identity=as,Xe.includes=function(t,n,e,r){t=Ha(t)?t:Pu(t),e=e&&!r?yu(e):0;var i=t.length;return e<0&&(e=we(i+e,0)),cu(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&Wn(t,n,e)>-1},Xe.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:yu(e);return i<0&&(i=we(r+i,0)),Wn(t,n,i)},Xe.inRange=function(t,n,r){return n=vu(n),r===e?(r=n,n=0):r=vu(r),function(t,n,e){return t>=xe(n,e)&&t<we(n,e)}(t=mu(t),n,r)},Xe.invoke=zu,Xe.isArguments=Ua,Xe.isArray=Fa,Xe.isArrayBuffer=Ga,Xe.isArrayLike=Ha,Xe.isArrayLikeObject=Za,Xe.isBoolean=function(t){return!0===t||!1===t||iu(t)&&Nr(t)==_},Xe.isBuffer=Ka,Xe.isDate=Ja,Xe.isElement=function(t){return iu(t)&&1===t.nodeType&&!uu(t)},Xe.isEmpty=function(t){if(null==t)return!0;if(Ha(t)&&(Fa(t)||"string"==typeof t||"function"==typeof t.splice||Ka(t)||hu(t)||Ua(t)))return!t.length;var n=yo(t);if(n==k||n==S)return!t.size;if(Co(t))return!Yr(t).length;for(var e in t)if(Ot.call(t,e))return!1;return!0},Xe.isEqual=function(t,n){return Rr(t,n)},Xe.isEqualWith=function(t,n,r){var i=(r="function"==typeof r?r:e)?r(t,n):e;return i===e?Rr(t,n,e,r):!!i},Xe.isError=Qa,Xe.isFinite=function(t){return"number"==typeof t&&ye(t)},Xe.isFunction=tu,Xe.isInteger=nu,Xe.isLength=eu,Xe.isMap=ou,Xe.isMatch=function(t,n){return t===n||Lr(t,n,ho(n))},Xe.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,Lr(t,n,ho(n),r)},Xe.isNaN=function(t){return au(t)&&t!=+t},Xe.isNative=function(t){if(Ao(t))throw new Mt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(t)},Xe.isNil=function(t){return null==t},Xe.isNull=function(t){return null===t},Xe.isNumber=au,Xe.isObject=ru,Xe.isObjectLike=iu,Xe.isPlainObject=uu,Xe.isRegExp=su,Xe.isSafeInteger=function(t){return nu(t)&&t>=-9007199254740991&&t<=h},Xe.isSet=lu,Xe.isString=cu,Xe.isSymbol=fu,Xe.isTypedArray=hu,Xe.isUndefined=function(t){return t===e},Xe.isWeakMap=function(t){return iu(t)&&yo(t)==$},Xe.isWeakSet=function(t){return iu(t)&&"[object WeakSet]"==Nr(t)},Xe.join=function(t,n){return null==t?"":_e.call(t,n)},Xe.kebabCase=Fu,Xe.last=Qo,Xe.lastIndexOf=function(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var o=i;return r!==e&&(o=(o=yu(r))<0?we(i+o,0):xe(o,i-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,o):Dn(t,Xn,o,!0)},Xe.lowerCase=Gu,Xe.lowerFirst=Hu,Xe.lt=pu,Xe.lte=du,Xe.max=function(t){return t&&t.length?yr(t,as,Sr):e},Xe.maxBy=function(t,n){return t&&t.length?yr(t,co(n,2),Sr):e},Xe.mean=function(t){return Pn(t,as)},Xe.meanBy=function(t,n){return Pn(t,co(n,2))},Xe.min=function(t){return t&&t.length?yr(t,as,Wr):e},Xe.minBy=function(t,n){return t&&t.length?yr(t,co(n,2),Wr):e},Xe.stubArray=_s,Xe.stubFalse=ms,Xe.stubObject=function(){return{}},Xe.stubString=function(){return""},Xe.stubTrue=function(){return!0},Xe.multiply=As,Xe.nth=function(t,n){return t&&t.length?qr(t,yu(n)):e},Xe.noConflict=function(){return hn._===this&&(hn._=Bt),this},Xe.noop=fs,Xe.now=Ta,Xe.pad=function(t,n,e){t=xu(t);var r=(n=yu(n))?fe(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return Ui(In(i),e)+t+Ui(yn(i),e)},Xe.padEnd=function(t,n,e){t=xu(t);var r=(n=yu(n))?fe(t):0;return n&&r<n?t+Ui(n-r,e):t},Xe.padStart=function(t,n,e){t=xu(t);var r=(n=yu(n))?fe(t):0;return n&&r<n?Ui(n-r,e)+t:t},Xe.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),ke(xu(t).replace(it,""),n||0)},Xe.random=function(t,n,r){if(r&&"boolean"!=typeof r&&bo(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=vu(t),n===e?(n=t,t=0):n=vu(n)),t>n){var i=t;t=n,n=i}if(r||t%1||n%1){var o=Me();return xe(t+o*(n-t+sn("1e-"+((o+"").length-1))),n)}return Zr(t,n)},Xe.reduce=function(t,n,e){var r=Fa(t)?Rn:Un,i=arguments.length<3;return r(t,co(n,4),e,i,dr)},Xe.reduceRight=function(t,n,e){var r=Fa(t)?Ln:Un,i=arguments.length<3;return r(t,co(n,4),e,i,gr)},Xe.repeat=function(t,n,r){return n=(r?bo(t,n,r):n===e)?1:yu(n),Kr(xu(t),n)},Xe.replace=function(){var t=arguments,n=xu(t[0]);return t.length<3?n:n.replace(t[1],t[2])},Xe.result=function(t,n,r){var i=-1,o=(n=xi(n,t)).length;for(o||(o=1,t=e);++i<o;){var a=null==t?e:t[Wo(n[i])];a===e&&(i=o,a=r),t=tu(a)?a.call(t):a}return t},Xe.round=Cs,Xe.runInContext=t,Xe.sample=function(t){return(Fa(t)?Qe:Qr)(t)},Xe.size=function(t){if(null==t)return 0;if(Ha(t))return cu(t)?fe(t):t.length;var n=yo(t);return n==k||n==S?t.size:Yr(t).length},Xe.snakeCase=Zu,Xe.some=function(t,n,r){var i=Fa(t)?On:ai;return r&&bo(t,n,r)&&(n=e),i(t,co(n,3))},Xe.sortedIndex=function(t,n){return ui(t,n)},Xe.sortedIndexBy=function(t,n,e){return si(t,n,co(e,2))},Xe.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=ui(t,n);if(r<e&&Pa(t[r],n))return r}return-1},Xe.sortedLastIndex=function(t,n){return ui(t,n,!0)},Xe.sortedLastIndexBy=function(t,n,e){return si(t,n,co(e,2),!0)},Xe.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=ui(t,n,!0)-1;if(Pa(t[e],n))return e}return-1},Xe.startCase=Ku,Xe.startsWith=function(t,n,e){return t=xu(t),e=null==e?0:lr(yu(e),0,t.length),n=fi(n),t.slice(e,e+n.length)==n},Xe.subtract=Ns,Xe.sum=function(t){return t&&t.length?Fn(t,as):0},Xe.sumBy=function(t,n){return t&&t.length?Fn(t,co(n,2)):0},Xe.template=function(t,n,r){var i=Xe.templateSettings;r&&bo(t,n,r)&&(n=e),t=xu(t),n=Mu({},n,i,to);var o,a,u=Mu({},n.imports,i.imports,to),s=Ru(u),l=Kn(u,s),c=0,f=n.interpolate||wt,h="__p += '",p=St((n.escape||wt).source+"|"+f.source+"|"+(f===J?ht:wt).source+"|"+(n.evaluate||wt).source+"|$","g"),d="//# sourceURL="+(Ot.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rn+"]")+"\n";t.replace(p,(function(n,e,r,i,u,s){return r||(r=i),h+=t.slice(c,s).replace(xt,ie),e&&(o=!0,h+="' +\n__e("+e+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+n.length,n})),h+="';\n";var g=Ot.call(n,"variable")&&n.variable;if(g){if(ct.test(g))throw new Mt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(P,""):h).replace(V,"$1").replace(q,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=ns((function(){return At(s,d+"return "+h).apply(e,l)}));if(v.source=h,Qa(v))throw v;return v},Xe.times=function(t,n){if((t=yu(t))<1||t>h)return[];var e=d,r=xe(t,d);n=co(n),t-=d;for(var i=Gn(r,n);++e<t;)n(e);return i},Xe.toFinite=vu,Xe.toInteger=yu,Xe.toLength=_u,Xe.toLower=function(t){return xu(t).toLowerCase()},Xe.toNumber=mu,Xe.toSafeInteger=function(t){return t?lr(yu(t),-9007199254740991,h):0===t?t:0},Xe.toString=xu,Xe.toUpper=function(t){return xu(t).toUpperCase()},Xe.trim=function(t,n,r){if((t=xu(t))&&(r||n===e))return Hn(t);if(!t||!(n=fi(n)))return t;var i=he(t),o=he(n);return ki(i,Qn(i,o),te(i,o)+1).join("")},Xe.trimEnd=function(t,n,r){if((t=xu(t))&&(r||n===e))return t.slice(0,pe(t)+1);if(!t||!(n=fi(n)))return t;var i=he(t);return ki(i,0,te(i,he(n))+1).join("")},Xe.trimStart=function(t,n,r){if((t=xu(t))&&(r||n===e))return t.replace(it,"");if(!t||!(n=fi(n)))return t;var i=he(t);return ki(i,Qn(i,he(n))).join("")},Xe.truncate=function(t,n){var r=30,i="...";if(ru(n)){var o="separator"in n?n.separator:o;r="length"in n?yu(n.length):r,i="omission"in n?fi(n.omission):i}var a=(t=xu(t)).length;if(oe(t)){var u=he(t);a=u.length}if(r>=a)return t;var s=r-fe(i);if(s<1)return i;var l=u?ki(u,0,s).join(""):t.slice(0,s);if(o===e)return l+i;if(u&&(s+=l.length-s),su(o)){if(t.slice(s).search(o)){var c,f=l;for(o.global||(o=St(o.source,xu(pt.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var h=c.index;l=l.slice(0,h===e?s:h)}}else if(t.indexOf(fi(o),s)!=s){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+i},Xe.unescape=function(t){return(t=xu(t))&&G.test(t)?t.replace(U,de):t},Xe.uniqueId=function(t){var n=++It;return xu(t)+n},Xe.upperCase=Ju,Xe.upperFirst=Qu,Xe.each=xa,Xe.eachRight=ba,Xe.first=Ho,cs(Xe,(Ms={},br(Xe,(function(t,n){Ot.call(Xe.prototype,n)||(Ms[n]=t)})),Ms),{chain:!1}),Xe.VERSION="4.17.21",Cn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Xe[t].placeholder=Xe})),Cn(["drop","take"],(function(t,n){Ue.prototype[t]=function(r){r=r===e?1:we(yu(r),0);var i=this.__filtered__&&!n?new Ue(this):this.clone();return i.__filtered__?i.__takeCount__=xe(r,i.__takeCount__):i.__views__.push({size:xe(r,d),type:t+(i.__dir__<0?"Right":"")}),i},Ue.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),Cn(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;Ue.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:co(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),Cn(["head","last"],(function(t,n){var e="take"+(n?"Right":"");Ue.prototype[t]=function(){return this[e](1).value()[0]}})),Cn(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");Ue.prototype[t]=function(){return this.__filtered__?new Ue(this):this[e](1)}})),Ue.prototype.compact=function(){return this.filter(as)},Ue.prototype.find=function(t){return this.filter(t).head()},Ue.prototype.findLast=function(t){return this.reverse().find(t)},Ue.prototype.invokeMap=Jr((function(t,n){return"function"==typeof t?new Ue(this):this.map((function(e){return Er(e,t,n)}))})),Ue.prototype.reject=function(t){return this.filter(Ya(co(t)))},Ue.prototype.slice=function(t,n){t=yu(t);var r=this;return r.__filtered__&&(t>0||n<0)?new Ue(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=yu(n))<0?r.dropRight(-n):r.take(n-t)),r)},Ue.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ue.prototype.toArray=function(){return this.take(d)},br(Ue.prototype,(function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=Xe[i?"take"+("last"==n?"Right":""):n],a=i||/^find/.test(n);o&&(Xe.prototype[n]=function(){var n=this.__wrapped__,u=i?[1]:arguments,s=n instanceof Ue,l=u[0],c=s||Fa(n),f=function(t){var n=o.apply(Xe,zn([t],u));return i&&h?n[0]:n};c&&r&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,g=s&&!p;if(!a&&c){n=g?n:new Ue(this);var v=t.apply(n,u);return v.__actions__.push({func:va,args:[f],thisArg:e}),new qe(v,h)}return d&&g?t.apply(this,u):(v=this.thru(f),d?i?v.value()[0]:v.value():v)})})),Cn(["pop","push","shift","sort","splice","unshift"],(function(t){var n=$t[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Xe.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(Fa(i)?i:[],t)}return this[e]((function(e){return n.apply(Fa(e)?e:[],t)}))}})),br(Ue.prototype,(function(t,n){var e=Xe[n];if(e){var r=e.name+"";Ot.call(ze,r)||(ze[r]=[]),ze[r].push({name:n,func:e})}})),ze[Xi(e,2).name]=[{name:"wrapper",func:e}],Ue.prototype.clone=function(){var t=new Ue(this.__wrapped__);return t.__actions__=$i(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=$i(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=$i(this.__views__),t},Ue.prototype.reverse=function(){if(this.__filtered__){var t=new Ue(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ue.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Fa(t),r=n<0,i=e?t.length:0,o=function(t,n,e){var r=-1,i=e.length;for(;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=xe(n,t+a);break;case"takeRight":t=we(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,h=0,p=xe(s,this.__takeCount__);if(!e||!r&&i==s&&p==s)return vi(t,this.__actions__);var d=[];t:for(;s--&&h<p;){for(var g=-1,v=t[l+=n];++g<f;){var y=c[g],_=y.iteratee,m=y.type,w=_(v);if(2==m)v=w;else if(!w){if(1==m)continue t;break t}}d[h++]=v}return d},Xe.prototype.at=ya,Xe.prototype.chain=function(){return ga(this)},Xe.prototype.commit=function(){return new qe(this.value(),this.__chain__)},Xe.prototype.next=function(){this.__values__===e&&(this.__values__=gu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Xe.prototype.plant=function(t){for(var n,r=this;r instanceof Ve;){var i=Xo(r);i.__index__=0,i.__values__=e,n?o.__wrapped__=i:n=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,n},Xe.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ue){var n=t;return this.__actions__.length&&(n=new Ue(this)),(n=n.reverse()).__actions__.push({func:va,args:[ra],thisArg:e}),new qe(n,this.__chain__)}return this.thru(ra)},Xe.prototype.toJSON=Xe.prototype.valueOf=Xe.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Xe.prototype.first=Xe.prototype.head,un&&(Xe.prototype[un]=function(){return this}),Xe}();dn?((dn.exports=ge)._=ge,pn._=ge):hn._=ge}).call(Vr)}(qr,qr.exports);const Ur={marginLeft:20,marginRight:20,marginTop:20,marginBottom:20,heightTotal:500,widthTotal:800,colorScheme:Or};class Fr{data=[];height;width;marginTop=Ur.marginTop;marginBottom=Ur.marginBottom;marginLeft=Ur.marginLeft;marginRight=Ur.marginRight;heightTotal=Ur.heightTotal;widthTotal=Ur.widthTotal;unit;className;valuesRange;dimensions;scaleColor;chartContainer;chartSVG;toolTip;colorScale;chartContent;x;y;constructor(t,n){this.data=t,this.widthTotal=n&&n.width||this.widthTotal,this.heightTotal=n&&n.height||this.heightTotal,this.marginTop=n&&n.marginTop||this.marginTop,this.marginBottom=n&&n.marginBottom||this.marginBottom,this.marginLeft=n&&n.marginLeft||this.marginLeft,this.marginTop=n&&n.marginTop||this.marginTop,this.height=this.heightTotal-this.marginBottom-this.marginTop,this.width=this.widthTotal-this.marginLeft-this.marginRight,this.y=n&&n.y||{},this.x=n&&n.x||{},this.unit=n&&n.unit||"",this.className="owidChart",this.unit=n&&n.unit||"",this.valuesRange=u(this.data,(t=>t.value)),this.dimensions={years:n&&n.years||this.getDimensionValues("year"),entities:n&&n.enitites||this.getDimensionValues("entityName")},this.scaleColor=br(Ur.colorScheme),this.chartContainer=Ut("div").attr("class","chartContainer").attr("style","position: relative; clear: both;"),this.chartSVG=this.chartContainer.append("svg"),this.chartContainer.append("div").attr("class","tooltipContainer"),this.setupSVGElements(this.chartSVG)}setupSVGElements(t){t.attr("class",this.className).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",this.widthTotal).attr("height",this.heightTotal).attr("viewBox",`0 0 ${this.widthTotal} ${this.heightTotal}`).call((t=>t.append("style").text(this.css()))).call((t=>t.append("rect").attr("width",this.widthTotal).attr("height",this.heightTotal).attr("fill","white")));return t.append("g").attr("class","container").attr("transform",`translate(${this.marginLeft}, ${this.marginTop})`).call((t=>t.append("rect").attr("class","backgroundLayer").attr("width",this.width).attr("height",this.height).attr("fill","white"))).call((t=>t.append("g").attr("class","axis x").attr("transform",`translate(0, ${this.height})`))).call((t=>t.append("g").attr("class","axis y").attr("transform","translate(0,0)"))).select("rect.backgroundLayer").on("mousemove",(t=>this.handleMouseMove(t))).on("mouseleave",(()=>this.handleMouseLeave())),t}updateDimensions(){this.chartContainer.select("svg").select("g.container").attr("transform",`translate(${this.marginLeft}, ${this.marginTop})`),this.chartContainer.select("svg").select("g.container").select("rect.backgroundLayer").attr("width",this.width).attr("height",this.height),this.chartContainer.select("svg").select("g.axis.x").attr("transform",`translate(0, ${this.height})`)}handleMouseMove(t){Ft(t),Ft(t,this.chartContainer)}handleMouseLeave(){this.chartContent&&this.chartContent.hideMarker()}getDimensionValues(t){return qr.exports.chain(this.data).map((n=>n[t])).uniq().value()}getTextWidth(t,n,e){const r=document.createElement("canvas").getContext("2d");let i=null;return r&&(r.font=n+"px "+e,i=r.measureText(t).width),i}render(){return this.chartContainer.node()}css(){return'\n\n.chartContainer {\n  display: block;\n  background: white;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n\n.owidChart{\n    display: block;\n    background: white;\n    height: auto;\n    height: intrinsic;\n    max-width: 100%;\n}\n.owidChart text,\n.owidChart tspan {\n    white-space: pre;\n}\n.owidChart .axis text {\n    white-space: pre;    font-size: 16.2px;\n    fill: rgb(102, 102, 102);        \n}\n\n.owidChart .axis path {\n    display: none\n}\n.owidChart .axis.y line {\n    display: none\n}\n\n.GrapherComponent {\n    display: inline-block;\n    border-bottom: none;\n    border-radius: 2px;\n    text-align: left;\n\n    line-height: 1em;\n\n    background: white;\n    color: #333;\n\n    position: relative;\n\n    /* Hidden overflow x so that tooltips don\'t cause scrollbars \n    overflow: hidden;\n\n    border-radius: 2px;\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 2px 0px,\n        rgba(0, 0, 0, 0.25) 0px 2px 2px 0px;\n    z-index: $zindex-chart;\n\n    * {\n        box-sizing: border-box;\n    }\n\n    button {\n        background: none;\n        border: none;\n    }\n\n    .btn {\n        font-size: 0.8em;\n        white-space: normal;\n    }\n\n    .flash {\n        margin: 10px;\n    }\n\n    .clickable {\n        cursor: pointer;\n\n        a {\n            text-decoration: none;\n            &:visited {\n                color: initial;\n            }\n        }\n    }\n    input[type="checkbox"] {\n        cursor: pointer;\n    }\n\n    /* Make World line slightly thicker \n    svg .key-World_0 polyline {\n        stroke-width: 2 !important;\n    }\n\n    .projection .nv-line {\n        stroke-dasharray: 3, 3;\n    }\n\n    .projection .nv-point {\n        fill: #fff;\n        stroke-width: 1;\n        opacity: 0.5;\n    }\n\n    .projection .nv-point.hover {\n        stroke-width: 4;\n    }\n\n    a {\n        cursor: pointer;\n        color: #0645ad;\n        fill: #0645ad;\n        border-bottom: none;\n    }\n\n    h2 {\n        font-size: 2em;\n        margin-top: 0;\n        margin-bottom: 0.8em;\n        font-weight: 500;\n        line-height: 1.1;\n    }\n\n    .unstroked {\n        display: none;\n    }\n\n    .DownloadTab,\n    .tableTab,\n    .sourcesTab {\n        z-index: $zindex-tab;\n    }\n}\n\n\n'}}class Gr{unit;entities;data;dotSizeStandard;dotSizeHighlighted;scaleColor;years;values;maxYear;visibleValues;seriesData;scales;chartContainer;constructor(t,n){this.unit=n&&n.unit,this.entities=this.data=t,this.dotSizeStandard=2,this.dotSizeHighlighted=4,this.scaleColor=n&&n.scaleColor||br(Or),this.years=qr.exports.chain(t).map((t=>t.year)).uniq().value(),this.values=qr.exports.chain(t).map((t=>t.value)).uniq().value(),this.maxYear=qr.exports.max(this.years),this.visibleValues=qr.exports.range(Math.floor(qr.exports.min(this.values)),Math.ceil(qr.exports.max(this.values))).filter((t=>t%5==0)),this.seriesData=qr.exports.chain(t).groupBy((t=>t.entityName)).map(((t,n)=>({name:n,data:t}))).value()}getScaleColor(){return this.scaleColor}renderMarker(t){const n=this.years.find((n=>n==Math.floor(this.scales.x.invert(t[0]))));this.chartContainer.selectAll("g.serie").selectAll("circle.dot").attr("r",(t=>t.year==n?4:2)),this.chartContainer.selectAll("line.marker").data([n]).join("line").attr("class","marker").attr("y1",this.scales.y.range()[1]).attr("y2",this.scales.y.range()[0]).attr("x1",this.scales.x(n)).attr("x2",this.scales.x(n)).attr("stroke","grey").attr("stroke-width",1)}showMarker(t){this.chartContainer.selectAll("g.serie").selectAll("circle.dot").attr("r",(n=>n.year==t?this.dotSizeHighlighted:this.dotSizeStandard)),this.chartContainer.selectAll("line.marker").data([t]).join("line").attr("class","marker").attr("y1",this.scales.y.range()[1]).attr("y2",this.scales.y.range()[0]).attr("x1",this.scales.x(t)).attr("x2",this.scales.x(t)).attr("stroke","grey").attr("stroke-width",1)}hideMarker(){this.chartContainer.selectAll("g.serie").selectAll("circle.dot").attr("r",this.dotSizeStandard),this.chartContainer.selectAll("line.marker").remove()}selectedYear(t){return this.years.find((n=>n==Math.floor(this.scales.x.invert(t[0]))))}render(t,n){this.scales=t,t.x.domain(u(this.years)),t.y.domain(u(this.values)),this.chartContainer=Ut("svg:g");const e=Xr().x((n=>t.x(n.year))).y((n=>t.y(n.value))),r=this.chartContainer.selectAll("g.serie").data(this.seriesData,(t=>t.name)).join("g").attr("class",(t=>`serie ${t.name}`));r.selectAll("path").data((t=>[t.data])).join("path").attr("d",(t=>e(t))).attr("fill","none").attr("stroke-width",2).attr("stroke",(t=>this.scaleColor(t[0].entityName))),r.selectAll("circle.dot").data((t=>t.data)).join("circle").attr("class","dot").attr("fill",(t=>this.scaleColor(t.entityName))).attr("cx",(n=>t.x(n.year))).attr("cy",(n=>t.y(n.value))).attr("r",2);return r.selectAll("g.legendMark").data((t=>[qr.exports.last(t.data)])).join("g").attr("class","legendMark").attr("transform",(n=>`translate(${t.x(this.maxYear)},${t.y(n.value)})`)).selectAll("text").data((t=>[t])).join("text").attr("dx",10).attr("text-anchor","start").attr("font-size",12).attr("font-weight",400).attr("fill",(t=>this.scaleColor(t.entityName))).text((t=>t.entityName)),this.chartContainer.node()}}class Hr{colorScale;tooltipContainer;toolTip;containerWidth;constructor(t){this.colorScale=t&&t.colorScale||br(Or),this.containerWidth=t&&t.containerWidth||800,this.tooltipContainer=Ut("div").attr("class","tooltip-container"),this.toolTip=this.tooltipContainer.attr("class","Tooltip").style("display","none").style("position","absolute").style("pointer-events","none").style("left","0px").style("top","0px").style("white-space","nowrap").style("background-color","rgba(255, 255, 255, 0.95)").style("box-shadow","rgba(0, 0, 0, 0.12) 0px 2px 2px, rgba(0, 0, 0, 0.35) 0px 0px 1px").style("border-radius","2px").style("text-align","left").style("font-size","0.9em").style("padding","0.3em").html('\n      <table>\n        <thead>\n          <tr><td colspan="3">DUMMY YEAR<td><tr>\n        </thead>\n        <tbody>\n        </tbody>\n      </table>\n      '),this.toolTip.append("table").style("font-size","0.9em").style("line-height","1.4em").style("white-space","normal").call((t=>t.append("thead"))).call((t=>t.append("tbody")))}render(){return this.tooltipContainer}show(t,n){const e=n&&n.year,r=n&&n.data;this.tooltipContainer.style("display","block").style("top",`${t[1]}px`).style("left",`${t[0]}px`),this.toolTip.select("thead").select("td").text(e),this.toolTip.select("tbody").selectAll("tr").data(r).join((t=>{t.append("tr").call((t=>t.append("td").attr("class","symbol").append("div").attr("style","width: 10px; height: 10px; border-radius: 5px; background-color: grey; display: inline-block; margin-right: 2px;"))).call((t=>t.append("td").attr("class","entityName"))).call((t=>t.append("td").attr("class","value")))}),(t=>{t.selectAll("td").style("color",(t=>this.colorScale(t.entityName))),t.select("td.symbol").select("div").style("background-color",(t=>this.colorScale(t.entityName))),t.select("td.entityName").text((t=>t.entityName)),t.select("td.value").text((t=>t.value))}));const i=this.tooltipContainer.node().getBoundingClientRect().width;t[0]>this.containerWidth-i&&this.tooltipContainer.style("left",t[0]-i-30+"px")}hide(){this.tooltipContainer.style("display","none")}}const Zr=50;class Kr extends Fr{scaleX;scaleY;axisX;axisY;seriesData;selectedYearCallback;constructor(t,n){super(t,n),this.marginBottom=Zr,this.height=this.heightTotal-this.marginTop-this.marginBottom,this.valuesRange=u(this.data,(t=>t.value)),this.dimensions={years:n&&n.years||this.getDimensionValues("year"),entities:n&&n.enitites||this.getDimensionValues("entityName")},this.scaleX=Lr().range([0,this.width]),this.scaleY=Lr().range([this.height,0]).domain(this.valuesRange),this.axisX=M(this.scaleX).ticks(10,"d"),this.axisY=A(this.scaleY).ticks(10).tickFormat((t=>`${t} ${this.unit}`)),this.marginLeft=n&&n.marginLeft||1.5*this.calculateMarginLeft(),this.marginRight=n&&n.marginRight||1.5*this.calculateMarginRight(),this.width=this.widthTotal-this.marginLeft-this.marginRight,this.updateDimensions(),this.scaleX.range([0,this.width]),this.scaleY.range([this.height,0]),this.seriesData=qr.exports.chain(this.data).groupBy((t=>t.entityName)).map(((t,n)=>({name:n,data:t}))).value(),this.toolTip=new Hr({colorScale:this.colorScale,containerWidth:this.width}),this.chartContainer.node().appendChild(this.toolTip.render().node()),this.selectedYearCallback=n&&n.selectedYearCallback||function(){},this.y&&this.y.grid&&this.showGridY(),this.x&&this.x.grid&&this.showGridX(),this.setupTrendSVGElements()}setupTrendSVGElements(){const t=this.chartContainer.select("svg").select("g.container");t.select("rect.backgroundLayer").on("mousemove",(t=>this.handleMouseMove(t))).on("mouseleave",(()=>this.handleMouseLeave())),this.chartContent=new Gr(this.data,{scaleColor:this.scaleColor});const n=this.chartContent.render({x:this.scaleX,y:this.scaleY});t.select("g.axis.x").call(this.axisX),t.select("g.axis.y").call(this.axisY);const e=t.node();e&&e.appendChild(n)}handleMouseMove(t){const n=Ft(t),e=Ft(t,this.chartContainer),r=this.getClosestYear(n[0]);this.chartContent&&this.chartContent.showMarker(r);const i=qr.exports.chain(this.seriesData).map((t=>{const n=t.data.find((t=>t.year==r));return{entityName:t.name,value:n&&n.value||"NA"}})).sortBy((t=>-t.value)).value();this.toolTip.show([e[0],.25*this.height],{year:r,data:i}),this.selectedYearCallback(r)}handleMouseLeave(){this.chartContent&&this.chartContent.hideMarker(),this.toolTip.hide()}getDimensionValues(t){return qr.exports.chain(this.data).map((n=>n[t])).uniq().value()}calculateMarginLeft(){const t=this.axisY.scale().ticks().map((t=>`${t} ${this.unit}`)).map((t=>this.getTextWidth(t,16.2,"sans-serif")));return qr.exports.max(t)||10}calculateMarginRight(){const t=this.dimensions.entities.map((t=>`${t}`)).map((t=>this.getTextWidth(t,16.2,"sans-serif")));return qr.exports.max(t)||10}getTextWidth(t,n,e){const r=document.createElement("canvas").getContext("2d");let i=null;return r&&(r.font=n+"px "+e,i=r.measureText(t).width),i}showGridX(){const t=this.axisX.scale().ticks();this.chartSVG.select("g.container").append("g").attr("class","grid x").selectAll("line").data(t).join("line").attr("class","grid x").attr("x1",(t=>this.scaleX(t))).attr("x2",(t=>this.scaleX(t))).attr("y1",0).attr("y2",this.height).attr("stroke-dasharray","3,2").attr("stroke-width",1).attr("stroke","lightgrey")}showGridY(){const t=this.axisY.scale().ticks();this.chartSVG.select("g.container").append("g").attr("class","grid y").selectAll("line").data(t).join("line").attr("class","grid y").attr("x1",0).attr("x2",this.width).attr("y1",(t=>this.scaleY(t))).attr("y2",(t=>this.scaleY(t))).attr("stroke-dasharray","3,2").attr("stroke-width",1).attr("stroke","lightgrey")}getClosestYear(t){return this.dimensions.years.find((n=>n==Math.round(this.scaleX.invert(t))))}render(){return this.chartContainer.node()}css(){return`\n\n        .chartContainer {\n          display: block;\n          background: white;\n          height: auto;\n          height: intrinsic;\n          max-width: 100%;\n        }\n\n        .${this.className} {\n            display: block;\n            background: white;\n            height: auto;\n            height: intrinsic;\n            max-width: 100%;\n        }\n        .${this.className} text,\n        .${this.className} tspan {\n            white-space: pre;\n        }\n        .${this.className} .axis text {\n            white-space: pre;    font-size: 16.2px;\n            fill: rgb(102, 102, 102);        \n        }\n\n        .${this.className} .axis path {\n            display: none\n        }\n        .${this.className} .axis.y line {\n            display: none\n        }\n\n        .GrapherComponent {\n            display: inline-block;\n            border-bottom: none;\n            border-radius: 2px;\n            text-align: left;\n\n            line-height: 1em;\n\n            background: white;\n            color: #333;\n\n            position: relative;\n\n            /* Hidden overflow x so that tooltips don't cause scrollbars \n            overflow: hidden;\n\n            border-radius: 2px;\n            box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 2px 0px,\n                rgba(0, 0, 0, 0.25) 0px 2px 2px 0px;\n            z-index: $zindex-chart;\n\n            * {\n                box-sizing: border-box;\n            }\n\n            button {\n                background: none;\n                border: none;\n            }\n\n            .btn {\n                font-size: 0.8em;\n                white-space: normal;\n            }\n\n            .flash {\n                margin: 10px;\n            }\n\n            .clickable {\n                cursor: pointer;\n\n                a {\n                    text-decoration: none;\n                    &:visited {\n                        color: initial;\n                    }\n                }\n            }\n            input[type="checkbox"] {\n                cursor: pointer;\n            }\n\n            /* Make World line slightly thicker \n            svg .key-World_0 polyline {\n                stroke-width: 2 !important;\n            }\n\n            .projection .nv-line {\n                stroke-dasharray: 3, 3;\n            }\n\n            .projection .nv-point {\n                fill: #fff;\n                stroke-width: 1;\n                opacity: 0.5;\n            }\n\n            .projection .nv-point.hover {\n                stroke-width: 4;\n            }\n\n            a {\n                cursor: pointer;\n                color: #0645ad;\n                fill: #0645ad;\n                border-bottom: none;\n            }\n\n            h2 {\n                font-size: 2em;\n                margin-top: 0;\n                margin-bottom: 0.8em;\n                font-weight: 500;\n                line-height: 1.1;\n            }\n\n            .unstroked {\n                display: none;\n            }\n\n            .DownloadTab,\n            .tableTab,\n            .sourcesTab {\n                z-index: $zindex-tab;\n            }\n        }\n\n\n        `}}const Jr=50,Qr=.2,ti=10,ni=16;class ei{unit;entities;data;scales;chartContainer;constructor(t,n){this.data=t,this.unit=n&&n.unit,this.entities=this.data=t}render(t,n){return this.scales=t,this.chartContainer=Ut("svg:g"),this.chartContainer.selectAll("rect.entity").data(this.data,(t=>t.entityName)).join("rect").attr("class","entity").attr("fill","cyan").attr("y",(t=>this.scales.y(t.entityName))).attr("height",this.scales.y.bandwidth()).attr("width",(t=>this.scales.x(t.value))),this.chartContainer.selectAll("text.value").data(this.data,(t=>t.entityName)).join("text").attr("class","value barLabel").attr("x",(t=>this.scales.x(t.value))).attr("y",(t=>this.scales.y(t.entityName))).attr("dy",this.scales.y.bandwidth()/2+ni/2).attr("dx",ti).attr("font-size",ni).attr("text-anchor","start").text((t=>`${t.value} ${this.unit}`)),this.chartContainer}}class ri{colorScale;tooltipContainer;toolTip;containerWidth;constructor(t){this.colorScale=t&&t.colorScale||br(Or),this.containerWidth=t&&t.containerWidth||800,this.tooltipContainer=Ut("div").attr("class","tooltip-container"),this.toolTip=this.tooltipContainer.attr("class","Tooltip").style("display","none").style("position","absolute").style("pointer-events","none").style("left","0px").style("top","0px").style("white-space","nowrap").style("background-color","rgba(255, 255, 255, 0.95)").style("box-shadow","rgba(0, 0, 0, 0.12) 0px 2px 2px, rgba(0, 0, 0, 0.35) 0px 0px 1px").style("border-radius","2px").style("text-align","left").style("font-size","0.9em").style("padding","0.3em").html('\n      <table>\n        <thead>\n          <tr><td colspan="3">DUMMY YEAR<td><tr>\n        </thead>\n        <tbody>\n        </tbody>\n      </table>\n      '),this.toolTip.append("table").style("font-size","0.9em").style("line-height","1.4em").style("white-space","normal").call((t=>t.append("thead"))).call((t=>t.append("tbody")))}render(){return this.tooltipContainer}show(t,n){const e=n&&n.year,r=n&&n.data;this.tooltipContainer.style("display","block").style("top",`${t[1]}px`).style("left",`${t[0]}px`),this.toolTip.select("thead").select("td").text(e),this.toolTip.select("tbody").selectAll("tr").data(r).join((t=>{t.append("tr").call((t=>t.append("td").attr("class","symbol").append("div").attr("style","width: 10px; height: 10px; border-radius: 5px; background-color: grey; display: inline-block; margin-right: 2px;"))).call((t=>t.append("td").attr("class","entityName"))).call((t=>t.append("td").attr("class","value")))}),(t=>{t.selectAll("td").style("color",(t=>this.colorScale(t.entityName))),t.select("td.symbol").select("div").style("background-color",(t=>this.colorScale(t.entityName))),t.select("td.entityName").text((t=>t.entityName)),t.select("td.value").text((t=>t.value))}));const i=this.tooltipContainer.node().getBoundingClientRect().width;t[0]>this.containerWidth-i&&this.tooltipContainer.style("left",t[0]-i-30+"px")}hide(){this.tooltipContainer.style("display","none")}}class ii extends Fr{scaleX;scaleY;axisX;axisY;year;latestYear;entities;singleYearData;maxValue;constructor(t,n){super(t,n),this.latestYear=qr.exports.chain(t).map((t=>t.year)).max().value(),this.year=n&&n.year||this.latestYear,this.singleYearData=this.data.filter((t=>t.year==this.year)),this.marginBottom=Jr,this.height=this.heightTotal-this.marginTop-this.marginBottom,this.valuesRange=u(this.data,(t=>t.value)),this.entities=qr.exports.chain(this.singleYearData).sortBy((t=>t.value)).map((t=>t.entityName)).uniq().value(),this.maxValue=qr.exports.chain(this.singleYearData).map((t=>t.value)).max().value(),this.scaleX=Lr().range([0,this.width]).domain([0,this.maxValue]),this.scaleY=kr().padding(Qr).range([this.height,0]).domain(this.entities),this.axisX=M(this.scaleX).ticks(10).tickFormat((t=>`${t} ${this.unit}`)),this.axisY=A(this.scaleY),this.marginLeft=n&&n.marginLeft||1.5*this.calculateMarginLeft(),this.marginRight=n&&n.marginRight||1.5*this.calculateMarginRight(),this.width=this.widthTotal-this.marginLeft-this.marginRight,this.updateDimensions(),this.scaleX.range([0,this.width]),this.scaleY.range([this.height,0]),this.toolTip=new ri({colorScale:this.colorScale,containerWidth:this.width}),this.chartContainer.node().appendChild(this.toolTip.render().node()),this.y&&this.y.grid&&this.showGridY(),this.x&&this.x.grid&&this.showGridX(),this.setupBarsSVGElements()}setupBarsSVGElements(){const t=this.chartContainer.select("svg").select("g.container");t.select("rect.backgroundLayer").on("mousemove",(t=>this.handleMouseMove(t))).on("mouseleave",(()=>this.handleMouseLeave()));const n=new ei(this.singleYearData,{unit:this.unit}).render({x:this.scaleX,y:this.scaleY});n.append("style").text("\n\n  .barLabel {\n    white-space: pre;    \n    fill: rgb(102, 102, 102);   \n  }\n}\n\n\n"),t.select("g.axis.x").call(this.axisX),t.select("g.axis.y").call(this.axisY);const e=t.node();e&&e.appendChild(n.node())}handleMouseMove(t){}handleMouseLeave(){}getDimensionValues(t){return qr.exports.chain(this.data).map((n=>n[t])).uniq().value()}calculateMarginLeft(){const t=this.axisY.scale().domain().map((t=>`${t}`)).map((t=>this.getTextWidth(t,16.2,"sans-serif")));return qr.exports.max(t)||10}calculateMarginRight(){const t=this.dimensions.entities.map((t=>`${t}`)).map((t=>this.getTextWidth(t,16.2,"sans-serif")));return qr.exports.max(t)||10}getTextWidth(t,n,e){const r=document.createElement("canvas").getContext("2d");let i=null;return r&&(r.font=n+"px "+e,i=r.measureText(t).width),i}showGridX(){const t=this.axisX.scale().ticks();this.chartSVG.select("g.container").append("g").attr("class","grid x").selectAll("line").data(t).join("line").attr("class","grid x").attr("x1",(t=>this.scaleX(t))).attr("x2",(t=>this.scaleX(t))).attr("y1",0).attr("y2",this.height).attr("stroke-dasharray","3,2").attr("stroke-width",1).attr("stroke","lightgrey")}showGridY(){}getClosestYear(t){return this.dimensions.years.find((n=>n==Math.floor(this.scaleX.invert(t))))}render(){return this.chartContainer.node()}css(){return`\n\n        .chartContainer {\n          display: block;\n          background: white;\n          height: auto;\n          height: intrinsic;\n          max-width: 100%;\n        }\n\n        .${this.className} {\n            display: block;\n            background: white;\n            height: auto;\n            height: intrinsic;\n            max-width: 100%;\n        }\n        .${this.className} text,\n        .${this.className} tspan {\n            white-space: pre;\n        }\n        .${this.className} .axis text {\n            white-space: pre;    font-size: 16.2px;\n            fill: rgb(102, 102, 102);        \n        }\n\n        .${this.className} .axis path {\n            display: none\n        }\n        .${this.className} .axis.y line {\n            display: none\n        }\n\n        .GrapherComponent {\n            display: inline-block;\n            border-bottom: none;\n            border-radius: 2px;\n            text-align: left;\n\n            line-height: 1em;\n\n            background: white;\n            color: #333;\n\n            position: relative;\n\n            /* Hidden overflow x so that tooltips don't cause scrollbars \n            overflow: hidden;\n\n            border-radius: 2px;\n            box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 2px 0px,\n                rgba(0, 0, 0, 0.25) 0px 2px 2px 0px;\n            z-index: $zindex-chart;\n\n            * {\n                box-sizing: border-box;\n            }\n\n            button {\n                background: none;\n                border: none;\n            }\n\n            .btn {\n                font-size: 0.8em;\n                white-space: normal;\n            }\n\n            .flash {\n                margin: 10px;\n            }\n\n            .clickable {\n                cursor: pointer;\n\n                a {\n                    text-decoration: none;\n                    &:visited {\n                        color: initial;\n                    }\n                }\n            }\n            input[type="checkbox"] {\n                cursor: pointer;\n            }\n\n            /* Make World line slightly thicker \n            svg .key-World_0 polyline {\n                stroke-width: 2 !important;\n            }\n\n            .projection .nv-line {\n                stroke-dasharray: 3, 3;\n            }\n\n            .projection .nv-point {\n                fill: #fff;\n                stroke-width: 1;\n                opacity: 0.5;\n            }\n\n            .projection .nv-point.hover {\n                stroke-width: 4;\n            }\n\n            a {\n                cursor: pointer;\n                color: #0645ad;\n                fill: #0645ad;\n                border-bottom: none;\n            }\n\n            h2 {\n                font-size: 2em;\n                margin-top: 0;\n                margin-bottom: 0.8em;\n                font-weight: 500;\n                line-height: 1.1;\n            }\n\n            .unstroked {\n                display: none;\n            }\n\n            .DownloadTab,\n            .tableTab,\n            .sourcesTab {\n                z-index: $zindex-tab;\n            }\n        }\n\n\n        `}}t.OWIDPlot=function(t,n){const e=n&&n.type||"trendChart";if("trendChart"==e){return new Kr(t,n).render()}if("barChart"==e){return new ii(t,n).render()}return null},t.barChart=function(t,n){return new ii(t,n)},t.trendChart=function(t,n){return new Kr(t,n)},t.version="0.1.1",Object.defineProperty(t,"__esModule",{value:!0})}));
