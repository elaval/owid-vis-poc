// @elaval/owid-vis-poc v0.2.3 Copyright

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).owidVis=t.owidVis||{})}(this,(function(t){"use strict";function n(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function e(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function r(t){let r,a,o;function u(t,n,e=0,i=t.length){if(e<i){if(0!==r(n,n))return i;do{const r=e+i>>>1;a(t[r],n)<0?e=r+1:i=r}while(e<i)}return e}return 2!==t.length?(r=n,a=(e,r)=>n(t(e),r),o=(n,e)=>t(n)-e):(r=t===n||t===e?t:i,a=t,o=t),{left:u,center:function(t,n,e=0,r=t.length){const i=u(t,n,e,r-1);return i>e&&o(t[i-1],n)>-o(t[i],n)?i-1:i},right:function(t,n,e=0,i=t.length){if(e<i){if(0!==r(n,n))return i;do{const r=e+i>>>1;a(t[r],n)<=0?e=r+1:i=r}while(e<i)}return e}}}function i(){return 0}const a=r(n).right;r((function(t){return null===t?NaN:+t})).center;var o=a;function u(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(void 0===e?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class s extends Map{constructor(t,n=c){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(l(this,t))}has(t){return super.has(l(this,t))}set(t,n){return super.set(function({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}(this,t),n)}delete(t){return super.delete(function({_intern:t,_key:n},e){const r=n(e);t.has(r)&&(e=t.get(r),t.delete(r));return e}(this,t))}}function l({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function c(t){return null!==t&&"object"==typeof t?t.valueOf():t}var f=Math.sqrt(50),h=Math.sqrt(10),p=Math.sqrt(2);function _(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=f?10:a>=h?5:a>=p?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=f?10:a>=h?5:a>=p?2:1)}function g(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}function d(t){return t}var v=1e-6;function y(t){return"translate("+t+",0)"}function m(t){return"translate(0,"+t+")"}function w(t){return n=>+t(n)}function x(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function b(){return!this.__axis}function k(t,n){var e=[],r=null,i=null,a=6,o=6,u=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",f=1===t||3===t?y:m;function h(h){var p=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,_=null==i?n.tickFormat?n.tickFormat.apply(n,e):d:i,g=Math.max(a,0)+u,y=n.range(),m=+y[0]+s,k=+y[y.length-1]+s,M=(n.bandwidth?x:w)(n.copy(),s),A=h.selection?h.selection():h,S=A.selectAll(".domain").data([null]),T=A.selectAll(".tick").data(p,n).order(),C=T.exit(),N=T.enter().append("g").attr("class","tick"),j=T.select("line"),E=T.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(N),j=j.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),E=E.merge(N.append("text").attr("fill","currentColor").attr(c,l*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==A&&(S=S.transition(h),T=T.transition(h),j=j.transition(h),E=E.transition(h),C=C.transition(h).attr("opacity",v).attr("transform",(function(t){return isFinite(t=M(t))?f(t+s):this.getAttribute("transform")})),N.attr("opacity",v).attr("transform",(function(t){var n=this.parentNode.__axis;return f((n&&isFinite(n=n(t))?n:M(t))+s)}))),C.remove(),S.attr("d",4===t||2===t?o?"M"+l*o+","+m+"H"+s+"V"+k+"H"+l*o:"M"+s+","+m+"V"+k:o?"M"+m+","+l*o+"V"+s+"H"+k+"V"+l*o:"M"+m+","+s+"H"+k),T.attr("opacity",1).attr("transform",(function(t){return f(M(t)+s)})),j.attr(c+"2",l*a),E.attr(c,l*g).text(_),A.filter(b).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),A.each((function(){this.__axis=M}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h.offset=function(t){return arguments.length?(s=+t,h):s},h}function M(t){return k(3,t)}function A(t){return k(4,t)}var S={value:()=>{}};function T(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new C(r)}function C(t){this._=t}function N(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function j(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function E(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=S,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}C.prototype=T.prototype={constructor:C,on:function(t,n){var e,r=this._,i=N(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<o;)if(e=(t=i[a]).type)r[e]=E(r[e],t.name,n);else if(null==n)for(e in r)r[e]=E(r[e],t.name,null);return this}for(;++a<o;)if((e=(t=i[a]).type)&&(e=j(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new C(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var $="http://www.w3.org/1999/xhtml",L={svg:"http://www.w3.org/2000/svg",xhtml:$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function R(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),L.hasOwnProperty(n)?{space:L[n],local:t}:t}function z(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===$&&n.documentElement.namespaceURI===$?n.createElement(t):n.createElementNS(e,t)}}function O(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Y(t){var n=R(t);return(n.local?O:z)(n)}function I(){}function B(t){return null==t?I:function(){return this.querySelector(t)}}function D(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function X(){return[]}function W(t){return null==t?X:function(){return this.querySelectorAll(t)}}function V(t){return function(){return this.matches(t)}}function P(t){return function(n){return n.matches(t)}}var q=Array.prototype.find;function U(){return this.firstElementChild}var F=Array.prototype.filter;function G(){return Array.from(this.children)}function H(t){return new Array(t.length)}function Z(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function K(t){return function(){return t}}function J(t,n,e,r,i,a){for(var o,u=0,s=n.length,l=a.length;u<l;++u)(o=n[u])?(o.__data__=a[u],r[u]=o):e[u]=new Z(t,a[u]);for(;u<s;++u)(o=n[u])&&(i[u]=o)}function Q(t,n,e,r,i,a,o){var u,s,l,c=new Map,f=n.length,h=a.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=l=o.call(s,s.__data__,u,n)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<h;++u)l=o.call(t,a[u],u,a)+"",(s=c.get(l))?(r[u]=s,s.__data__=a[u],c.delete(l)):e[u]=new Z(t,a[u]);for(u=0;u<f;++u)(s=n[u])&&c.get(p[u])===s&&(i[u]=s)}function tt(t){return t.__data__}function nt(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function et(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function rt(t){return function(){this.removeAttribute(t)}}function it(t){return function(){this.removeAttributeNS(t.space,t.local)}}function at(t,n){return function(){this.setAttribute(t,n)}}function ot(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ut(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function st(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function lt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ct(t){return function(){this.style.removeProperty(t)}}function ft(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ht(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function pt(t,n){return t.style.getPropertyValue(n)||lt(t).getComputedStyle(t,null).getPropertyValue(n)}function _t(t){return function(){delete this[t]}}function gt(t,n){return function(){this[t]=n}}function dt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function vt(t){return t.trim().split(/^|\s+/)}function yt(t){return t.classList||new mt(t)}function mt(t){this._node=t,this._names=vt(t.getAttribute("class")||"")}function wt(t,n){for(var e=yt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function xt(t,n){for(var e=yt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function bt(t){return function(){wt(this,t)}}function kt(t){return function(){xt(this,t)}}function Mt(t,n){return function(){(n.apply(this,arguments)?wt:xt)(this,t)}}function At(){this.textContent=""}function St(t){return function(){this.textContent=t}}function Tt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Ct(){this.innerHTML=""}function Nt(t){return function(){this.innerHTML=t}}function jt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Et(){this.nextSibling&&this.parentNode.appendChild(this)}function $t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lt(){return null}function Rt(){var t=this.parentNode;t&&t.removeChild(this)}function zt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ot(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Yt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function It(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Bt(t,n,e){return function(){var r,i=this.__on,a=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var o=0,u=i.length;o<u;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),void(r.value=n);this.addEventListener(t.type,a,e),r={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(r):this.__on=[r]}}function Dt(t,n,e){var r=lt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Xt(t,n){return function(){return Dt(this,t,n)}}function Wt(t,n){return function(){return Dt(this,t,n.apply(this,arguments))}}Z.prototype={constructor:Z,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},mt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Vt=[null];function Pt(t,n){this._groups=t,this._parents=n}function qt(){return new Pt([[document.documentElement]],Vt)}function Ut(t){return function(t){return"string"==typeof t?new Pt([[document.querySelector(t)]],[document.documentElement]):new Pt([[t]],Vt)}(Y(t).call(document.documentElement))}function Ft(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Gt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Ht(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Zt(){}Pt.prototype=qt.prototype={constructor:Pt,select:function(t){"function"!=typeof t&&(t=B(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,u=n[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(a=u[c])&&(o=t.call(a,a.__data__,c,u))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new Pt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return D(t.apply(this,arguments))}}(t):W(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,u=n[a],s=u.length,l=0;l<s;++l)(o=u[l])&&(r.push(t.call(o,o.__data__,l,u)),i.push(o));return new Pt(r,i)},selectChild:function(t){return this.select(null==t?U:function(t){return function(){return q.call(this.children,t)}}("function"==typeof t?t:P(t)))},selectChildren:function(t){return this.selectAll(null==t?G:function(t){return function(){return F.call(this.children,t)}}("function"==typeof t?t:P(t)))},filter:function(t){"function"!=typeof t&&(t=V(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&s.push(a);return new Pt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,tt);var e=n?Q:J,r=this._parents,i=this._groups;"function"!=typeof t&&(t=K(t));for(var a=i.length,o=new Array(a),u=new Array(a),s=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,p=nt(t.call(c,c&&c.__data__,l,r)),_=p.length,g=u[l]=new Array(_),d=o[l]=new Array(_),v=s[l]=new Array(h);e(c,f,g,d,v,p,n);for(var y,m,w=0,x=0;w<_;++w)if(y=g[w]){for(w>=x&&(x=w+1);!(m=d[x])&&++x<_;);y._next=m||null}}return(o=new Pt(o,r))._enter=u,o._exit=s,o},enter:function(){return new Pt(this._enter||this._groups.map(H),this._parents)},exit:function(){return new Pt(this._exit||this._groups.map(H),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var l,c=e[s],f=r[s],h=c.length,p=u[s]=new Array(h),_=0;_<h;++_)(l=c[_]||f[_])&&(p[_]=l);for(;s<i;++s)u[s]=e[s];return new Pt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=et);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,u=e[a],s=u.length,l=i[a]=new Array(s),c=0;c<s;++c)(o=u[c])&&(l[c]=o);l.sort(n)}return new Pt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,u=a.length;o<u;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=R(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?it:rt:"function"==typeof n?e.local?st:ut:e.local?ot:at)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?ct:"function"==typeof n?ht:ft)(t,n,null==e?"":e)):pt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?_t:"function"==typeof n?dt:gt)(t,n)):this.node()[t]},classed:function(t,n){var e=vt(t+"");if(arguments.length<2){for(var r=yt(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Mt:n?bt:kt)(e,n))},text:function(t){return arguments.length?this.each(null==t?At:("function"==typeof t?Tt:St)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ct:("function"==typeof t?jt:Nt)(t)):this.node().innerHTML},raise:function(){return this.each(Et)},lower:function(){return this.each($t)},append:function(t){var n="function"==typeof t?t:Y(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Y(t),r=null==n?Lt:"function"==typeof n?n:B(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Rt)},clone:function(t){return this.select(t?Ot:zt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=Yt(t+""),o=a.length;if(!(arguments.length<2)){for(u=n?Bt:It,r=0;r<o;++r)this.each(u(a[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Wt:Xt)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var Kt=.7,Jt=1/Kt,Qt="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",en=/^#([0-9a-f]{3,8})$/,rn=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),an=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),on=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${tn}\\)$`),un=new RegExp(`^rgba\\(${nn},${nn},${nn},${tn}\\)$`),sn=new RegExp(`^hsl\\(${tn},${nn},${nn}\\)$`),ln=new RegExp(`^hsla\\(${tn},${nn},${nn},${tn}\\)$`),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fn(){return this.rgb().formatHex()}function hn(){return this.rgb().formatRgb()}function pn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=en.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?_n(n):3===e?new yn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?gn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?gn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=rn.exec(t))?new yn(n[1],n[2],n[3],1):(n=an.exec(t))?new yn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=on.exec(t))?gn(n[1],n[2],n[3],n[4]):(n=un.exec(t))?gn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=sn.exec(t))?Mn(n[1],n[2]/100,n[3]/100,1):(n=ln.exec(t))?Mn(n[1],n[2]/100,n[3]/100,n[4]):cn.hasOwnProperty(t)?_n(cn[t]):"transparent"===t?new yn(NaN,NaN,NaN,0):null}function _n(t){return new yn(t>>16&255,t>>8&255,255&t,1)}function gn(t,n,e,r){return r<=0&&(t=n=e=NaN),new yn(t,n,e,r)}function dn(t){return t instanceof Zt||(t=pn(t)),t?new yn((t=t.rgb()).r,t.g,t.b,t.opacity):new yn}function vn(t,n,e,r){return 1===arguments.length?dn(t):new yn(t,n,e,null==r?1:r)}function yn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function mn(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}`}function wn(){const t=xn(this.opacity);return`${1===t?"rgb(":"rgba("}${bn(this.r)}, ${bn(this.g)}, ${bn(this.b)}${1===t?")":`, ${t})`}`}function xn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kn(t){return((t=bn(t))<16?"0":"")+t.toString(16)}function Mn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Sn(t,n,e,r)}function An(t){if(t instanceof Sn)return new Sn(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=pn(t)),!t)return new Sn;if(t instanceof Sn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=n===a?(e-r)/u+6*(e<r):e===a?(r-n)/u+2:(n-e)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new Sn(o,u,s,t.opacity)}function Sn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Tn(t){return(t=(t||0)%360)<0?t+360:t}function Cn(t){return Math.max(0,Math.min(1,t||0))}function Nn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Gt(Zt,pn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fn,formatHex:fn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return An(this).formatHsl()},formatRgb:hn,toString:hn}),Gt(yn,vn,Ht(Zt,{brighter(t){return t=null==t?Jt:Math.pow(Jt,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Kt:Math.pow(Kt,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yn(bn(this.r),bn(this.g),bn(this.b),xn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mn,formatHex:mn,formatHex8:function(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}${kn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:wn,toString:wn})),Gt(Sn,(function(t,n,e,r){return 1===arguments.length?An(t):new Sn(t,n,e,null==r?1:r)}),Ht(Zt,{brighter(t){return t=null==t?Jt:Math.pow(Jt,t),new Sn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Kt:Math.pow(Kt,t),new Sn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new yn(Nn(t>=240?t-240:t+120,i,r),Nn(t,i,r),Nn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sn(Tn(this.h),Cn(this.s),Cn(this.l),xn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xn(this.opacity);return`${1===t?"hsl(":"hsla("}${Tn(this.h)}, ${100*Cn(this.s)}%, ${100*Cn(this.l)}%${1===t?")":`, ${t})`}`}}));var jn=t=>()=>t;function En(t){return 1==(t=+t)?$n:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):jn(isNaN(n)?e:n)}}function $n(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):jn(isNaN(t)?n:t)}var Ln=function t(n){var e=En(n);function r(t,n){var r=e((t=vn(t)).r,(n=vn(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=$n(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function Rn(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(e=0;e<r;++e)i[e]=t[e]*(1-a)+n[e]*a;return i}}function zn(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=Wn(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}function On(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Yn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function In(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Wn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dn=new RegExp(Bn.source,"g");function Xn(t,n){var e,r,i,a=Bn.lastIndex=Dn.lastIndex=0,o=-1,u=[],s=[];for(t+="",n+="";(e=Bn.exec(t))&&(r=Dn.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(e=e[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:Yn(e,r)})),a=Dn.lastIndex;return a<n.length&&(i=n.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function Wn(t,n){var e,r=typeof n;return null==n||"boolean"===r?jn(n):("number"===r?Yn:"string"===r?(e=pn(n))?(n=e,Ln):Xn:n instanceof pn?Ln:n instanceof Date?On:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?Rn:Array.isArray(n)?zn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?In:Yn)(t,n)}function Vn(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Pn,qn=180/Math.PI,Un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fn(t,n,e,r,i,a){var o,u,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*qn,skewX:Math.atan(s)*qn,scaleX:o,scaleY:u}}function Gn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var u=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,u){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);u.push({i:s-4,x:Yn(t,i)},{i:s-2,x:Yn(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Yn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,u,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Yn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,u,s),function(t,n,e,r,a,o){if(t!==e||n!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:Yn(t,e)},{i:u-2,x:Yn(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Hn,Zn,Kn=Gn((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Un:Fn(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),Jn=Gn((function(t){return null==t?Un:(Pn||(Pn=document.createElementNS("http://www.w3.org/2000/svg","g")),Pn.setAttribute("transform",t),(t=Pn.transform.baseVal.consolidate())?Fn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Un)}),", ",")",")"),Qn=0,te=0,ne=0,ee=0,re=0,ie=0,ae="object"==typeof performance&&performance.now?performance:Date,oe="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ue(){return re||(oe(se),re=ae.now()+ie)}function se(){re=0}function le(){this._call=this._time=this._next=null}function ce(t,n,e){var r=new le;return r.restart(t,n,e),r}function fe(){re=(ee=ae.now())+ie,Qn=te=0;try{!function(){ue(),++Qn;for(var t,n=Hn;n;)(t=re-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Qn}()}finally{Qn=0,function(){var t,n,e=Hn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hn=n);Zn=t,pe(r)}(),re=0}}function he(){var t=ae.now(),n=t-ee;n>1e3&&(ie-=n,ee=t)}function pe(t){Qn||(te&&(te=clearTimeout(te)),t-re>24?(t<1/0&&(te=setTimeout(fe,t-ae.now()-ie)),ne&&(ne=clearInterval(ne))):(ne||(ee=ae.now(),ne=setInterval(he,1e3)),Qn=1,oe(fe)))}function _e(t,n,e){var r=new le;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}le.prototype=ce.prototype={constructor:le,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ue():+e)+(null==n?0:+n),this._next||Zn===this||(Zn?Zn._next=this:Hn=this,Zn=this),this._call=t,this._time=e,pe()},stop:function(){this._call&&(this._call=null,this._time=1/0,pe())}};var ge=T("start","end","cancel","interrupt"),de=[];function ve(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}function o(a){var l,c,f,h;if(1!==e.state)return s();for(l in i)if((h=i[l]).name===e.name){if(3===h.state)return _e(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(_e((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(a))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=ce(a,0,e.time)}(t,e,{name:n,index:r,group:i,on:ge,tween:de,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function ye(t,n){var e=we(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function me(t,n){var e=we(t,n);if(e.state>3)throw new Error("too late; already running");return e}function we(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function xe(t,n){var e,r;return function(){var i=me(this,t),a=i.tween;if(a!==e)for(var o=0,u=(r=e=a).length;o<u;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function be(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=me(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function ke(t,n,e){var r=t._id;return t.each((function(){var t=me(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return we(t,r).value[n]}}function Me(t,n){var e;return("number"==typeof n?Yn:n instanceof pn?Ln:(e=pn(n))?(n=e,Ln):Xn)(t,n)}function Ae(t){return function(){this.removeAttribute(t)}}function Se(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Te(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function Ce(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function Ne(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttribute(t))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttribute(t)}}function je(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttributeNS(t.space,t.local)}}function Ee(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function $e(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Le(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&$e(t,i)),e}return i._value=n,i}function Re(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ee(t,i)),e}return i._value=n,i}function ze(t,n){return function(){ye(this,t).delay=+n.apply(this,arguments)}}function Oe(t,n){return n=+n,function(){ye(this,t).delay=n}}function Ye(t,n){return function(){me(this,t).duration=+n.apply(this,arguments)}}function Ie(t,n){return n=+n,function(){me(this,t).duration=n}}function Be(t,n){if("function"!=typeof n)throw new Error;return function(){me(this,t).ease=n}}function De(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?ye:me;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(n,e),o.on=i}}var Xe=qt.prototype.constructor;function We(t){return function(){this.style.removeProperty(t)}}function Ve(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Pe(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Ve(t,a,e)),r}return a._value=n,a}function qe(t){return function(n){this.textContent=t.call(this,n)}}function Ue(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&qe(r)),n}return r._value=t,r}var Fe=0;function Ge(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function He(){return++Fe}var Ze=qt.prototype;Ge.prototype={constructor:Ge,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=B(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u,s,l=r[o],c=l.length,f=a[o]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=t.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,ve(f[h],n,e,h,f,we(u,e)));return new Ge(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=W(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,p=t.call(s,s.__data__,f,l),_=we(s,e),g=0,d=p.length;g<d;++g)(h=p[g])&&ve(h,n,e,g,p,_);a.push(p),o.push(s)}return new Ge(a,o,n,e)},selectChild:Ze.selectChild,selectChildren:Ze.selectChildren,filter:function(t){"function"!=typeof t&&(t=V(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&s.push(a);return new Ge(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=n[u],c=e[u],f=l.length,h=o[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)o[u]=n[u];return new Ge(o,this._parents,this._name,this._id)},selection:function(){return new Xe(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=He(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=we(o,n);ve(o,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ge(r,this._parents,t,e)},call:Ze.call,nodes:Ze.nodes,node:Ze.node,size:Ze.size,empty:Ze.empty,each:Ze.each,on:function(t,n){var e=this._id;return arguments.length<2?we(this.node(),e).on.on(t):this.each(De(e,t,n))},attr:function(t,n){var e=R(t),r="transform"===e?Jn:Me;return this.attrTween(t,"function"==typeof n?(e.local?je:Ne)(e,r,ke(this,"attr."+t,n)):null==n?(e.local?Se:Ae)(e):(e.local?Ce:Te)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=R(t);return this.tween(e,(r.local?Le:Re)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Kn:Me;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=pt(this,t),o=(this.style.removeProperty(t),pt(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,We(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=pt(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=pt(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,u))}}(t,r,ke(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,u="end."+o;return function(){var s=me(this,t),l=s.on,c=null==s.value[o]?a||(a=We(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=pt(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Pe(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ke(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Ue(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=we(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?xe:be)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ze:Oe)(n,t)):we(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ye:Ie)(n,t)):we(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Be(n,t)):we(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;me(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(a,o){var u={value:o},s={value:function(){0==--i&&a()}};e.each((function(){var e=me(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&a()}))},[Symbol.iterator]:Ze[Symbol.iterator]};var Ke={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Je(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}qt.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},qt.prototype.transition=function(t){var n,e;t instanceof Ge?(n=t._id,t=t._name):(n=He(),(e=Ke).time=ue(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&ve(o,t,n,l,u,e||Je(o,n));return new Ge(r,this._parents,t,n)};const Qe=Math.PI,tr=2*Qe,nr=1e-6,er=tr-nr;function rr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ir(){return new rr}function ar(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function or(t){return(t=ar(Math.abs(t)))?t[1]:NaN}rr.prototype=ir.prototype={constructor:rr,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,u=e-t,s=r-n,l=a-t,c=o-n,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>nr)if(Math.abs(c*u-s*l)>nr&&i){var h=e-a,p=r-o,_=u*u+s*s,g=h*h+p*p,d=Math.sqrt(_),v=Math.sqrt(f),y=i*Math.tan((Qe-Math.acos((_+f-g)/(2*d*v)))/2),m=y/v,w=y/d;Math.abs(m-1)>nr&&(this._+="L"+(t+m*l)+","+(n+m*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*p)+","+(this._x1=t+w*u)+","+(this._y1=n+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n,a=!!a;var o=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+o,l=n+u,c=1^a,f=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>nr||Math.abs(this._y1-l)>nr)&&(this._+="L"+s+","+l),e&&(f<0&&(f=f%tr+tr),f>er?this._+="A"+e+","+e+",0,1,"+c+","+(t-o)+","+(n-u)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>nr&&(this._+="A"+e+","+e+",0,"+ +(f>=Qe)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var ur,sr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lr(t){if(!(n=sr.exec(t)))throw new Error("invalid format: "+t);var n;return new cr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function cr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function fr(t,n){var e=ar(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}lr.prototype=cr.prototype,cr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var hr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>fr(100*t,n),r:fr,s:function(t,n){var e=ar(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(ur=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ar(t,Math.max(0,n+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pr(t){return t}var _r,gr,dr,vr=Array.prototype.map,yr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?pr:(n=vr.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[o=(o+1)%n.length];return a.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?pr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(vr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=lr(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,_=t.width,g=t.comma,d=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):hr[y]||(void 0===d&&(d=12),v=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var m="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?a:/[%p]/.test(y)?s:"",x=hr[y],b=/[defgprs%]/.test(y);function k(t){var i,a,s,h=m,k=w;if("c"===y)k=x(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),d),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),h=(M?"("===f?f:l:"-"===f||"("===f?"":f)+h,k=("s"===y?yr[8+ur/3]:"")+k+(M&&"("===f?")":""),b)for(i=-1,a=t.length;++i<a;)if(48>(s=t.charCodeAt(i))||s>57){k=(46===s?o+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var A=h.length+t.length+k.length,S=A<_?new Array(_-A+1).join(n):"";switch(g&&p&&(t=r(S+t,S.length?_-k.length:1/0),S=""),e){case"<":t=h+t+k+S;break;case"=":t=h+S+t+k;break;case"^":t=S.slice(0,A=S.length>>1)+h+t+k+S.slice(A);break;default:t=S+h+t+k}return u(t)}return d=void 0===d?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,n){var e=f(((t=lr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(or(n)/3))),i=Math.pow(10,-r),a=yr[8+r/3];return function(t){return e(i*t)+a}}}}function wr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}_r=mr({thousands:",",grouping:[3],currency:["$",""]}),gr=_r.format,dr=_r.formatPrefix;const xr=Symbol("implicit");function br(){var t=new s,n=[],e=[],r=xr;function i(i){let a=t.get(i);if(void 0===a){if(r!==xr)return r;t.set(i,a=n.push(i)-1)}return e[a%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new s;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return br(n,e).unknown(r)},wr.apply(i,arguments),i}function kr(){var t,n,e=br().unknown(void 0),r=e.domain,i=e.range,a=0,o=1,u=!1,s=0,l=0,c=.5;function f(){var e=r().length,f=o<a,h=f?o:a,p=f?a:o;t=(p-h)/Math.max(1,e-s+2*l),u&&(t=Math.floor(t)),h+=(p-h-t*(e-s))*c,n=t*(1-s),u&&(h=Math.round(h),n=Math.round(n));var _=g(e).map((function(n){return h+t*n}));return i(f?_.reverse():_)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),f()):r()},e.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,f()):[a,o]},e.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,u=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,f()):u},e.padding=function(t){return arguments.length?(s=Math.min(1,l=+t),f()):s},e.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),f()):s},e.paddingOuter=function(t){return arguments.length?(l=+t,f()):l},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},e.copy=function(){return kr(r(),[a,o]).round(u).paddingInner(s).paddingOuter(l).align(c)},wr.apply(f(),arguments)}function Mr(t){return+t}var Ar=[0,1];function Sr(t){return t}function Tr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Cr(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Tr(i,r),a=e(o,a)):(r=Tr(r,i),a=e(a,o)),function(t){return a(r(t))}}function Nr(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Tr(t[u],t[u+1]),a[u]=e(n[u],n[u+1]);return function(n){var e=o(t,n,1,r)-1;return a[e](i[e](n))}}function jr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Er(){var t,n,e,r,i,a,o=Ar,u=Ar,s=Wn,l=Sr;function c(){var t,n,e,s=Math.min(o.length,u.length);return l!==Sr&&(t=o[0],n=o[s-1],t>n&&(e=t,t=n,n=e),l=function(e){return Math.max(t,Math.min(n,e))}),r=s>2?Nr:Cr,i=a=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(o.map(t),u,s)))(t(l(n)))}return f.invert=function(e){return l(n((a||(a=r(u,o.map(t),Yn)))(e)))},f.domain=function(t){return arguments.length?(o=Array.from(t,Mr),c()):o.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=Vn,c()},f.clamp=function(t){return arguments.length?(l=!!t||Sr,c()):l!==Sr},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}function $r(){return Er()(Sr,Sr)}function Lr(t,n,e,r){var i,a=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=f?i*=10:a>=h?i*=5:a>=p&&(i*=2),n<t?-i:i}(t,n,e);switch((r=lr(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(or(n)/3)))-or(Math.abs(t)))}(a,o))||(r.precision=i),dr(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,or(n)-or(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-or(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return gr(r)}function Rr(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,a,o,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(o=_(t,n,e))||!isFinite(o))return[];if(o>0){let e=Math.round(t/o),r=Math.round(n/o);for(e*o<t&&++e,r*o>n&&--r,a=new Array(i=r-e+1);++u<i;)a[u]=(e+u)*o}else{o=-o;let e=Math.round(t*o),r=Math.round(n*o);for(e/o<t&&++e,r/o>n&&--r,a=new Array(i=r-e+1);++u<i;)a[u]=(e+u)/o}return r&&a.reverse(),a}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Lr(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,a=n(),o=0,u=a.length-1,s=a[o],l=a[u],c=10;for(l<s&&(i=s,s=l,l=i,i=o,o=u,u=i);c-- >0;){if((i=_(s,l,e))===r)return a[o]=s,a[u]=l,n(a);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function zr(){var t=$r();return t.copy=function(){return jr(t,zr())},wr.apply(t,arguments),Rr(t)}var Or=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Yr(t){return function(){return t}}function Ir(t){this._context=t}function Br(t){return new Ir(t)}function Dr(t){return t[0]}function Xr(t){return t[1]}function Wr(t,n){var e=Yr(!0),r=null,i=Br,a=null;function o(o){var u,s,l,c=(o=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(o)).length,f=!1;for(null==r&&(a=i(l=ir())),u=0;u<=c;++u)!(u<c&&e(s=o[u],u,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(s,u,o),+n(s,u,o));if(l)return a=null,l+""||null}return t="function"==typeof t?t:void 0===t?Dr:Yr(t),n="function"==typeof n?n:void 0===n?Xr:Yr(n),o.x=function(n){return arguments.length?(t="function"==typeof n?n:Yr(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:Yr(+t),o):n},o.defined=function(t){return arguments.length?(e="function"==typeof t?t:Yr(!!t),o):e},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function Vr(t,n,e){this.k=t,this.x=n,this.y=e}Ir.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},Vr.prototype={constructor:Vr,scale:function(t){return 1===t?this:new Vr(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Vr(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Vr(1,0,0),Vr.prototype;var Pr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qr={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
!function(t,n){(function(){var e,r="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",o=16,u=32,s=64,l=128,c=256,f=1/0,h=9007199254740991,p=NaN,_=4294967295,g=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",u],["partialRight",s],["rearg",c]],d="[object Arguments]",v="[object Array]",y="[object Boolean]",m="[object Date]",w="[object Error]",x="[object Function]",b="[object GeneratorFunction]",k="[object Map]",M="[object Number]",A="[object Object]",S="[object Promise]",T="[object RegExp]",C="[object Set]",N="[object String]",j="[object Symbol]",E="[object WeakMap]",$="[object ArrayBuffer]",L="[object DataView]",R="[object Float32Array]",z="[object Float64Array]",O="[object Int8Array]",Y="[object Int16Array]",I="[object Int32Array]",B="[object Uint8Array]",D="[object Uint8ClampedArray]",X="[object Uint16Array]",W="[object Uint32Array]",V=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,G=RegExp(U.source),H=RegExp(F.source),Z=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(et.source),it=/^\s+/,at=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,_t=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,bt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",Mt="a-z\\xdf-\\xf6\\xf8-\\xff",At="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\ufe0e\\ufe0f",Tt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct="['’]",Nt="[\\ud800-\\udfff]",jt="["+Tt+"]",Et="["+bt+"]",$t="\\d+",Lt="[\\u2700-\\u27bf]",Rt="["+Mt+"]",zt="[^\\ud800-\\udfff"+Tt+$t+kt+Mt+At+"]",Ot="\\ud83c[\\udffb-\\udfff]",Yt="[^\\ud800-\\udfff]",It="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",Dt="["+At+"]",Xt="(?:"+Rt+"|"+zt+")",Wt="(?:"+Dt+"|"+zt+")",Vt="(?:['’](?:d|ll|m|re|s|t|ve))?",Pt="(?:['’](?:D|LL|M|RE|S|T|VE))?",qt="(?:"+Et+"|"+Ot+")"+"?",Ut="[\\ufe0e\\ufe0f]?",Ft=Ut+qt+("(?:\\u200d(?:"+[Yt,It,Bt].join("|")+")"+Ut+qt+")*"),Gt="(?:"+[Lt,It,Bt].join("|")+")"+Ft,Ht="(?:"+[Yt+Et+"?",Et,It,Bt,Nt].join("|")+")",Zt=RegExp(Ct,"g"),Kt=RegExp(Et,"g"),Jt=RegExp(Ot+"(?="+Ot+")|"+Ht+Ft,"g"),Qt=RegExp([Dt+"?"+Rt+"+"+Vt+"(?="+[jt,Dt,"$"].join("|")+")",Wt+"+"+Pt+"(?="+[jt,Dt+Xt,"$"].join("|")+")",Dt+"?"+Xt+"+"+Vt,Dt+"+"+Pt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$t,Gt].join("|"),"g"),tn=RegExp("[\\u200d\\ud800-\\udfff"+bt+St+"]"),nn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,en=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rn=-1,an={};an[R]=an[z]=an[O]=an[Y]=an[I]=an[B]=an[D]=an[X]=an[W]=!0,an[d]=an[v]=an[$]=an[y]=an[L]=an[m]=an[w]=an[x]=an[k]=an[M]=an[A]=an[T]=an[C]=an[N]=an[E]=!1;var on={};on[d]=on[v]=on[$]=on[L]=on[y]=on[m]=on[R]=on[z]=on[O]=on[Y]=on[I]=on[k]=on[M]=on[A]=on[T]=on[C]=on[N]=on[j]=on[B]=on[D]=on[X]=on[W]=!0,on[w]=on[x]=on[E]=!1;var un={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sn=parseFloat,ln=parseInt,cn="object"==typeof Pr&&Pr&&Pr.Object===Object&&Pr,fn="object"==typeof self&&self&&self.Object===Object&&self,hn=cn||fn||Function("return this")(),pn=n&&!n.nodeType&&n,_n=pn&&t&&!t.nodeType&&t,gn=_n&&_n.exports===pn,dn=gn&&cn.process,vn=function(){try{var t=_n&&_n.require&&_n.require("util").types;return t||dn&&dn.binding&&dn.binding("util")}catch(t){}}(),yn=vn&&vn.isArrayBuffer,mn=vn&&vn.isDate,wn=vn&&vn.isMap,xn=vn&&vn.isRegExp,bn=vn&&vn.isSet,kn=vn&&vn.isTypedArray;function Mn(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function An(t,n,e,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];n(r,o,e(o),t)}return r}function Sn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function Tn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function Cn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function Nn(t,n){for(var e=-1,r=null==t?0:t.length,i=0,a=[];++e<r;){var o=t[e];n(o,e,t)&&(a[i++]=o)}return a}function jn(t,n){return!!(null==t?0:t.length)&&Dn(t,n,0)>-1}function En(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function $n(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function Ln(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function Rn(t,n,e,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(e=t[++i]);++i<a;)e=n(e,t[i],i,t);return e}function zn(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function On(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var Yn=Pn("length");function In(t,n,e){var r;return e(t,(function(t,e,i){if(n(t,e,i))return r=e,!1})),r}function Bn(t,n,e,r){for(var i=t.length,a=e+(r?1:-1);r?a--:++a<i;)if(n(t[a],a,t))return a;return-1}function Dn(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):Bn(t,Wn,e)}function Xn(t,n,e,r){for(var i=e-1,a=t.length;++i<a;)if(r(t[i],n))return i;return-1}function Wn(t){return t!=t}function Vn(t,n){var e=null==t?0:t.length;return e?Fn(t,n)/e:p}function Pn(t){return function(n){return null==n?e:n[t]}}function qn(t){return function(n){return null==t?e:t[n]}}function Un(t,n,e,r,i){return i(t,(function(t,i,a){e=r?(r=!1,t):n(e,t,i,a)})),e}function Fn(t,n){for(var r,i=-1,a=t.length;++i<a;){var o=n(t[i]);o!==e&&(r=r===e?o:r+o)}return r}function Gn(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function Hn(t){return t?t.slice(0,pe(t)+1).replace(it,""):t}function Zn(t){return function(n){return t(n)}}function Kn(t,n){return $n(n,(function(n){return t[n]}))}function Jn(t,n){return t.has(n)}function Qn(t,n){for(var e=-1,r=t.length;++e<r&&Dn(n,t[e],0)>-1;);return e}function te(t,n){for(var e=t.length;e--&&Dn(n,t[e],0)>-1;);return e}function ne(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}var ee=qn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),re=qn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ie(t){return"\\"+un[t]}function ae(t){return tn.test(t)}function oe(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function ue(t,n){return function(e){return t(n(e))}}function se(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var u=t[e];u!==n&&u!==a||(t[e]=a,o[i++]=e)}return o}function le(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function ce(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function fe(t){return ae(t)?function(t){var n=Jt.lastIndex=0;for(;Jt.test(t);)++n;return n}(t):Yn(t)}function he(t){return ae(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.split("")}(t)}function pe(t){for(var n=t.length;n--&&at.test(t.charAt(n)););return n}var _e=qn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var ge=function t(n){var at,bt=(n=null==n?hn:ge.defaults(hn.Object(),n,ge.pick(hn,en))).Array,kt=n.Date,Mt=n.Error,At=n.Function,St=n.Math,Tt=n.Object,Ct=n.RegExp,Nt=n.String,jt=n.TypeError,Et=bt.prototype,$t=At.prototype,Lt=Tt.prototype,Rt=n["__core-js_shared__"],zt=$t.toString,Ot=Lt.hasOwnProperty,Yt=0,It=(at=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+at:"",Bt=Lt.toString,Dt=zt.call(Tt),Xt=hn._,Wt=Ct("^"+zt.call(Ot).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=gn?n.Buffer:e,Pt=n.Symbol,qt=n.Uint8Array,Ut=Vt?Vt.allocUnsafe:e,Ft=ue(Tt.getPrototypeOf,Tt),Gt=Tt.create,Ht=Lt.propertyIsEnumerable,Jt=Et.splice,tn=Pt?Pt.isConcatSpreadable:e,un=Pt?Pt.iterator:e,cn=Pt?Pt.toStringTag:e,fn=function(){try{var t=pa(Tt,"defineProperty");return t({},"",{}),t}catch(t){}}(),pn=n.clearTimeout!==hn.clearTimeout&&n.clearTimeout,_n=kt&&kt.now!==hn.Date.now&&kt.now,dn=n.setTimeout!==hn.setTimeout&&n.setTimeout,vn=St.ceil,Yn=St.floor,qn=Tt.getOwnPropertySymbols,de=Vt?Vt.isBuffer:e,ve=n.isFinite,ye=Et.join,me=ue(Tt.keys,Tt),we=St.max,xe=St.min,be=kt.now,ke=n.parseInt,Me=St.random,Ae=Et.reverse,Se=pa(n,"DataView"),Te=pa(n,"Map"),Ce=pa(n,"Promise"),Ne=pa(n,"Set"),je=pa(n,"WeakMap"),Ee=pa(Tt,"create"),$e=je&&new je,Le={},Re=Da(Se),ze=Da(Te),Oe=Da(Ce),Ye=Da(Ne),Ie=Da(je),Be=Pt?Pt.prototype:e,De=Be?Be.valueOf:e,Xe=Be?Be.toString:e;function We(t){if(iu(t)&&!Fo(t)&&!(t instanceof Ue)){if(t instanceof qe)return t;if(Ot.call(t,"__wrapped__"))return Xa(t)}return new qe(t)}var Ve=function(){function t(){}return function(n){if(!ru(n))return{};if(Gt)return Gt(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function Pe(){}function qe(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function Ue(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_,this.__views__=[]}function Fe(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ge(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function He(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ze(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new He;++n<e;)this.add(t[n])}function Ke(t){var n=this.__data__=new Ge(t);this.size=n.size}function Je(t,n){var e=Fo(t),r=!e&&Uo(t),i=!e&&!r&&Ko(t),a=!e&&!r&&!i&&hu(t),o=e||r||i||a,u=o?Gn(t.length,Nt):[],s=u.length;for(var l in t)!n&&!Ot.call(t,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wa(l,s))||u.push(l);return u}function Qe(t){var n=t.length;return n?t[Zr(0,n-1)]:e}function tr(t,n){return Ya(Ei(t),lr(n,0,t.length))}function nr(t){return Ya(Ei(t))}function er(t,n,r){(r!==e&&!Vo(t[n],r)||r===e&&!(n in t))&&ur(t,n,r)}function rr(t,n,r){var i=t[n];Ot.call(t,n)&&Vo(i,r)&&(r!==e||n in t)||ur(t,n,r)}function ir(t,n){for(var e=t.length;e--;)if(Vo(t[e][0],n))return e;return-1}function ar(t,n,e,r){return _r(t,(function(t,i,a){n(r,t,e(t),a)})),r}function or(t,n){return t&&$i(n,Ru(n),t)}function ur(t,n,e){"__proto__"==n&&fn?fn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function sr(t,n){for(var r=-1,i=n.length,a=bt(i),o=null==t;++r<i;)a[r]=o?e:Nu(t,n[r]);return a}function lr(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function cr(t,n,r,i,a,o){var u,s=1&n,l=2&n,c=4&n;if(r&&(u=a?r(t,i,a,o):r(t)),u!==e)return u;if(!ru(t))return t;var f=Fo(t);if(f){if(u=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&Ot.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!s)return Ei(t,u)}else{var h=da(t),p=h==x||h==b;if(Ko(t))return Ai(t,s);if(h==A||h==d||p&&!a){if(u=l||p?{}:ya(t),!s)return l?function(t,n){return $i(t,ga(t),n)}(t,function(t,n){return t&&$i(n,zu(n),t)}(u,t)):function(t,n){return $i(t,_a(t),n)}(t,or(u,t))}else{if(!on[h])return a?t:{};u=function(t,n,e){var r=t.constructor;switch(n){case $:return Si(t);case y:case m:return new r(+t);case L:return function(t,n){var e=n?Si(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case R:case z:case O:case Y:case I:case B:case D:case X:case W:return Ti(t,e);case k:return new r;case M:case N:return new r(t);case T:return function(t){var n=new t.constructor(t.source,pt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case C:return new r;case j:return i=t,De?Tt(De.call(i)):{}}var i}(t,h,s)}}o||(o=new Ke);var _=o.get(t);if(_)return _;o.set(t,u),lu(t)?t.forEach((function(e){u.add(cr(e,n,r,e,t,o))})):au(t)&&t.forEach((function(e,i){u.set(i,cr(e,n,r,i,t,o))}));var g=f?e:(c?l?oa:aa:l?zu:Ru)(t);return Sn(g||t,(function(e,i){g&&(e=t[i=e]),rr(u,i,cr(e,n,r,i,t,o))})),u}function fr(t,n,r){var i=r.length;if(null==t)return!i;for(t=Tt(t);i--;){var a=r[i],o=n[a],u=t[a];if(u===e&&!(a in t)||!o(u))return!1}return!0}function hr(t,n,i){if("function"!=typeof t)throw new jt(r);return La((function(){t.apply(e,i)}),n)}function pr(t,n,e,r){var i=-1,a=jn,o=!0,u=t.length,s=[],l=n.length;if(!u)return s;e&&(n=$n(n,Zn(e))),r?(a=En,o=!1):n.length>=200&&(a=Jn,o=!1,n=new Ze(n));t:for(;++i<u;){var c=t[i],f=null==e?c:e(c);if(c=r||0!==c?c:0,o&&f==f){for(var h=l;h--;)if(n[h]===f)continue t;s.push(c)}else a(n,f,r)||s.push(c)}return s}We.templateSettings={escape:Z,evaluate:K,interpolate:J,variable:"",imports:{_:We}},We.prototype=Pe.prototype,We.prototype.constructor=We,qe.prototype=Ve(Pe.prototype),qe.prototype.constructor=qe,Ue.prototype=Ve(Pe.prototype),Ue.prototype.constructor=Ue,Fe.prototype.clear=function(){this.__data__=Ee?Ee(null):{},this.size=0},Fe.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Fe.prototype.get=function(t){var n=this.__data__;if(Ee){var r=n[t];return r===i?e:r}return Ot.call(n,t)?n[t]:e},Fe.prototype.has=function(t){var n=this.__data__;return Ee?n[t]!==e:Ot.call(n,t)},Fe.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ee&&n===e?i:n,this},Ge.prototype.clear=function(){this.__data__=[],this.size=0},Ge.prototype.delete=function(t){var n=this.__data__,e=ir(n,t);return!(e<0)&&(e==n.length-1?n.pop():Jt.call(n,e,1),--this.size,!0)},Ge.prototype.get=function(t){var n=this.__data__,r=ir(n,t);return r<0?e:n[r][1]},Ge.prototype.has=function(t){return ir(this.__data__,t)>-1},Ge.prototype.set=function(t,n){var e=this.__data__,r=ir(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},He.prototype.clear=function(){this.size=0,this.__data__={hash:new Fe,map:new(Te||Ge),string:new Fe}},He.prototype.delete=function(t){var n=fa(this,t).delete(t);return this.size-=n?1:0,n},He.prototype.get=function(t){return fa(this,t).get(t)},He.prototype.has=function(t){return fa(this,t).has(t)},He.prototype.set=function(t,n){var e=fa(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},Ze.prototype.add=Ze.prototype.push=function(t){return this.__data__.set(t,i),this},Ze.prototype.has=function(t){return this.__data__.has(t)},Ke.prototype.clear=function(){this.__data__=new Ge,this.size=0},Ke.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Ke.prototype.get=function(t){return this.__data__.get(t)},Ke.prototype.has=function(t){return this.__data__.has(t)},Ke.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Ge){var r=e.__data__;if(!Te||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new He(r)}return e.set(t,n),this.size=e.size,this};var _r=zi(br),gr=zi(kr,!0);function dr(t,n){var e=!0;return _r(t,(function(t,r,i){return e=!!n(t,r,i)})),e}function vr(t,n,r){for(var i=-1,a=t.length;++i<a;){var o=t[i],u=n(o);if(null!=u&&(s===e?u==u&&!fu(u):r(u,s)))var s=u,l=o}return l}function yr(t,n){var e=[];return _r(t,(function(t,r,i){n(t,r,i)&&e.push(t)})),e}function mr(t,n,e,r,i){var a=-1,o=t.length;for(e||(e=ma),i||(i=[]);++a<o;){var u=t[a];n>0&&e(u)?n>1?mr(u,n-1,e,r,i):Ln(i,u):r||(i[i.length]=u)}return i}var wr=Oi(),xr=Oi(!0);function br(t,n){return t&&wr(t,n,Ru)}function kr(t,n){return t&&xr(t,n,Ru)}function Mr(t,n){return Nn(n,(function(n){return tu(t[n])}))}function Ar(t,n){for(var r=0,i=(n=xi(n,t)).length;null!=t&&r<i;)t=t[Ba(n[r++])];return r&&r==i?t:e}function Sr(t,n,e){var r=n(t);return Fo(t)?r:Ln(r,e(t))}function Tr(t){return null==t?t===e?"[object Undefined]":"[object Null]":cn&&cn in Tt(t)?function(t){var n=Ot.call(t,cn),r=t[cn];try{t[cn]=e;var i=!0}catch(t){}var a=Bt.call(t);i&&(n?t[cn]=r:delete t[cn]);return a}(t):function(t){return Bt.call(t)}(t)}function Cr(t,n){return t>n}function Nr(t,n){return null!=t&&Ot.call(t,n)}function jr(t,n){return null!=t&&n in Tt(t)}function Er(t,n,r){for(var i=r?En:jn,a=t[0].length,o=t.length,u=o,s=bt(o),l=1/0,c=[];u--;){var f=t[u];u&&n&&(f=$n(f,Zn(n))),l=xe(f.length,l),s[u]=!r&&(n||a>=120&&f.length>=120)?new Ze(u&&f):e}f=t[0];var h=-1,p=s[0];t:for(;++h<a&&c.length<l;){var _=f[h],g=n?n(_):_;if(_=r||0!==_?_:0,!(p?Jn(p,g):i(c,g,r))){for(u=o;--u;){var d=s[u];if(!(d?Jn(d,g):i(t[u],g,r)))continue t}p&&p.push(g),c.push(_)}}return c}function $r(t,n,r){var i=null==(t=Na(t,n=xi(n,t)))?t:t[Ba(Ja(n))];return null==i?e:Mn(i,t,r)}function Lr(t){return iu(t)&&Tr(t)==d}function Rr(t,n,r,i,a){return t===n||(null==t||null==n||!iu(t)&&!iu(n)?t!=t&&n!=n:function(t,n,r,i,a,o){var u=Fo(t),s=Fo(n),l=u?v:da(t),c=s?v:da(n),f=(l=l==d?A:l)==A,h=(c=c==d?A:c)==A,p=l==c;if(p&&Ko(t)){if(!Ko(n))return!1;u=!0,f=!1}if(p&&!f)return o||(o=new Ke),u||hu(t)?ra(t,n,r,i,a,o):function(t,n,e,r,i,a,o){switch(e){case L:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case $:return!(t.byteLength!=n.byteLength||!a(new qt(t),new qt(n)));case y:case m:case M:return Vo(+t,+n);case w:return t.name==n.name&&t.message==n.message;case T:case N:return t==n+"";case k:var u=oe;case C:var s=1&r;if(u||(u=le),t.size!=n.size&&!s)return!1;var l=o.get(t);if(l)return l==n;r|=2,o.set(t,n);var c=ra(u(t),u(n),r,i,a,o);return o.delete(t),c;case j:if(De)return De.call(t)==De.call(n)}return!1}(t,n,l,r,i,a,o);if(!(1&r)){var _=f&&Ot.call(t,"__wrapped__"),g=h&&Ot.call(n,"__wrapped__");if(_||g){var x=_?t.value():t,b=g?n.value():n;return o||(o=new Ke),a(x,b,r,i,o)}}if(!p)return!1;return o||(o=new Ke),function(t,n,r,i,a,o){var u=1&r,s=aa(t),l=s.length,c=aa(n).length;if(l!=c&&!u)return!1;var f=l;for(;f--;){var h=s[f];if(!(u?h in n:Ot.call(n,h)))return!1}var p=o.get(t),_=o.get(n);if(p&&_)return p==n&&_==t;var g=!0;o.set(t,n),o.set(n,t);var d=u;for(;++f<l;){var v=t[h=s[f]],y=n[h];if(i)var m=u?i(y,v,h,n,t,o):i(v,y,h,t,n,o);if(!(m===e?v===y||a(v,y,r,i,o):m)){g=!1;break}d||(d="constructor"==h)}if(g&&!d){var w=t.constructor,x=n.constructor;w==x||!("constructor"in t)||!("constructor"in n)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return o.delete(t),o.delete(n),g}(t,n,r,i,a,o)}(t,n,r,i,Rr,a))}function zr(t,n,r,i){var a=r.length,o=a,u=!i;if(null==t)return!o;for(t=Tt(t);a--;){var s=r[a];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<o;){var l=(s=r[a])[0],c=t[l],f=s[1];if(u&&s[2]){if(c===e&&!(l in t))return!1}else{var h=new Ke;if(i)var p=i(c,f,l,t,n,h);if(!(p===e?Rr(f,c,3,i,h):p))return!1}}return!0}function Or(t){return!(!ru(t)||(n=t,It&&It in n))&&(tu(t)?Wt:dt).test(Da(t));var n}function Yr(t){return"function"==typeof t?t:null==t?os:"object"==typeof t?Fo(t)?Vr(t[0],t[1]):Wr(t):gs(t)}function Ir(t){if(!Aa(t))return me(t);var n=[];for(var e in Tt(t))Ot.call(t,e)&&"constructor"!=e&&n.push(e);return n}function Br(t){if(!ru(t))return function(t){var n=[];if(null!=t)for(var e in Tt(t))n.push(e);return n}(t);var n=Aa(t),e=[];for(var r in t)("constructor"!=r||!n&&Ot.call(t,r))&&e.push(r);return e}function Dr(t,n){return t<n}function Xr(t,n){var e=-1,r=Ho(t)?bt(t.length):[];return _r(t,(function(t,i,a){r[++e]=n(t,i,a)})),r}function Wr(t){var n=ha(t);return 1==n.length&&n[0][2]?Ta(n[0][0],n[0][1]):function(e){return e===t||zr(e,t,n)}}function Vr(t,n){return ba(t)&&Sa(n)?Ta(Ba(t),n):function(r){var i=Nu(r,t);return i===e&&i===n?ju(r,t):Rr(n,i,3)}}function Pr(t,n,r,i,a){t!==n&&wr(n,(function(o,u){if(a||(a=new Ke),ru(o))!function(t,n,r,i,a,o,u){var s=Ea(t,r),l=Ea(n,r),c=u.get(l);if(c)return void er(t,r,c);var f=o?o(s,l,r+"",t,n,u):e,h=f===e;if(h){var p=Fo(l),_=!p&&Ko(l),g=!p&&!_&&hu(l);f=l,p||_||g?Fo(s)?f=s:Zo(s)?f=Ei(s):_?(h=!1,f=Ai(l,!0)):g?(h=!1,f=Ti(l,!0)):f=[]:uu(l)||Uo(l)?(f=s,Uo(s)?f=wu(s):ru(s)&&!tu(s)||(f=ya(l))):h=!1}h&&(u.set(l,f),a(f,l,i,o,u),u.delete(l));er(t,r,f)}(t,n,u,r,Pr,i,a);else{var s=i?i(Ea(t,u),o,u+"",t,n,a):e;s===e&&(s=o),er(t,u,s)}}),zu)}function qr(t,n){var r=t.length;if(r)return wa(n+=n<0?r:0,r)?t[n]:e}function Ur(t,n,e){n=n.length?$n(n,(function(t){return Fo(t)?function(n){return Ar(n,1===t.length?t[0]:t)}:t})):[os];var r=-1;n=$n(n,Zn(ca()));var i=Xr(t,(function(t,e,i){var a=$n(n,(function(n){return n(t)}));return{criteria:a,index:++r,value:t}}));return function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(i,(function(t,n){return function(t,n,e){var r=-1,i=t.criteria,a=n.criteria,o=i.length,u=e.length;for(;++r<o;){var s=Ci(i[r],a[r]);if(s)return r>=u?s:s*("desc"==e[r]?-1:1)}return t.index-n.index}(t,n,e)}))}function Fr(t,n,e){for(var r=-1,i=n.length,a={};++r<i;){var o=n[r],u=Ar(t,o);e(u,o)&&ni(a,xi(o,t),u)}return a}function Gr(t,n,e,r){var i=r?Xn:Dn,a=-1,o=n.length,u=t;for(t===n&&(n=Ei(n)),e&&(u=$n(t,Zn(e)));++a<o;)for(var s=0,l=n[a],c=e?e(l):l;(s=i(u,c,s,r))>-1;)u!==t&&Jt.call(u,s,1),Jt.call(t,s,1);return t}function Hr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==a){var a=i;wa(i)?Jt.call(t,i,1):pi(t,i)}}return t}function Zr(t,n){return t+Yn(Me()*(n-t+1))}function Kr(t,n){var e="";if(!t||n<1||n>h)return e;do{n%2&&(e+=t),(n=Yn(n/2))&&(t+=t)}while(n);return e}function Jr(t,n){return Ra(Ca(t,n,os),t+"")}function Qr(t){return Qe(Vu(t))}function ti(t,n){var e=Vu(t);return Ya(e,lr(n,0,e.length))}function ni(t,n,r,i){if(!ru(t))return t;for(var a=-1,o=(n=xi(n,t)).length,u=o-1,s=t;null!=s&&++a<o;){var l=Ba(n[a]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(a!=u){var f=s[l];(c=i?i(f,l,s):e)===e&&(c=ru(f)?f:wa(n[a+1])?[]:{})}rr(s,l,c),s=s[l]}return t}var ei=$e?function(t,n){return $e.set(t,n),t}:os,ri=fn?function(t,n){return fn(t,"toString",{configurable:!0,enumerable:!1,value:rs(n),writable:!0})}:os;function ii(t){return Ya(Vu(t))}function ai(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),(e=e>i?i:e)<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var a=bt(i);++r<i;)a[r]=t[r+n];return a}function oi(t,n){var e;return _r(t,(function(t,r,i){return!(e=n(t,r,i))})),!!e}function ui(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=t[a];null!==o&&!fu(o)&&(e?o<=n:o<n)?r=a+1:i=a}return i}return si(t,n,os,e)}function si(t,n,r,i){var a=0,o=null==t?0:t.length;if(0===o)return 0;for(var u=(n=r(n))!=n,s=null===n,l=fu(n),c=n===e;a<o;){var f=Yn((a+o)/2),h=r(t[f]),p=h!==e,_=null===h,g=h==h,d=fu(h);if(u)var v=i||g;else v=c?g&&(i||p):s?g&&p&&(i||!_):l?g&&p&&!_&&(i||!d):!_&&!d&&(i?h<=n:h<n);v?a=f+1:o=f}return xe(o,4294967294)}function li(t,n){for(var e=-1,r=t.length,i=0,a=[];++e<r;){var o=t[e],u=n?n(o):o;if(!e||!Vo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function ci(t){return"number"==typeof t?t:fu(t)?p:+t}function fi(t){if("string"==typeof t)return t;if(Fo(t))return $n(t,fi)+"";if(fu(t))return Xe?Xe.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function hi(t,n,e){var r=-1,i=jn,a=t.length,o=!0,u=[],s=u;if(e)o=!1,i=En;else if(a>=200){var l=n?null:Ki(t);if(l)return le(l);o=!1,i=Jn,s=new Ze}else s=n?[]:u;t:for(;++r<a;){var c=t[r],f=n?n(c):c;if(c=e||0!==c?c:0,o&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;n&&s.push(f),u.push(c)}else i(s,f,e)||(s!==u&&s.push(f),u.push(c))}return u}function pi(t,n){return null==(t=Na(t,n=xi(n,t)))||delete t[Ba(Ja(n))]}function _i(t,n,e,r){return ni(t,n,e(Ar(t,n)),r)}function gi(t,n,e,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&n(t[a],a,t););return e?ai(t,r?0:a,r?a+1:i):ai(t,r?a+1:0,r?i:a)}function di(t,n){var e=t;return e instanceof Ue&&(e=e.value()),Rn(n,(function(t,n){return n.func.apply(n.thisArg,Ln([t],n.args))}),e)}function vi(t,n,e){var r=t.length;if(r<2)return r?hi(t[0]):[];for(var i=-1,a=bt(r);++i<r;)for(var o=t[i],u=-1;++u<r;)u!=i&&(a[i]=pr(a[i]||o,t[u],n,e));return hi(mr(a,1),n,e)}function yi(t,n,r){for(var i=-1,a=t.length,o=n.length,u={};++i<a;){var s=i<o?n[i]:e;r(u,t[i],s)}return u}function mi(t){return Zo(t)?t:[]}function wi(t){return"function"==typeof t?t:os}function xi(t,n){return Fo(t)?t:ba(t,n)?[t]:Ia(xu(t))}var bi=Jr;function ki(t,n,r){var i=t.length;return r=r===e?i:r,!n&&r>=i?t:ai(t,n,r)}var Mi=pn||function(t){return hn.clearTimeout(t)};function Ai(t,n){if(n)return t.slice();var e=t.length,r=Ut?Ut(e):new t.constructor(e);return t.copy(r),r}function Si(t){var n=new t.constructor(t.byteLength);return new qt(n).set(new qt(t)),n}function Ti(t,n){var e=n?Si(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Ci(t,n){if(t!==n){var r=t!==e,i=null===t,a=t==t,o=fu(t),u=n!==e,s=null===n,l=n==n,c=fu(n);if(!s&&!c&&!o&&t>n||o&&u&&l&&!s&&!c||i&&u&&l||!r&&l||!a)return 1;if(!i&&!o&&!c&&t<n||c&&r&&a&&!i&&!o||s&&r&&a||!u&&a||!l)return-1}return 0}function Ni(t,n,e,r){for(var i=-1,a=t.length,o=e.length,u=-1,s=n.length,l=we(a-o,0),c=bt(s+l),f=!r;++u<s;)c[u]=n[u];for(;++i<o;)(f||i<a)&&(c[e[i]]=t[i]);for(;l--;)c[u++]=t[i++];return c}function ji(t,n,e,r){for(var i=-1,a=t.length,o=-1,u=e.length,s=-1,l=n.length,c=we(a-u,0),f=bt(c+l),h=!r;++i<c;)f[i]=t[i];for(var p=i;++s<l;)f[p+s]=n[s];for(;++o<u;)(h||i<a)&&(f[p+e[o]]=t[i++]);return f}function Ei(t,n){var e=-1,r=t.length;for(n||(n=bt(r));++e<r;)n[e]=t[e];return n}function $i(t,n,r,i){var a=!r;r||(r={});for(var o=-1,u=n.length;++o<u;){var s=n[o],l=i?i(r[s],t[s],s,r,t):e;l===e&&(l=t[s]),a?ur(r,s,l):rr(r,s,l)}return r}function Li(t,n){return function(e,r){var i=Fo(e)?An:ar,a=n?n():{};return i(e,t,ca(r,2),a)}}function Ri(t){return Jr((function(n,r){var i=-1,a=r.length,o=a>1?r[a-1]:e,u=a>2?r[2]:e;for(o=t.length>3&&"function"==typeof o?(a--,o):e,u&&xa(r[0],r[1],u)&&(o=a<3?e:o,a=1),n=Tt(n);++i<a;){var s=r[i];s&&t(n,s,i,o)}return n}))}function zi(t,n){return function(e,r){if(null==e)return e;if(!Ho(e))return t(e,r);for(var i=e.length,a=n?i:-1,o=Tt(e);(n?a--:++a<i)&&!1!==r(o[a],a,o););return e}}function Oi(t){return function(n,e,r){for(var i=-1,a=Tt(n),o=r(n),u=o.length;u--;){var s=o[t?u:++i];if(!1===e(a[s],s,a))break}return n}}function Yi(t){return function(n){var r=ae(n=xu(n))?he(n):e,i=r?r[0]:n.charAt(0),a=r?ki(r,1).join(""):n.slice(1);return i[t]()+a}}function Ii(t){return function(n){return Rn(ts(Uu(n).replace(Zt,"")),t,"")}}function Bi(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Ve(t.prototype),r=t.apply(e,n);return ru(r)?r:e}}function Di(t){return function(n,r,i){var a=Tt(n);if(!Ho(n)){var o=ca(r,3);n=Ru(n),r=function(t){return o(a[t],t,a)}}var u=t(n,r,i);return u>-1?a[o?n[u]:u]:e}}function Xi(t){return ia((function(n){var i=n.length,a=i,o=qe.prototype.thru;for(t&&n.reverse();a--;){var u=n[a];if("function"!=typeof u)throw new jt(r);if(o&&!s&&"wrapper"==sa(u))var s=new qe([],!0)}for(a=s?a:i;++a<i;){var l=sa(u=n[a]),c="wrapper"==l?ua(u):e;s=c&&ka(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[sa(c[0])].apply(s,c[3]):1==u.length&&ka(u)?s[l]():s.thru(u)}return function(){var t=arguments,e=t[0];if(s&&1==t.length&&Fo(e))return s.plant(e).value();for(var r=0,a=i?n[r].apply(this,t):e;++r<i;)a=n[r].call(this,a);return a}}))}function Wi(t,n,r,i,a,o,u,s,c,f){var h=n&l,p=1&n,_=2&n,g=24&n,d=512&n,v=_?e:Bi(t);return function e(){for(var l=arguments.length,y=bt(l),m=l;m--;)y[m]=arguments[m];if(g)var w=la(e),x=ne(y,w);if(i&&(y=Ni(y,i,a,g)),o&&(y=ji(y,o,u,g)),l-=x,g&&l<f){var b=se(y,w);return Hi(t,n,Wi,e.placeholder,r,y,b,s,c,f-l)}var k=p?r:this,M=_?k[t]:t;return l=y.length,s?y=ja(y,s):d&&l>1&&y.reverse(),h&&c<l&&(y.length=c),this&&this!==hn&&this instanceof e&&(M=v||Bi(M)),M.apply(k,y)}}function Vi(t,n){return function(e,r){return function(t,n,e,r){return br(t,(function(t,i,a){n(r,e(t),i,a)})),r}(e,t,n(r),{})}}function Pi(t,n){return function(r,i){var a;if(r===e&&i===e)return n;if(r!==e&&(a=r),i!==e){if(a===e)return i;"string"==typeof r||"string"==typeof i?(r=fi(r),i=fi(i)):(r=ci(r),i=ci(i)),a=t(r,i)}return a}}function qi(t){return ia((function(n){return n=$n(n,Zn(ca())),Jr((function(e){var r=this;return t(n,(function(t){return Mn(t,r,e)}))}))}))}function Ui(t,n){var r=(n=n===e?" ":fi(n)).length;if(r<2)return r?Kr(n,t):n;var i=Kr(n,vn(t/fe(n)));return ae(n)?ki(he(i),0,t).join(""):i.slice(0,t)}function Fi(t){return function(n,r,i){return i&&"number"!=typeof i&&xa(n,r,i)&&(r=i=e),n=du(n),r===e?(r=n,n=0):r=du(r),function(t,n,e,r){for(var i=-1,a=we(vn((n-t)/(e||1)),0),o=bt(a);a--;)o[r?a:++i]=t,t+=e;return o}(n,r,i=i===e?n<r?1:-1:du(i),t)}}function Gi(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=mu(n),e=mu(e)),t(n,e)}}function Hi(t,n,r,i,a,o,l,c,f,h){var p=8&n;n|=p?u:s,4&(n&=~(p?s:u))||(n&=-4);var _=[t,n,a,p?o:e,p?l:e,p?e:o,p?e:l,c,f,h],g=r.apply(e,_);return ka(t)&&$a(g,_),g.placeholder=i,za(g,t,n)}function Zi(t){var n=St[t];return function(t,e){if(t=mu(t),(e=null==e?0:xe(vu(e),292))&&ve(t)){var r=(xu(t)+"e").split("e");return+((r=(xu(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Ki=Ne&&1/le(new Ne([,-0]))[1]==f?function(t){return new Ne(t)}:fs;function Ji(t){return function(n){var e=da(n);return e==k?oe(n):e==C?ce(n):function(t,n){return $n(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function Qi(t,n,i,f,h,p,_,g){var d=2&n;if(!d&&"function"!=typeof t)throw new jt(r);var v=f?f.length:0;if(v||(n&=-97,f=h=e),_=_===e?_:we(vu(_),0),g=g===e?g:vu(g),v-=h?h.length:0,n&s){var y=f,m=h;f=h=e}var w=d?e:ua(t),x=[t,n,i,f,h,y,m,p,_,g];if(w&&function(t,n){var e=t[1],r=n[1],i=e|r,o=i<131,u=r==l&&8==e||r==l&&e==c&&t[7].length<=n[8]||384==r&&n[7].length<=n[8]&&8==e;if(!o&&!u)return t;1&r&&(t[2]=n[2],i|=1&e?0:4);var s=n[3];if(s){var f=t[3];t[3]=f?Ni(f,s,n[4]):s,t[4]=f?se(t[3],a):n[4]}(s=n[5])&&(f=t[5],t[5]=f?ji(f,s,n[6]):s,t[6]=f?se(t[5],a):n[6]);(s=n[7])&&(t[7]=s);r&l&&(t[8]=null==t[8]?n[8]:xe(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=i}(x,w),t=x[0],n=x[1],i=x[2],f=x[3],h=x[4],!(g=x[9]=x[9]===e?d?0:t.length:we(x[9]-v,0))&&24&n&&(n&=-25),n&&1!=n)b=8==n||n==o?function(t,n,r){var i=Bi(t);return function a(){for(var o=arguments.length,u=bt(o),s=o,l=la(a);s--;)u[s]=arguments[s];var c=o<3&&u[0]!==l&&u[o-1]!==l?[]:se(u,l);return(o-=c.length)<r?Hi(t,n,Wi,a.placeholder,e,u,c,e,e,r-o):Mn(this&&this!==hn&&this instanceof a?i:t,this,u)}}(t,n,g):n!=u&&33!=n||h.length?Wi.apply(e,x):function(t,n,e,r){var i=1&n,a=Bi(t);return function n(){for(var o=-1,u=arguments.length,s=-1,l=r.length,c=bt(l+u),f=this&&this!==hn&&this instanceof n?a:t;++s<l;)c[s]=r[s];for(;u--;)c[s++]=arguments[++o];return Mn(f,i?e:this,c)}}(t,n,i,f);else var b=function(t,n,e){var r=1&n,i=Bi(t);return function n(){return(this&&this!==hn&&this instanceof n?i:t).apply(r?e:this,arguments)}}(t,n,i);return za((w?ei:$a)(b,x),t,n)}function ta(t,n,r,i){return t===e||Vo(t,Lt[r])&&!Ot.call(i,r)?n:t}function na(t,n,r,i,a,o){return ru(t)&&ru(n)&&(o.set(n,t),Pr(t,n,e,na,o),o.delete(n)),t}function ea(t){return uu(t)?e:t}function ra(t,n,r,i,a,o){var u=1&r,s=t.length,l=n.length;if(s!=l&&!(u&&l>s))return!1;var c=o.get(t),f=o.get(n);if(c&&f)return c==n&&f==t;var h=-1,p=!0,_=2&r?new Ze:e;for(o.set(t,n),o.set(n,t);++h<s;){var g=t[h],d=n[h];if(i)var v=u?i(d,g,h,n,t,o):i(g,d,h,t,n,o);if(v!==e){if(v)continue;p=!1;break}if(_){if(!On(n,(function(t,n){if(!Jn(_,n)&&(g===t||a(g,t,r,i,o)))return _.push(n)}))){p=!1;break}}else if(g!==d&&!a(g,d,r,i,o)){p=!1;break}}return o.delete(t),o.delete(n),p}function ia(t){return Ra(Ca(t,e,Fa),t+"")}function aa(t){return Sr(t,Ru,_a)}function oa(t){return Sr(t,zu,ga)}var ua=$e?function(t){return $e.get(t)}:fs;function sa(t){for(var n=t.name+"",e=Le[n],r=Ot.call(Le,n)?e.length:0;r--;){var i=e[r],a=i.func;if(null==a||a==t)return i.name}return n}function la(t){return(Ot.call(We,"placeholder")?We:t).placeholder}function ca(){var t=We.iteratee||us;return t=t===us?Yr:t,arguments.length?t(arguments[0],arguments[1]):t}function fa(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function ha(t){for(var n=Ru(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Sa(i)]}return n}function pa(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return Or(r)?r:e}var _a=qn?function(t){return null==t?[]:(t=Tt(t),Nn(qn(t),(function(n){return Ht.call(t,n)})))}:ys,ga=qn?function(t){for(var n=[];t;)Ln(n,_a(t)),t=Ft(t);return n}:ys,da=Tr;function va(t,n,e){for(var r=-1,i=(n=xi(n,t)).length,a=!1;++r<i;){var o=Ba(n[r]);if(!(a=null!=t&&e(t,o)))break;t=t[o]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&eu(i)&&wa(o,i)&&(Fo(t)||Uo(t))}function ya(t){return"function"!=typeof t.constructor||Aa(t)?{}:Ve(Ft(t))}function ma(t){return Fo(t)||Uo(t)||!!(tn&&t&&t[tn])}function wa(t,n){var e=typeof t;return!!(n=null==n?h:n)&&("number"==e||"symbol"!=e&&yt.test(t))&&t>-1&&t%1==0&&t<n}function xa(t,n,e){if(!ru(e))return!1;var r=typeof n;return!!("number"==r?Ho(e)&&wa(n,e.length):"string"==r&&n in e)&&Vo(e[n],t)}function ba(t,n){if(Fo(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!fu(t))||(tt.test(t)||!Q.test(t)||null!=n&&t in Tt(n))}function ka(t){var n=sa(t),e=We[n];if("function"!=typeof e||!(n in Ue.prototype))return!1;if(t===e)return!0;var r=ua(e);return!!r&&t===r[0]}(Se&&da(new Se(new ArrayBuffer(1)))!=L||Te&&da(new Te)!=k||Ce&&da(Ce.resolve())!=S||Ne&&da(new Ne)!=C||je&&da(new je)!=E)&&(da=function(t){var n=Tr(t),r=n==A?t.constructor:e,i=r?Da(r):"";if(i)switch(i){case Re:return L;case ze:return k;case Oe:return S;case Ye:return C;case Ie:return E}return n});var Ma=Rt?tu:ms;function Aa(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Lt)}function Sa(t){return t==t&&!ru(t)}function Ta(t,n){return function(r){return null!=r&&(r[t]===n&&(n!==e||t in Tt(r)))}}function Ca(t,n,r){return n=we(n===e?t.length-1:n,0),function(){for(var e=arguments,i=-1,a=we(e.length-n,0),o=bt(a);++i<a;)o[i]=e[n+i];i=-1;for(var u=bt(n+1);++i<n;)u[i]=e[i];return u[n]=r(o),Mn(t,this,u)}}function Na(t,n){return n.length<2?t:Ar(t,ai(n,0,-1))}function ja(t,n){for(var r=t.length,i=xe(n.length,r),a=Ei(t);i--;){var o=n[i];t[i]=wa(o,r)?a[o]:e}return t}function Ea(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var $a=Oa(ei),La=dn||function(t,n){return hn.setTimeout(t,n)},Ra=Oa(ri);function za(t,n,e){var r=n+"";return Ra(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return Sn(g,(function(e){var r="_."+e[0];n&e[1]&&!jn(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(ut);return n?n[1].split(st):[]}(r),e)))}function Oa(t){var n=0,r=0;return function(){var i=be(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function Ya(t,n){var r=-1,i=t.length,a=i-1;for(n=n===e?i:n;++r<n;){var o=Zr(r,a),u=t[o];t[o]=t[r],t[r]=u}return t.length=n,t}var Ia=function(t){var n=Yo(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(nt,(function(t,e,r,i){n.push(r?i.replace(ft,"$1"):e||t)})),n}));function Ba(t){if("string"==typeof t||fu(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Da(t){if(null!=t){try{return zt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xa(t){if(t instanceof Ue)return t.clone();var n=new qe(t.__wrapped__,t.__chain__);return n.__actions__=Ei(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Wa=Jr((function(t,n){return Zo(t)?pr(t,mr(n,1,Zo,!0)):[]})),Va=Jr((function(t,n){var r=Ja(n);return Zo(r)&&(r=e),Zo(t)?pr(t,mr(n,1,Zo,!0),ca(r,2)):[]})),Pa=Jr((function(t,n){var r=Ja(n);return Zo(r)&&(r=e),Zo(t)?pr(t,mr(n,1,Zo,!0),e,r):[]}));function qa(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:vu(e);return i<0&&(i=we(r+i,0)),Bn(t,ca(n,3),i)}function Ua(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i-1;return r!==e&&(a=vu(r),a=r<0?we(i+a,0):xe(a,i-1)),Bn(t,ca(n,3),a,!0)}function Fa(t){return(null==t?0:t.length)?mr(t,1):[]}function Ga(t){return t&&t.length?t[0]:e}var Ha=Jr((function(t){var n=$n(t,mi);return n.length&&n[0]===t[0]?Er(n):[]})),Za=Jr((function(t){var n=Ja(t),r=$n(t,mi);return n===Ja(r)?n=e:r.pop(),r.length&&r[0]===t[0]?Er(r,ca(n,2)):[]})),Ka=Jr((function(t){var n=Ja(t),r=$n(t,mi);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?Er(r,e,n):[]}));function Ja(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Qa=Jr(to);function to(t,n){return t&&t.length&&n&&n.length?Gr(t,n):t}var no=ia((function(t,n){var e=null==t?0:t.length,r=sr(t,n);return Hr(t,$n(n,(function(t){return wa(t,e)?+t:t})).sort(Ci)),r}));function eo(t){return null==t?t:Ae.call(t)}var ro=Jr((function(t){return hi(mr(t,1,Zo,!0))})),io=Jr((function(t){var n=Ja(t);return Zo(n)&&(n=e),hi(mr(t,1,Zo,!0),ca(n,2))})),ao=Jr((function(t){var n=Ja(t);return n="function"==typeof n?n:e,hi(mr(t,1,Zo,!0),e,n)}));function oo(t){if(!t||!t.length)return[];var n=0;return t=Nn(t,(function(t){if(Zo(t))return n=we(t.length,n),!0})),Gn(n,(function(n){return $n(t,Pn(n))}))}function uo(t,n){if(!t||!t.length)return[];var r=oo(t);return null==n?r:$n(r,(function(t){return Mn(n,e,t)}))}var so=Jr((function(t,n){return Zo(t)?pr(t,n):[]})),lo=Jr((function(t){return vi(Nn(t,Zo))})),co=Jr((function(t){var n=Ja(t);return Zo(n)&&(n=e),vi(Nn(t,Zo),ca(n,2))})),fo=Jr((function(t){var n=Ja(t);return n="function"==typeof n?n:e,vi(Nn(t,Zo),e,n)})),ho=Jr(oo);var po=Jr((function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,uo(t,r)}));function _o(t){var n=We(t);return n.__chain__=!0,n}function go(t,n){return n(t)}var vo=ia((function(t){var n=t.length,r=n?t[0]:0,i=this.__wrapped__,a=function(n){return sr(n,t)};return!(n>1||this.__actions__.length)&&i instanceof Ue&&wa(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:go,args:[a],thisArg:e}),new qe(i,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(a)}));var yo=Li((function(t,n,e){Ot.call(t,e)?++t[e]:ur(t,e,1)}));var mo=Di(qa),wo=Di(Ua);function xo(t,n){return(Fo(t)?Sn:_r)(t,ca(n,3))}function bo(t,n){return(Fo(t)?Tn:gr)(t,ca(n,3))}var ko=Li((function(t,n,e){Ot.call(t,e)?t[e].push(n):ur(t,e,[n])}));var Mo=Jr((function(t,n,e){var r=-1,i="function"==typeof n,a=Ho(t)?bt(t.length):[];return _r(t,(function(t){a[++r]=i?Mn(n,t,e):$r(t,n,e)})),a})),Ao=Li((function(t,n,e){ur(t,e,n)}));function So(t,n){return(Fo(t)?$n:Xr)(t,ca(n,3))}var To=Li((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));var Co=Jr((function(t,n){if(null==t)return[];var e=n.length;return e>1&&xa(t,n[0],n[1])?n=[]:e>2&&xa(n[0],n[1],n[2])&&(n=[n[0]]),Ur(t,mr(n,1),[])})),No=_n||function(){return hn.Date.now()};function jo(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,Qi(t,l,e,e,e,e,n)}function Eo(t,n){var i;if("function"!=typeof n)throw new jt(r);return t=vu(t),function(){return--t>0&&(i=n.apply(this,arguments)),t<=1&&(n=e),i}}var $o=Jr((function(t,n,e){var r=1;if(e.length){var i=se(e,la($o));r|=u}return Qi(t,r,n,e,i)})),Lo=Jr((function(t,n,e){var r=3;if(e.length){var i=se(e,la(Lo));r|=u}return Qi(n,r,t,e,i)}));function Ro(t,n,i){var a,o,u,s,l,c,f=0,h=!1,p=!1,_=!0;if("function"!=typeof t)throw new jt(r);function g(n){var r=a,i=o;return a=o=e,f=n,s=t.apply(i,r)}function d(t){return f=t,l=La(y,n),h?g(t):s}function v(t){var r=t-c;return c===e||r>=n||r<0||p&&t-f>=u}function y(){var t=No();if(v(t))return m(t);l=La(y,function(t){var e=n-(t-c);return p?xe(e,u-(t-f)):e}(t))}function m(t){return l=e,_&&a?g(t):(a=o=e,s)}function w(){var t=No(),r=v(t);if(a=arguments,o=this,c=t,r){if(l===e)return d(c);if(p)return Mi(l),l=La(y,n),g(c)}return l===e&&(l=La(y,n)),s}return n=mu(n)||0,ru(i)&&(h=!!i.leading,u=(p="maxWait"in i)?we(mu(i.maxWait)||0,n):u,_="trailing"in i?!!i.trailing:_),w.cancel=function(){l!==e&&Mi(l),f=0,a=c=o=l=e},w.flush=function(){return l===e?s:m(No())},w}var zo=Jr((function(t,n){return hr(t,1,n)})),Oo=Jr((function(t,n,e){return hr(t,mu(n)||0,e)}));function Yo(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new jt(r);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],a=e.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return e.cache=a.set(i,o)||a,o};return e.cache=new(Yo.Cache||He),e}function Io(t){if("function"!=typeof t)throw new jt(r);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}Yo.Cache=He;var Bo=bi((function(t,n){var e=(n=1==n.length&&Fo(n[0])?$n(n[0],Zn(ca())):$n(mr(n,1),Zn(ca()))).length;return Jr((function(r){for(var i=-1,a=xe(r.length,e);++i<a;)r[i]=n[i].call(this,r[i]);return Mn(t,this,r)}))})),Do=Jr((function(t,n){var r=se(n,la(Do));return Qi(t,u,e,n,r)})),Xo=Jr((function(t,n){var r=se(n,la(Xo));return Qi(t,s,e,n,r)})),Wo=ia((function(t,n){return Qi(t,c,e,e,e,n)}));function Vo(t,n){return t===n||t!=t&&n!=n}var Po=Gi(Cr),qo=Gi((function(t,n){return t>=n})),Uo=Lr(function(){return arguments}())?Lr:function(t){return iu(t)&&Ot.call(t,"callee")&&!Ht.call(t,"callee")},Fo=bt.isArray,Go=yn?Zn(yn):function(t){return iu(t)&&Tr(t)==$};function Ho(t){return null!=t&&eu(t.length)&&!tu(t)}function Zo(t){return iu(t)&&Ho(t)}var Ko=de||ms,Jo=mn?Zn(mn):function(t){return iu(t)&&Tr(t)==m};function Qo(t){if(!iu(t))return!1;var n=Tr(t);return n==w||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!uu(t)}function tu(t){if(!ru(t))return!1;var n=Tr(t);return n==x||n==b||"[object AsyncFunction]"==n||"[object Proxy]"==n}function nu(t){return"number"==typeof t&&t==vu(t)}function eu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ru(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function iu(t){return null!=t&&"object"==typeof t}var au=wn?Zn(wn):function(t){return iu(t)&&da(t)==k};function ou(t){return"number"==typeof t||iu(t)&&Tr(t)==M}function uu(t){if(!iu(t)||Tr(t)!=A)return!1;var n=Ft(t);if(null===n)return!0;var e=Ot.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&zt.call(e)==Dt}var su=xn?Zn(xn):function(t){return iu(t)&&Tr(t)==T};var lu=bn?Zn(bn):function(t){return iu(t)&&da(t)==C};function cu(t){return"string"==typeof t||!Fo(t)&&iu(t)&&Tr(t)==N}function fu(t){return"symbol"==typeof t||iu(t)&&Tr(t)==j}var hu=kn?Zn(kn):function(t){return iu(t)&&eu(t.length)&&!!an[Tr(t)]};var pu=Gi(Dr),_u=Gi((function(t,n){return t<=n}));function gu(t){if(!t)return[];if(Ho(t))return cu(t)?he(t):Ei(t);if(un&&t[un])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[un]());var n=da(t);return(n==k?oe:n==C?le:Vu)(t)}function du(t){return t?(t=mu(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function vu(t){var n=du(t),e=n%1;return n==n?e?n-e:n:0}function yu(t){return t?lr(vu(t),0,_):0}function mu(t){if("number"==typeof t)return t;if(fu(t))return p;if(ru(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=ru(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=Hn(t);var e=gt.test(t);return e||vt.test(t)?ln(t.slice(2),e?2:8):_t.test(t)?p:+t}function wu(t){return $i(t,zu(t))}function xu(t){return null==t?"":fi(t)}var bu=Ri((function(t,n){if(Aa(n)||Ho(n))$i(n,Ru(n),t);else for(var e in n)Ot.call(n,e)&&rr(t,e,n[e])})),ku=Ri((function(t,n){$i(n,zu(n),t)})),Mu=Ri((function(t,n,e,r){$i(n,zu(n),t,r)})),Au=Ri((function(t,n,e,r){$i(n,Ru(n),t,r)})),Su=ia(sr);var Tu=Jr((function(t,n){t=Tt(t);var r=-1,i=n.length,a=i>2?n[2]:e;for(a&&xa(n[0],n[1],a)&&(i=1);++r<i;)for(var o=n[r],u=zu(o),s=-1,l=u.length;++s<l;){var c=u[s],f=t[c];(f===e||Vo(f,Lt[c])&&!Ot.call(t,c))&&(t[c]=o[c])}return t})),Cu=Jr((function(t){return t.push(e,na),Mn(Yu,e,t)}));function Nu(t,n,r){var i=null==t?e:Ar(t,n);return i===e?r:i}function ju(t,n){return null!=t&&va(t,n,jr)}var Eu=Vi((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Bt.call(n)),t[n]=e}),rs(os)),$u=Vi((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Bt.call(n)),Ot.call(t,n)?t[n].push(e):t[n]=[e]}),ca),Lu=Jr($r);function Ru(t){return Ho(t)?Je(t):Ir(t)}function zu(t){return Ho(t)?Je(t,!0):Br(t)}var Ou=Ri((function(t,n,e){Pr(t,n,e)})),Yu=Ri((function(t,n,e,r){Pr(t,n,e,r)})),Iu=ia((function(t,n){var e={};if(null==t)return e;var r=!1;n=$n(n,(function(n){return n=xi(n,t),r||(r=n.length>1),n})),$i(t,oa(t),e),r&&(e=cr(e,7,ea));for(var i=n.length;i--;)pi(e,n[i]);return e}));var Bu=ia((function(t,n){return null==t?{}:function(t,n){return Fr(t,n,(function(n,e){return ju(t,e)}))}(t,n)}));function Du(t,n){if(null==t)return{};var e=$n(oa(t),(function(t){return[t]}));return n=ca(n),Fr(t,e,(function(t,e){return n(t,e[0])}))}var Xu=Ji(Ru),Wu=Ji(zu);function Vu(t){return null==t?[]:Kn(t,Ru(t))}var Pu=Ii((function(t,n,e){return n=n.toLowerCase(),t+(e?qu(n):n)}));function qu(t){return Qu(xu(t).toLowerCase())}function Uu(t){return(t=xu(t))&&t.replace(mt,ee).replace(Kt,"")}var Fu=Ii((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Gu=Ii((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),Hu=Yi("toLowerCase");var Zu=Ii((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));var Ku=Ii((function(t,n,e){return t+(e?" ":"")+Qu(n)}));var Ju=Ii((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),Qu=Yi("toUpperCase");function ts(t,n,r){return t=xu(t),(n=r?e:n)===e?function(t){return nn.test(t)}(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(n)||[]}var ns=Jr((function(t,n){try{return Mn(t,e,n)}catch(t){return Qo(t)?t:new Mt(t)}})),es=ia((function(t,n){return Sn(n,(function(n){n=Ba(n),ur(t,n,$o(t[n],t))})),t}));function rs(t){return function(){return t}}var is=Xi(),as=Xi(!0);function os(t){return t}function us(t){return Yr("function"==typeof t?t:cr(t,1))}var ss=Jr((function(t,n){return function(e){return $r(e,t,n)}})),ls=Jr((function(t,n){return function(e){return $r(t,e,n)}}));function cs(t,n,e){var r=Ru(n),i=Mr(n,r);null!=e||ru(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=Mr(n,Ru(n)));var a=!(ru(e)&&"chain"in e&&!e.chain),o=tu(t);return Sn(i,(function(e){var r=n[e];t[e]=r,o&&(t.prototype[e]=function(){var n=this.__chain__;if(a||n){var e=t(this.__wrapped__),i=e.__actions__=Ei(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,Ln([this.value()],arguments))})})),t}function fs(){}var hs=qi($n),ps=qi(Cn),_s=qi(On);function gs(t){return ba(t)?Pn(Ba(t)):function(t){return function(n){return Ar(n,t)}}(t)}var ds=Fi(),vs=Fi(!0);function ys(){return[]}function ms(){return!1}var ws=Pi((function(t,n){return t+n}),0),xs=Zi("ceil"),bs=Pi((function(t,n){return t/n}),1),ks=Zi("floor");var Ms,As=Pi((function(t,n){return t*n}),1),Ss=Zi("round"),Ts=Pi((function(t,n){return t-n}),0);return We.after=function(t,n){if("function"!=typeof n)throw new jt(r);return t=vu(t),function(){if(--t<1)return n.apply(this,arguments)}},We.ary=jo,We.assign=bu,We.assignIn=ku,We.assignInWith=Mu,We.assignWith=Au,We.at=Su,We.before=Eo,We.bind=$o,We.bindAll=es,We.bindKey=Lo,We.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Fo(t)?t:[t]},We.chain=_o,We.chunk=function(t,n,r){n=(r?xa(t,n,r):n===e)?1:we(vu(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var a=0,o=0,u=bt(vn(i/n));a<i;)u[o++]=ai(t,a,a+=n);return u},We.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var a=t[n];a&&(i[r++]=a)}return i},We.concat=function(){var t=arguments.length;if(!t)return[];for(var n=bt(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return Ln(Fo(e)?Ei(e):[e],mr(n,1))},We.cond=function(t){var n=null==t?0:t.length,e=ca();return t=n?$n(t,(function(t){if("function"!=typeof t[1])throw new jt(r);return[e(t[0]),t[1]]})):[],Jr((function(e){for(var r=-1;++r<n;){var i=t[r];if(Mn(i[0],this,e))return Mn(i[1],this,e)}}))},We.conforms=function(t){return function(t){var n=Ru(t);return function(e){return fr(e,t,n)}}(cr(t,1))},We.constant=rs,We.countBy=yo,We.create=function(t,n){var e=Ve(t);return null==n?e:or(e,n)},We.curry=function t(n,r,i){var a=Qi(n,8,e,e,e,e,e,r=i?e:r);return a.placeholder=t.placeholder,a},We.curryRight=function t(n,r,i){var a=Qi(n,o,e,e,e,e,e,r=i?e:r);return a.placeholder=t.placeholder,a},We.debounce=Ro,We.defaults=Tu,We.defaultsDeep=Cu,We.defer=zo,We.delay=Oo,We.difference=Wa,We.differenceBy=Va,We.differenceWith=Pa,We.drop=function(t,n,r){var i=null==t?0:t.length;return i?ai(t,(n=r||n===e?1:vu(n))<0?0:n,i):[]},We.dropRight=function(t,n,r){var i=null==t?0:t.length;return i?ai(t,0,(n=i-(n=r||n===e?1:vu(n)))<0?0:n):[]},We.dropRightWhile=function(t,n){return t&&t.length?gi(t,ca(n,3),!0,!0):[]},We.dropWhile=function(t,n){return t&&t.length?gi(t,ca(n,3),!0):[]},We.fill=function(t,n,r,i){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&xa(t,n,r)&&(r=0,i=a),function(t,n,r,i){var a=t.length;for((r=vu(r))<0&&(r=-r>a?0:a+r),(i=i===e||i>a?a:vu(i))<0&&(i+=a),i=r>i?0:yu(i);r<i;)t[r++]=n;return t}(t,n,r,i)):[]},We.filter=function(t,n){return(Fo(t)?Nn:yr)(t,ca(n,3))},We.flatMap=function(t,n){return mr(So(t,n),1)},We.flatMapDeep=function(t,n){return mr(So(t,n),f)},We.flatMapDepth=function(t,n,r){return r=r===e?1:vu(r),mr(So(t,n),r)},We.flatten=Fa,We.flattenDeep=function(t){return(null==t?0:t.length)?mr(t,f):[]},We.flattenDepth=function(t,n){return(null==t?0:t.length)?mr(t,n=n===e?1:vu(n)):[]},We.flip=function(t){return Qi(t,512)},We.flow=is,We.flowRight=as,We.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},We.functions=function(t){return null==t?[]:Mr(t,Ru(t))},We.functionsIn=function(t){return null==t?[]:Mr(t,zu(t))},We.groupBy=ko,We.initial=function(t){return(null==t?0:t.length)?ai(t,0,-1):[]},We.intersection=Ha,We.intersectionBy=Za,We.intersectionWith=Ka,We.invert=Eu,We.invertBy=$u,We.invokeMap=Mo,We.iteratee=us,We.keyBy=Ao,We.keys=Ru,We.keysIn=zu,We.map=So,We.mapKeys=function(t,n){var e={};return n=ca(n,3),br(t,(function(t,r,i){ur(e,n(t,r,i),t)})),e},We.mapValues=function(t,n){var e={};return n=ca(n,3),br(t,(function(t,r,i){ur(e,r,n(t,r,i))})),e},We.matches=function(t){return Wr(cr(t,1))},We.matchesProperty=function(t,n){return Vr(t,cr(n,1))},We.memoize=Yo,We.merge=Ou,We.mergeWith=Yu,We.method=ss,We.methodOf=ls,We.mixin=cs,We.negate=Io,We.nthArg=function(t){return t=vu(t),Jr((function(n){return qr(n,t)}))},We.omit=Iu,We.omitBy=function(t,n){return Du(t,Io(ca(n)))},We.once=function(t){return Eo(2,t)},We.orderBy=function(t,n,r,i){return null==t?[]:(Fo(n)||(n=null==n?[]:[n]),Fo(r=i?e:r)||(r=null==r?[]:[r]),Ur(t,n,r))},We.over=hs,We.overArgs=Bo,We.overEvery=ps,We.overSome=_s,We.partial=Do,We.partialRight=Xo,We.partition=To,We.pick=Bu,We.pickBy=Du,We.property=gs,We.propertyOf=function(t){return function(n){return null==t?e:Ar(t,n)}},We.pull=Qa,We.pullAll=to,We.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?Gr(t,n,ca(e,2)):t},We.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Gr(t,n,e,r):t},We.pullAt=no,We.range=ds,We.rangeRight=vs,We.rearg=Wo,We.reject=function(t,n){return(Fo(t)?Nn:yr)(t,Io(ca(n,3)))},We.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],a=t.length;for(n=ca(n,3);++r<a;){var o=t[r];n(o,r,t)&&(e.push(o),i.push(r))}return Hr(t,i),e},We.rest=function(t,n){if("function"!=typeof t)throw new jt(r);return Jr(t,n=n===e?n:vu(n))},We.reverse=eo,We.sampleSize=function(t,n,r){return n=(r?xa(t,n,r):n===e)?1:vu(n),(Fo(t)?tr:ti)(t,n)},We.set=function(t,n,e){return null==t?t:ni(t,n,e)},We.setWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:ni(t,n,r,i)},We.shuffle=function(t){return(Fo(t)?nr:ii)(t)},We.slice=function(t,n,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&xa(t,n,r)?(n=0,r=i):(n=null==n?0:vu(n),r=r===e?i:vu(r)),ai(t,n,r)):[]},We.sortBy=Co,We.sortedUniq=function(t){return t&&t.length?li(t):[]},We.sortedUniqBy=function(t,n){return t&&t.length?li(t,ca(n,2)):[]},We.split=function(t,n,r){return r&&"number"!=typeof r&&xa(t,n,r)&&(n=r=e),(r=r===e?_:r>>>0)?(t=xu(t))&&("string"==typeof n||null!=n&&!su(n))&&!(n=fi(n))&&ae(t)?ki(he(t),0,r):t.split(n,r):[]},We.spread=function(t,n){if("function"!=typeof t)throw new jt(r);return n=null==n?0:we(vu(n),0),Jr((function(e){var r=e[n],i=ki(e,0,n);return r&&Ln(i,r),Mn(t,this,i)}))},We.tail=function(t){var n=null==t?0:t.length;return n?ai(t,1,n):[]},We.take=function(t,n,r){return t&&t.length?ai(t,0,(n=r||n===e?1:vu(n))<0?0:n):[]},We.takeRight=function(t,n,r){var i=null==t?0:t.length;return i?ai(t,(n=i-(n=r||n===e?1:vu(n)))<0?0:n,i):[]},We.takeRightWhile=function(t,n){return t&&t.length?gi(t,ca(n,3),!1,!0):[]},We.takeWhile=function(t,n){return t&&t.length?gi(t,ca(n,3)):[]},We.tap=function(t,n){return n(t),t},We.throttle=function(t,n,e){var i=!0,a=!0;if("function"!=typeof t)throw new jt(r);return ru(e)&&(i="leading"in e?!!e.leading:i,a="trailing"in e?!!e.trailing:a),Ro(t,n,{leading:i,maxWait:n,trailing:a})},We.thru=go,We.toArray=gu,We.toPairs=Xu,We.toPairsIn=Wu,We.toPath=function(t){return Fo(t)?$n(t,Ba):fu(t)?[t]:Ei(Ia(xu(t)))},We.toPlainObject=wu,We.transform=function(t,n,e){var r=Fo(t),i=r||Ko(t)||hu(t);if(n=ca(n,4),null==e){var a=t&&t.constructor;e=i?r?new a:[]:ru(t)&&tu(a)?Ve(Ft(t)):{}}return(i?Sn:br)(t,(function(t,r,i){return n(e,t,r,i)})),e},We.unary=function(t){return jo(t,1)},We.union=ro,We.unionBy=io,We.unionWith=ao,We.uniq=function(t){return t&&t.length?hi(t):[]},We.uniqBy=function(t,n){return t&&t.length?hi(t,ca(n,2)):[]},We.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?hi(t,e,n):[]},We.unset=function(t,n){return null==t||pi(t,n)},We.unzip=oo,We.unzipWith=uo,We.update=function(t,n,e){return null==t?t:_i(t,n,wi(e))},We.updateWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:_i(t,n,wi(r),i)},We.values=Vu,We.valuesIn=function(t){return null==t?[]:Kn(t,zu(t))},We.without=so,We.words=ts,We.wrap=function(t,n){return Do(wi(n),t)},We.xor=lo,We.xorBy=co,We.xorWith=fo,We.zip=ho,We.zipObject=function(t,n){return yi(t||[],n||[],rr)},We.zipObjectDeep=function(t,n){return yi(t||[],n||[],ni)},We.zipWith=po,We.entries=Xu,We.entriesIn=Wu,We.extend=ku,We.extendWith=Mu,cs(We,We),We.add=ws,We.attempt=ns,We.camelCase=Pu,We.capitalize=qu,We.ceil=xs,We.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=mu(r))==r?r:0),n!==e&&(n=(n=mu(n))==n?n:0),lr(mu(t),n,r)},We.clone=function(t){return cr(t,4)},We.cloneDeep=function(t){return cr(t,5)},We.cloneDeepWith=function(t,n){return cr(t,5,n="function"==typeof n?n:e)},We.cloneWith=function(t,n){return cr(t,4,n="function"==typeof n?n:e)},We.conformsTo=function(t,n){return null==n||fr(t,n,Ru(n))},We.deburr=Uu,We.defaultTo=function(t,n){return null==t||t!=t?n:t},We.divide=bs,We.endsWith=function(t,n,r){t=xu(t),n=fi(n);var i=t.length,a=r=r===e?i:lr(vu(r),0,i);return(r-=n.length)>=0&&t.slice(r,a)==n},We.eq=Vo,We.escape=function(t){return(t=xu(t))&&H.test(t)?t.replace(F,re):t},We.escapeRegExp=function(t){return(t=xu(t))&&rt.test(t)?t.replace(et,"\\$&"):t},We.every=function(t,n,r){var i=Fo(t)?Cn:dr;return r&&xa(t,n,r)&&(n=e),i(t,ca(n,3))},We.find=mo,We.findIndex=qa,We.findKey=function(t,n){return In(t,ca(n,3),br)},We.findLast=wo,We.findLastIndex=Ua,We.findLastKey=function(t,n){return In(t,ca(n,3),kr)},We.floor=ks,We.forEach=xo,We.forEachRight=bo,We.forIn=function(t,n){return null==t?t:wr(t,ca(n,3),zu)},We.forInRight=function(t,n){return null==t?t:xr(t,ca(n,3),zu)},We.forOwn=function(t,n){return t&&br(t,ca(n,3))},We.forOwnRight=function(t,n){return t&&kr(t,ca(n,3))},We.get=Nu,We.gt=Po,We.gte=qo,We.has=function(t,n){return null!=t&&va(t,n,Nr)},We.hasIn=ju,We.head=Ga,We.identity=os,We.includes=function(t,n,e,r){t=Ho(t)?t:Vu(t),e=e&&!r?vu(e):0;var i=t.length;return e<0&&(e=we(i+e,0)),cu(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&Dn(t,n,e)>-1},We.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:vu(e);return i<0&&(i=we(r+i,0)),Dn(t,n,i)},We.inRange=function(t,n,r){return n=du(n),r===e?(r=n,n=0):r=du(r),function(t,n,e){return t>=xe(n,e)&&t<we(n,e)}(t=mu(t),n,r)},We.invoke=Lu,We.isArguments=Uo,We.isArray=Fo,We.isArrayBuffer=Go,We.isArrayLike=Ho,We.isArrayLikeObject=Zo,We.isBoolean=function(t){return!0===t||!1===t||iu(t)&&Tr(t)==y},We.isBuffer=Ko,We.isDate=Jo,We.isElement=function(t){return iu(t)&&1===t.nodeType&&!uu(t)},We.isEmpty=function(t){if(null==t)return!0;if(Ho(t)&&(Fo(t)||"string"==typeof t||"function"==typeof t.splice||Ko(t)||hu(t)||Uo(t)))return!t.length;var n=da(t);if(n==k||n==C)return!t.size;if(Aa(t))return!Ir(t).length;for(var e in t)if(Ot.call(t,e))return!1;return!0},We.isEqual=function(t,n){return Rr(t,n)},We.isEqualWith=function(t,n,r){var i=(r="function"==typeof r?r:e)?r(t,n):e;return i===e?Rr(t,n,e,r):!!i},We.isError=Qo,We.isFinite=function(t){return"number"==typeof t&&ve(t)},We.isFunction=tu,We.isInteger=nu,We.isLength=eu,We.isMap=au,We.isMatch=function(t,n){return t===n||zr(t,n,ha(n))},We.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,zr(t,n,ha(n),r)},We.isNaN=function(t){return ou(t)&&t!=+t},We.isNative=function(t){if(Ma(t))throw new Mt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(t)},We.isNil=function(t){return null==t},We.isNull=function(t){return null===t},We.isNumber=ou,We.isObject=ru,We.isObjectLike=iu,We.isPlainObject=uu,We.isRegExp=su,We.isSafeInteger=function(t){return nu(t)&&t>=-9007199254740991&&t<=h},We.isSet=lu,We.isString=cu,We.isSymbol=fu,We.isTypedArray=hu,We.isUndefined=function(t){return t===e},We.isWeakMap=function(t){return iu(t)&&da(t)==E},We.isWeakSet=function(t){return iu(t)&&"[object WeakSet]"==Tr(t)},We.join=function(t,n){return null==t?"":ye.call(t,n)},We.kebabCase=Fu,We.last=Ja,We.lastIndexOf=function(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i;return r!==e&&(a=(a=vu(r))<0?we(i+a,0):xe(a,i-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,a):Bn(t,Wn,a,!0)},We.lowerCase=Gu,We.lowerFirst=Hu,We.lt=pu,We.lte=_u,We.max=function(t){return t&&t.length?vr(t,os,Cr):e},We.maxBy=function(t,n){return t&&t.length?vr(t,ca(n,2),Cr):e},We.mean=function(t){return Vn(t,os)},We.meanBy=function(t,n){return Vn(t,ca(n,2))},We.min=function(t){return t&&t.length?vr(t,os,Dr):e},We.minBy=function(t,n){return t&&t.length?vr(t,ca(n,2),Dr):e},We.stubArray=ys,We.stubFalse=ms,We.stubObject=function(){return{}},We.stubString=function(){return""},We.stubTrue=function(){return!0},We.multiply=As,We.nth=function(t,n){return t&&t.length?qr(t,vu(n)):e},We.noConflict=function(){return hn._===this&&(hn._=Xt),this},We.noop=fs,We.now=No,We.pad=function(t,n,e){t=xu(t);var r=(n=vu(n))?fe(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return Ui(Yn(i),e)+t+Ui(vn(i),e)},We.padEnd=function(t,n,e){t=xu(t);var r=(n=vu(n))?fe(t):0;return n&&r<n?t+Ui(n-r,e):t},We.padStart=function(t,n,e){t=xu(t);var r=(n=vu(n))?fe(t):0;return n&&r<n?Ui(n-r,e)+t:t},We.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),ke(xu(t).replace(it,""),n||0)},We.random=function(t,n,r){if(r&&"boolean"!=typeof r&&xa(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=du(t),n===e?(n=t,t=0):n=du(n)),t>n){var i=t;t=n,n=i}if(r||t%1||n%1){var a=Me();return xe(t+a*(n-t+sn("1e-"+((a+"").length-1))),n)}return Zr(t,n)},We.reduce=function(t,n,e){var r=Fo(t)?Rn:Un,i=arguments.length<3;return r(t,ca(n,4),e,i,_r)},We.reduceRight=function(t,n,e){var r=Fo(t)?zn:Un,i=arguments.length<3;return r(t,ca(n,4),e,i,gr)},We.repeat=function(t,n,r){return n=(r?xa(t,n,r):n===e)?1:vu(n),Kr(xu(t),n)},We.replace=function(){var t=arguments,n=xu(t[0]);return t.length<3?n:n.replace(t[1],t[2])},We.result=function(t,n,r){var i=-1,a=(n=xi(n,t)).length;for(a||(a=1,t=e);++i<a;){var o=null==t?e:t[Ba(n[i])];o===e&&(i=a,o=r),t=tu(o)?o.call(t):o}return t},We.round=Ss,We.runInContext=t,We.sample=function(t){return(Fo(t)?Qe:Qr)(t)},We.size=function(t){if(null==t)return 0;if(Ho(t))return cu(t)?fe(t):t.length;var n=da(t);return n==k||n==C?t.size:Ir(t).length},We.snakeCase=Zu,We.some=function(t,n,r){var i=Fo(t)?On:oi;return r&&xa(t,n,r)&&(n=e),i(t,ca(n,3))},We.sortedIndex=function(t,n){return ui(t,n)},We.sortedIndexBy=function(t,n,e){return si(t,n,ca(e,2))},We.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=ui(t,n);if(r<e&&Vo(t[r],n))return r}return-1},We.sortedLastIndex=function(t,n){return ui(t,n,!0)},We.sortedLastIndexBy=function(t,n,e){return si(t,n,ca(e,2),!0)},We.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=ui(t,n,!0)-1;if(Vo(t[e],n))return e}return-1},We.startCase=Ku,We.startsWith=function(t,n,e){return t=xu(t),e=null==e?0:lr(vu(e),0,t.length),n=fi(n),t.slice(e,e+n.length)==n},We.subtract=Ts,We.sum=function(t){return t&&t.length?Fn(t,os):0},We.sumBy=function(t,n){return t&&t.length?Fn(t,ca(n,2)):0},We.template=function(t,n,r){var i=We.templateSettings;r&&xa(t,n,r)&&(n=e),t=xu(t),n=Mu({},n,i,ta);var a,o,u=Mu({},n.imports,i.imports,ta),s=Ru(u),l=Kn(u,s),c=0,f=n.interpolate||wt,h="__p += '",p=Ct((n.escape||wt).source+"|"+f.source+"|"+(f===J?ht:wt).source+"|"+(n.evaluate||wt).source+"|$","g"),_="//# sourceURL="+(Ot.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rn+"]")+"\n";t.replace(p,(function(n,e,r,i,u,s){return r||(r=i),h+=t.slice(c,s).replace(xt,ie),e&&(a=!0,h+="' +\n__e("+e+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+n.length,n})),h+="';\n";var g=Ot.call(n,"variable")&&n.variable;if(g){if(ct.test(g))throw new Mt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(V,""):h).replace(P,"$1").replace(q,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var d=ns((function(){return At(s,_+"return "+h).apply(e,l)}));if(d.source=h,Qo(d))throw d;return d},We.times=function(t,n){if((t=vu(t))<1||t>h)return[];var e=_,r=xe(t,_);n=ca(n),t-=_;for(var i=Gn(r,n);++e<t;)n(e);return i},We.toFinite=du,We.toInteger=vu,We.toLength=yu,We.toLower=function(t){return xu(t).toLowerCase()},We.toNumber=mu,We.toSafeInteger=function(t){return t?lr(vu(t),-9007199254740991,h):0===t?t:0},We.toString=xu,We.toUpper=function(t){return xu(t).toUpperCase()},We.trim=function(t,n,r){if((t=xu(t))&&(r||n===e))return Hn(t);if(!t||!(n=fi(n)))return t;var i=he(t),a=he(n);return ki(i,Qn(i,a),te(i,a)+1).join("")},We.trimEnd=function(t,n,r){if((t=xu(t))&&(r||n===e))return t.slice(0,pe(t)+1);if(!t||!(n=fi(n)))return t;var i=he(t);return ki(i,0,te(i,he(n))+1).join("")},We.trimStart=function(t,n,r){if((t=xu(t))&&(r||n===e))return t.replace(it,"");if(!t||!(n=fi(n)))return t;var i=he(t);return ki(i,Qn(i,he(n))).join("")},We.truncate=function(t,n){var r=30,i="...";if(ru(n)){var a="separator"in n?n.separator:a;r="length"in n?vu(n.length):r,i="omission"in n?fi(n.omission):i}var o=(t=xu(t)).length;if(ae(t)){var u=he(t);o=u.length}if(r>=o)return t;var s=r-fe(i);if(s<1)return i;var l=u?ki(u,0,s).join(""):t.slice(0,s);if(a===e)return l+i;if(u&&(s+=l.length-s),su(a)){if(t.slice(s).search(a)){var c,f=l;for(a.global||(a=Ct(a.source,xu(pt.exec(a))+"g")),a.lastIndex=0;c=a.exec(f);)var h=c.index;l=l.slice(0,h===e?s:h)}}else if(t.indexOf(fi(a),s)!=s){var p=l.lastIndexOf(a);p>-1&&(l=l.slice(0,p))}return l+i},We.unescape=function(t){return(t=xu(t))&&G.test(t)?t.replace(U,_e):t},We.uniqueId=function(t){var n=++Yt;return xu(t)+n},We.upperCase=Ju,We.upperFirst=Qu,We.each=xo,We.eachRight=bo,We.first=Ga,cs(We,(Ms={},br(We,(function(t,n){Ot.call(We.prototype,n)||(Ms[n]=t)})),Ms),{chain:!1}),We.VERSION="4.17.21",Sn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){We[t].placeholder=We})),Sn(["drop","take"],(function(t,n){Ue.prototype[t]=function(r){r=r===e?1:we(vu(r),0);var i=this.__filtered__&&!n?new Ue(this):this.clone();return i.__filtered__?i.__takeCount__=xe(r,i.__takeCount__):i.__views__.push({size:xe(r,_),type:t+(i.__dir__<0?"Right":"")}),i},Ue.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),Sn(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;Ue.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:ca(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),Sn(["head","last"],(function(t,n){var e="take"+(n?"Right":"");Ue.prototype[t]=function(){return this[e](1).value()[0]}})),Sn(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");Ue.prototype[t]=function(){return this.__filtered__?new Ue(this):this[e](1)}})),Ue.prototype.compact=function(){return this.filter(os)},Ue.prototype.find=function(t){return this.filter(t).head()},Ue.prototype.findLast=function(t){return this.reverse().find(t)},Ue.prototype.invokeMap=Jr((function(t,n){return"function"==typeof t?new Ue(this):this.map((function(e){return $r(e,t,n)}))})),Ue.prototype.reject=function(t){return this.filter(Io(ca(t)))},Ue.prototype.slice=function(t,n){t=vu(t);var r=this;return r.__filtered__&&(t>0||n<0)?new Ue(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=vu(n))<0?r.dropRight(-n):r.take(n-t)),r)},Ue.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ue.prototype.toArray=function(){return this.take(_)},br(Ue.prototype,(function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),a=We[i?"take"+("last"==n?"Right":""):n],o=i||/^find/.test(n);a&&(We.prototype[n]=function(){var n=this.__wrapped__,u=i?[1]:arguments,s=n instanceof Ue,l=u[0],c=s||Fo(n),f=function(t){var n=a.apply(We,Ln([t],u));return i&&h?n[0]:n};c&&r&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,p=!!this.__actions__.length,_=o&&!h,g=s&&!p;if(!o&&c){n=g?n:new Ue(this);var d=t.apply(n,u);return d.__actions__.push({func:go,args:[f],thisArg:e}),new qe(d,h)}return _&&g?t.apply(this,u):(d=this.thru(f),_?i?d.value()[0]:d.value():d)})})),Sn(["pop","push","shift","sort","splice","unshift"],(function(t){var n=Et[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);We.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(Fo(i)?i:[],t)}return this[e]((function(e){return n.apply(Fo(e)?e:[],t)}))}})),br(Ue.prototype,(function(t,n){var e=We[n];if(e){var r=e.name+"";Ot.call(Le,r)||(Le[r]=[]),Le[r].push({name:n,func:e})}})),Le[Wi(e,2).name]=[{name:"wrapper",func:e}],Ue.prototype.clone=function(){var t=new Ue(this.__wrapped__);return t.__actions__=Ei(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ei(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ei(this.__views__),t},Ue.prototype.reverse=function(){if(this.__filtered__){var t=new Ue(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ue.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Fo(t),r=n<0,i=e?t.length:0,a=function(t,n,e){var r=-1,i=e.length;for(;++r<i;){var a=e[r],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":n-=o;break;case"take":n=xe(n,t+o);break;case"takeRight":t=we(t,n-o)}}return{start:t,end:n}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,l=r?u:o-1,c=this.__iteratees__,f=c.length,h=0,p=xe(s,this.__takeCount__);if(!e||!r&&i==s&&p==s)return di(t,this.__actions__);var _=[];t:for(;s--&&h<p;){for(var g=-1,d=t[l+=n];++g<f;){var v=c[g],y=v.iteratee,m=v.type,w=y(d);if(2==m)d=w;else if(!w){if(1==m)continue t;break t}}_[h++]=d}return _},We.prototype.at=vo,We.prototype.chain=function(){return _o(this)},We.prototype.commit=function(){return new qe(this.value(),this.__chain__)},We.prototype.next=function(){this.__values__===e&&(this.__values__=gu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},We.prototype.plant=function(t){for(var n,r=this;r instanceof Pe;){var i=Xa(r);i.__index__=0,i.__values__=e,n?a.__wrapped__=i:n=i;var a=i;r=r.__wrapped__}return a.__wrapped__=t,n},We.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ue){var n=t;return this.__actions__.length&&(n=new Ue(this)),(n=n.reverse()).__actions__.push({func:go,args:[eo],thisArg:e}),new qe(n,this.__chain__)}return this.thru(eo)},We.prototype.toJSON=We.prototype.valueOf=We.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},We.prototype.first=We.prototype.head,un&&(We.prototype[un]=function(){return this}),We}();_n?((_n.exports=ge)._=ge,pn._=ge):hn._=ge}).call(Pr)}(qr,qr.exports);const Ur={marginLeft:20,marginRight:20,marginTop:20,marginBottom:20,heightTotal:500,widthTotal:800,colorScheme:Or};class Fr{_data=[];_marginTop=Ur.marginTop;_marginBottom=Ur.marginBottom;_marginLeft=Ur.marginLeft;_marginRight=Ur.marginRight;_heightTotal=Ur.heightTotal;_widthTotal=Ur.widthTotal;_height;_width;_unit;_className;_valuesRange;_dimensions;_scaleColor;_chartContainer;_chartSVG;_toolTip;_colorScale;_chartContent;_x;_y;constructor(t,n){this._data=t,this._widthTotal=n&&n.width||this._widthTotal,this._heightTotal=n&&n.height||this._heightTotal,this._marginTop=n&&n.marginTop||this._marginTop,this._marginBottom=n&&n.marginBottom||this._marginBottom,this._marginLeft=n&&n.marginLeft||this._marginLeft,this._marginTop=n&&n.marginTop||this._marginTop,this._height=this._heightTotal-this._marginBottom-this._marginTop,this._width=this._widthTotal-this._marginLeft-this._marginRight,this._y=n&&n.y||{},this._x=n&&n.x||{},this._unit=n&&n.unit||"",this._className="owidChart",this._unit=n&&n.unit||"",this._valuesRange=u(this._data,(t=>t.value)),this._dimensions={years:n&&n.years||this.getDimensionValues("year"),entities:n&&n.enitites||this.getDimensionValues("entityName")},this._scaleColor=br(Ur.colorScheme),this._chartContainer=Ut("div").attr("class","chartContainer").attr("style","position: relative; clear: both;"),this._chartSVG=this._chartContainer.append("svg"),this.setupSVGElements(),this.baseStartupSettings()}setupSVGElements(){this._chartSVG.attr("class",this._className).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",this._widthTotal).attr("height",this._heightTotal).attr("viewBox",`0 0 ${this._widthTotal} ${this._heightTotal}`).call((t=>t.append("style").text(this.css()))).call((t=>t.append("rect").attr("class","bgLayer").attr("width",this._widthTotal).attr("height",this._heightTotal).attr("fill","white")));this._chartSVG.selectAll("g.container").data([null]).join("g").attr("class","container").attr("transform",`translate(${this._marginLeft}, ${this._marginTop})`).call((t=>t.append("rect").attr("class","backgroundLayer").attr("width",this._width).attr("height",this._height).attr("fill","white"))).call((t=>t.append("g").attr("class","axis x").attr("transform",`translate(0, ${this._height})`))).call((t=>t.append("g").attr("class","axis y").attr("transform","translate(0,0)"))).select("rect.backgroundLayer").on("mousemove",(t=>this.handleMouseMove(t))).on("mouseleave",(()=>this.handleMouseLeave()))}baseStartupSettings(){this._chartSVG.attr("width",this._widthTotal).attr("height",this._heightTotal).attr("viewBox",`0 0 ${this._widthTotal} ${this._heightTotal}`),this._chartSVG.select("rect.bgLayer").attr("width",this._widthTotal).attr("height",this._heightTotal),this._chartSVG.select("g.container").attr("transform",`translate(${this._marginLeft}, ${this._marginTop})`),this._chartSVG.select("g.container").select("rect.backgroundLayer").attr("width",this._width).attr("height",this._height),this._chartSVG.select("g.container").select("g.axis.x").attr("transform",`translate(0, ${this._height})`),this._height=this._heightTotal-this._marginBottom-this._marginTop,this._width=this._widthTotal-this._marginLeft-this._marginRight,this._chartContainer.select("svg").select("g.container").attr("transform",`translate(${this._marginLeft}, ${this._marginTop})`),this._chartContainer.select("svg").select("g.container").select("rect.backgroundLayer").attr("width",this._width).attr("height",this._height),this._chartContainer.select("svg").select("g.axis.x").attr("transform",`translate(0, ${this._height})`)}startupSettings(){this.baseStartupSettings()}data(t){return arguments.length?(this._data=t,this.startupSettings(),this.render(),this):this._data}width(t){return arguments.length?(this._widthTotal=t,this.startupSettings(),this.render(),this):this._widthTotal}unit(t){return arguments.length?(this._unit=t,this.startupSettings(),this.render(),this):this._unit}x(t){return arguments.length?(this._x=t,this.startupSettings(),this.render(),this):this._x}y(t){return arguments.length?(this._y=t,this.startupSettings(),this.render(),this):this._y}handleMouseMove(t){Ft(t),Ft(t,this._chartContainer)}handleMouseLeave(){this._chartContent&&this._chartContent.hideMarker()}getDimensionValues(t){return qr.exports.chain(this._data).map((n=>n[t])).uniq().value()}getTextWidth(t,n,e){const r=document.createElement("canvas").getContext("2d");let i=null;return r&&(r.font=n+"px "+e,i=r.measureText(t).width),i}render(){}node(){return this._chartContainer.node()}css(){return'\n\n.chartContainer {\n  display: block;\n  background: white;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n\n.owidChart{\n    display: block;\n    background: white;\n    height: auto;\n    height: intrinsic;\n    max-width: 100%;\n}\n.owidChart text,\n.owidChart tspan {\n    white-space: pre;\n}\n.owidChart .axis text {\n    white-space: pre;    font-size: 16.2px;\n    fill: rgb(102, 102, 102);        \n}\n\n.owidChart .axis path {\n    display: none\n}\n.owidChart .axis.y line {\n    display: none\n}\n\n.GrapherComponent {\n    display: inline-block;\n    border-bottom: none;\n    border-radius: 2px;\n    text-align: left;\n\n    line-height: 1em;\n\n    background: white;\n    color: #333;\n\n    position: relative;\n\n    /* Hidden overflow x so that tooltips don\'t cause scrollbars \n    overflow: hidden;\n\n    border-radius: 2px;\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 2px 0px,\n        rgba(0, 0, 0, 0.25) 0px 2px 2px 0px;\n    z-index: $zindex-chart;\n\n    * {\n        box-sizing: border-box;\n    }\n\n    button {\n        background: none;\n        border: none;\n    }\n\n    .btn {\n        font-size: 0.8em;\n        white-space: normal;\n    }\n\n    .flash {\n        margin: 10px;\n    }\n\n    .clickable {\n        cursor: pointer;\n\n        a {\n            text-decoration: none;\n            &:visited {\n                color: initial;\n            }\n        }\n    }\n    input[type="checkbox"] {\n        cursor: pointer;\n    }\n\n    /* Make World line slightly thicker \n    svg .key-World_0 polyline {\n        stroke-width: 2 !important;\n    }\n\n    .projection .nv-line {\n        stroke-dasharray: 3, 3;\n    }\n\n    .projection .nv-point {\n        fill: #fff;\n        stroke-width: 1;\n        opacity: 0.5;\n    }\n\n    .projection .nv-point.hover {\n        stroke-width: 4;\n    }\n\n    a {\n        cursor: pointer;\n        color: #0645ad;\n        fill: #0645ad;\n        border-bottom: none;\n    }\n\n    h2 {\n        font-size: 2em;\n        margin-top: 0;\n        margin-bottom: 0.8em;\n        font-weight: 500;\n        line-height: 1.1;\n    }\n\n    .unstroked {\n        display: none;\n    }\n\n    .DownloadTab,\n    .tableTab,\n    .sourcesTab {\n        z-index: $zindex-tab;\n    }\n}\n\n\n'}}class Gr{colorScale;toolTip;containerWidth;constructor(t){this.colorScale=t&&t.colorScale||br(Or),this.containerWidth=t&&t.containerWidth||800,this.toolTip=Ut("div").attr("class","Tooltip").style("display","none").style("position","absolute").style("pointer-events","none").style("left","0px").style("top","0px").style("white-space","nowrap").style("background-color","rgba(255, 255, 255, 0.95)").style("box-shadow","rgba(0, 0, 0, 0.12) 0px 2px 2px, rgba(0, 0, 0, 0.35) 0px 0px 1px").style("border-radius","2px").style("text-align","left").style("font-size","0.9em").style("padding","0.3em").html('\n      <table>\n        <thead>\n          <tr><td colspan="3">DUMMY YEAR<td><tr>\n        </thead>\n        <tbody>\n        </tbody>\n      </table>\n      '),this.toolTip.append("table").style("font-size","0.9em").style("line-height","1.4em").style("white-space","normal").call((t=>t.append("thead"))).call((t=>t.append("tbody")))}render(){return this.toolTip}show(t,n){const e=n&&n.year,r=n&&n.data;this.toolTip.style("display","block").style("top",`${t[1]}px`).style("left",`${t[0]}px`),this.toolTip.select("thead").select("td").text(e),this.toolTip.select("tbody").selectAll("tr").data(r).join((t=>{t.append("tr").call((t=>t.append("td").attr("class","symbol").append("div").attr("style","width: 10px; height: 10px; border-radius: 5px; background-color: grey; display: inline-block; margin-right: 2px;"))).call((t=>t.append("td").attr("class","entityName"))).call((t=>t.append("td").attr("class","value")))}),(t=>{t.selectAll("td").style("color",(t=>this.colorScale(t.entityName))),t.select("td.symbol").select("div").style("background-color",(t=>this.colorScale(t.entityName))),t.select("td.entityName").text((t=>t.entityName)),t.select("td.value").text((t=>t.value))}));const i=this.toolTip.node().getBoundingClientRect().width;t[0]>this.containerWidth-i&&this.toolTip.style("left",t[0]-i-30+"px")}hide(){this.toolTip.style("display","none")}}const Hr=50;class Zr extends Fr{_scaleX=zr();_scaleY=zr();_axisX=M(this._scaleX);_axisY=A(this._scaleY);_seriesData=[];_selectedYearCallback;_years=[];_values=[];_maxYear;_visibleValues=[];constructor(t,n){super(t,n),this._dimensions={years:n&&n.years||this.getDimensionValues("year"),entities:n&&n.enitites||this.getDimensionValues("entityName")},this._marginLeft=n&&n.marginLeft,this._marginRight=n&&n._marginRight,this._marginLeft=n&&n.marginLeft||this.calculateMarginLeft(),this._marginRight=n&&n.marginRight||this.calculateMarginRight(),this._selectedYearCallback=n&&n.selectedYearCallback||function(){},this._toolTip=new Gr({colorScale:this._colorScale,containerWidth:this._width}),this._chartContainer.node().appendChild(this._toolTip.render().node()),this.startupSettings(),this.render()}startupSettings(){super.baseStartupSettings(),this._marginBottom=Hr,this._height=this._heightTotal-this._marginTop-this._marginBottom,this._valuesRange=u(this._data,(t=>t.value)),this._scaleX=zr().range([0,this._width]),this._scaleY=zr().range([this._height,0]).domain(this._valuesRange),this._axisX=M(this._scaleX).ticks(10,"d"),this._axisY=A(this._scaleY).ticks(10).tickFormat((t=>`${t} ${this._unit}`)),this._marginLeft=this.calculateMarginLeft()>this._marginLeft?this.calculateMarginLeft():this._marginLeft,this._marginRight=this.calculateMarginRight()>this._marginRight?this.calculateMarginRight():this._marginRight,this._width=this._widthTotal-this._marginLeft-this._marginRight,this._width=this._widthTotal-this._marginLeft-this._marginRight,super.baseStartupSettings(),this._scaleX.range([0,this._width]),this._scaleY.range([this._height,0]),this._seriesData=qr.exports.chain(this._data).groupBy((t=>t.entityName)).map(((t,n)=>({name:n,data:t}))).value(),this._y&&this._y.grid&&this.showGridY(),this._x&&this._x.grid&&this.showGridX(),this._years=qr.exports.chain(this._data).map((t=>t.year)).uniq().value(),this._values=qr.exports.chain(this._data).map((t=>t.value)).uniq().value(),this._maxYear=qr.exports.max(this._years),this._visibleValues=qr.exports.range(Math.floor(qr.exports.min(this._values)),Math.ceil(qr.exports.max(this._values))).filter((t=>t%5==0)),this._seriesData=qr.exports.chain(this._data).groupBy((t=>t.entityName)).map(((t,n)=>({name:n,data:t}))).value()}render(){const t=this._chartContainer.select("svg").select("g.container");t.select("rect.backgroundLayer").on("mousemove",(t=>this.handleMouseMove(t))).on("mouseleave",(()=>this.handleMouseLeave()));const n=u(this._years),e=u(this._values);this._scaleX.domain(n),this._scaleY.domain(e),t.select("g.axis.x").call(this._axisX),t.select("g.axis.y").call(this._axisY);const r=t.selectAll("g.lineChartContainer").data([null]).join("g").attr("class","lineChartContainer"),i=Wr().x((t=>this._scaleX(t.year))).y((t=>this._scaleY(t.value))),a=r.selectAll("g.serie").data(this._seriesData,(t=>t.name)).join("g").attr("class",(t=>`serie ${t.name}`));a.selectAll("path").data((t=>[t.data])).join("path").attr("d",(t=>i(t))).attr("fill","none").attr("stroke-width",2).attr("stroke",(t=>this._scaleColor(t[0].entityName))),a.selectAll("circle.dot").data((t=>t.data)).join("circle").attr("class","dot").attr("fill",(t=>this._scaleColor(t.entityName))).attr("cx",(t=>this._scaleX(t.year))).attr("cy",(t=>this._scaleY(t.value))).attr("r",2);a.selectAll("g.legendMark").data((t=>[qr.exports.last(t.data)])).join("g").attr("class","legendMark").attr("transform",(t=>`translate(${this._scaleX(this._maxYear)},${this._scaleY(t.value)})`)).selectAll("text").data((t=>[t])).join("text").attr("dx",10).attr("text-anchor","start").attr("font-size",12).attr("font-weight",400).attr("fill",(t=>this._scaleColor(t.entityName))).text((t=>t.entityName))}selectedYearCallback(t){return arguments.length?(this._selectedYearCallback=t,this):this._selectedYearCallback}handleMouseMove(t){const n=Ft(t),e=Ft(t,this._chartContainer),r=this.getClosestYear(n[0]);this._chartContent&&this._chartContent.showMarker(r);const i=qr.exports.chain(this._seriesData).map((t=>{const n=t.data.find((t=>t.year==r));return{entityName:t.name,value:n&&n.value||"NA"}})).sortBy((t=>-t.value)).value();this._toolTip.show([e[0],.25*this._height],{year:r,data:i}),this._selectedYearCallback(r)}handleMouseLeave(){this._chartContent&&this._chartContent.hideMarker(),this._toolTip.hide()}getDimensionValues(t){return qr.exports.chain(this._data).map((n=>n[t])).uniq().value()}calculateMarginLeft(){const t=this._axisY.scale().ticks().map((t=>`${t} ${this._unit}`)).map((t=>this.getTextWidth(t,16.2,"sans-serif")));return 1.5*qr.exports.max(t)||10}calculateMarginRight(){const t=this._dimensions.entities.map((t=>`${t}`)).map((t=>this.getTextWidth(t,16.2,"sans-serif")));return 1.5*qr.exports.max(t)||10}getTextWidth(t,n,e){const r=document.createElement("canvas").getContext("2d");let i=null;return r&&(r.font=n+"px "+e,i=r.measureText(t).width),i}showGridX(){const t=this._axisX.scale().ticks();this._chartSVG.select("g.container").append("g").attr("class","grid x").selectAll("line").data(t).join("line").attr("class","grid x").attr("x1",(t=>this._scaleX(t))).attr("x2",(t=>this._scaleX(t))).attr("y1",0).attr("y2",this._height).attr("stroke-dasharray","3,2").attr("stroke-width",1).attr("stroke","lightgrey")}showGridY(){const t=this._axisY.scale().ticks();this._chartSVG.select("g.container").append("g").attr("class","grid y").selectAll("line").data(t).join("line").attr("class","grid y").attr("x1",0).attr("x2",this._width).attr("y1",(t=>this._scaleY(t))).attr("y2",(t=>this._scaleY(t))).attr("stroke-dasharray","3,2").attr("stroke-width",1).attr("stroke","lightgrey")}getClosestYear(t){return this._dimensions.years.find((n=>n==Math.round(this._scaleX.invert(t))))}node(){return this._chartContainer.node()}}class Kr{colorScale;tooltipContainer;toolTip;containerWidth;constructor(t){this.colorScale=t&&t.colorScale||br(Or),this.containerWidth=t&&t.containerWidth||800,this.tooltipContainer=Ut("div").attr("class","tooltip-container"),this.toolTip=this.tooltipContainer.attr("class","Tooltip").style("display","none").style("position","absolute").style("pointer-events","none").style("left","0px").style("top","0px").style("white-space","nowrap").style("background-color","rgba(255, 255, 255, 0.95)").style("box-shadow","rgba(0, 0, 0, 0.12) 0px 2px 2px, rgba(0, 0, 0, 0.35) 0px 0px 1px").style("border-radius","2px").style("text-align","left").style("font-size","0.9em").style("padding","0.3em").html('\n      <table>\n        <thead>\n          <tr><td colspan="3">DUMMY YEAR<td><tr>\n        </thead>\n        <tbody>\n        </tbody>\n      </table>\n      '),this.toolTip.append("table").style("font-size","0.9em").style("line-height","1.4em").style("white-space","normal").call((t=>t.append("thead"))).call((t=>t.append("tbody")))}render(){return this.tooltipContainer}show(t,n){const e=n&&n.year,r=n&&n.data;this.tooltipContainer.style("display","block").style("top",`${t[1]}px`).style("left",`${t[0]}px`),this.toolTip.select("thead").select("td").text(e),this.toolTip.select("tbody").selectAll("tr").data(r).join((t=>{t.append("tr").call((t=>t.append("td").attr("class","symbol").append("div").attr("style","width: 10px; height: 10px; border-radius: 5px; background-color: grey; display: inline-block; margin-right: 2px;"))).call((t=>t.append("td").attr("class","entityName"))).call((t=>t.append("td").attr("class","value")))}),(t=>{t.selectAll("td").style("color",(t=>this.colorScale(t.entityName))),t.select("td.symbol").select("div").style("background-color",(t=>this.colorScale(t.entityName))),t.select("td.entityName").text((t=>t.entityName)),t.select("td.value").text((t=>t.value))}));const i=this.tooltipContainer.node().getBoundingClientRect().width;t[0]>this.containerWidth-i&&this.tooltipContainer.style("left",t[0]-i-30+"px")}hide(){this.tooltipContainer.style("display","none")}}const Jr=50,Qr=.2,ti=10,ni=16;class ei extends Fr{_scaleX;_scaleY;_axisX;_axisY;_year;_latestYear;_entities=[];_singleYearData;_maxValue;constructor(t,n){super(t,n),this._year=n&&n.year,this._marginBottom=Jr,this._toolTip=new Kr({colorScale:this._colorScale,containerWidth:this._width}),this._chartContainer.node().appendChild(this._toolTip.render().node()),this._scaleX=zr(),this._scaleY=kr(),this._axisX=M(this._scaleX),this._axisY=A(this._scaleY),this.startupSettings(),this.render()}startupSettings(){this._latestYear=qr.exports.chain(this._data).map((t=>t.year)).max().value(),this._year=this._year||this._latestYear,this._singleYearData=this._data.filter((t=>t.year==this._year)),super.baseStartupSettings(),this._entities=qr.exports.chain(this._singleYearData).sortBy((t=>t.value)).map((t=>t.entityName)).uniq().value(),this._maxValue=qr.exports.chain(this._singleYearData).map((t=>t.value)).max().value(),this._scaleX.range([0,this._width]).domain([0,this._maxValue]),this._scaleY.padding(Qr).range([this._height,0]).domain(this._entities),this._axisX.ticks(10).tickFormat((t=>`${t} ${this._unit}`)),this._marginLeft=this.calculateMarginLeft()>this._marginLeft?this.calculateMarginLeft():this._marginLeft,this._marginRight=this.calculateMarginRight()>this._marginRight?this.calculateMarginRight():this._marginRight,super.baseStartupSettings(),this._scaleX.range([0,this._width])}render(){const t=this._chartContainer.select("svg").select("g.container");t.select("g.axis.x").call(this._axisX),t.select("g.axis.y").call(this._axisY),this._x&&this._x.grid&&this.showGridX(),t.selectAll("rect.entity").data(this._singleYearData,(t=>t.entityName)).join("rect").attr("class","entity").attr("fill","cyan").attr("y",(t=>t.entityName&&this._scaleY(t.entityName))).attr("height",this._scaleY.bandwidth()).attr("width",(t=>this._scaleX(t.value))),t.selectAll("text.value").data(this._singleYearData,(t=>t.entityName)).join("text").attr("class","value barLabel").attr("x",(t=>this._scaleX(t.value))).attr("y",(t=>t.entityName&&this._scaleY(t.entityName))).attr("dy",this._scaleY.bandwidth()/2+ni/2).attr("dx",ti).attr("font-size",ni).attr("text-anchor","start").text((t=>`${t.value} ${this._unit}`)),t.select("rect.backgroundLayer").on("mousemove",(t=>this.handleMouseMove(t))).on("mouseleave",(()=>this.handleMouseLeave())),this._chartContainer.selectAll("style").data([null]).join("style").text("\n\n  .barLabel {\n    white-space: pre;    \n    fill: rgb(102, 102, 102);   \n  }\n}\n\n\n")}year(t){return arguments.length?(this._year=t,this.startupSettings(),this.render(),this):this._year}handleMouseMove(t){}handleMouseLeave(){}getDimensionValues(t){return qr.exports.chain(this._data).map((n=>n[t])).uniq().value()}calculateMarginLeft(){const t=this._axisY.scale().domain().map((t=>`${t}`)).map((t=>this.getTextWidth(t,16.2,"sans-serif")));return 1.5*qr.exports.max(t)||10}calculateMarginRight(){const t=this._dimensions.entities.map((t=>`${t}`)).map((t=>this.getTextWidth(t,16.2,"sans-serif")));return 1.5*qr.exports.max(t)||10}getTextWidth(t,n,e){const r=document.createElement("canvas").getContext("2d");let i=null;return r&&(r.font=n+"px "+e,i=r.measureText(t).width),i}showGridX(){const t=this._axisX.scale().ticks();this._chartSVG.select("g.container").selectAll("g.grid.x").data([null]).join("g").attr("class","grid x").selectAll("line").data(t).join("line").attr("class","grid x").attr("x1",(t=>this._scaleX(t))).attr("x2",(t=>this._scaleX(t))).attr("y1",0).attr("y2",this._height).attr("stroke-dasharray","3,2").attr("stroke-width",1).attr("stroke","lightgrey")}showGridY(){}getClosestYear(t){return this._dimensions.years.find((n=>n==Math.floor(this._scaleX.invert(t))))}node(){return this._chartContainer.node()}}t.barChart=function(t,n){return new ei(t,n)},t.trendChart=function(t,n){return new Zr(t,n)},t.version="0.2.3",Object.defineProperty(t,"__esModule",{value:!0})}));
